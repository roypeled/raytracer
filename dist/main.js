(()=>{"use strict";eval('\n;// CONCATENATED MODULE: ./src/Utils.ts\n\nfunction degreesToRadians(degrees) {\n    return degrees * Math.PI / 180;\n}\nfunction randomInRange(min, max) {\n    return min + (max - min) * Math.random();\n}\nfunction clamp(x, min, max) {\n    if (x < min)\n        return min;\n    if (x > max)\n        return max;\n    return x;\n}\nfunction randomInUnitSphere() {\n    while (true) {\n        var p = Vector_Vector.randomInRange(-1, 1);\n        if (p.length_squared() >= 1)\n            continue;\n        return p;\n    }\n}\nfunction randomUnitVector() {\n    return Vector_Vector.unitVector(randomInUnitSphere());\n}\nfunction randomInHemisphere(normal) {\n    var inUnitSphere = randomInUnitSphere();\n    if (Vector.dot(inUnitSphere, normal) > 0)\n        return inUnitSphere;\n    else\n        return inUnitSphere.multiply(-1);\n}\nfunction randomInUnitDisk() {\n    while (true) {\n        var p = new Vector_Vector(randomInRange(-1, 1), randomInRange(-1, 1), 0);\n        if (p.length_squared() >= 1)\n            continue;\n        return p;\n    }\n}\n\n;// CONCATENATED MODULE: ./src/Vector.ts\n\nvar Vector_Vector = /** @class */ (function () {\n    function Vector(x, y, z) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n    Vector.prototype.subtract = function (v) {\n        if (v instanceof Vector)\n            return new Vector(this.x - v.x, this.y - v.y, this.z - v.z);\n        else\n            return new Vector(this.x - v, this.y - v, this.z - v);\n    };\n    Vector.prototype.subtractFrom = function (v) {\n        return new Vector(this.x - v.x, this.y - v.y, this.z - v.z);\n    };\n    Vector.prototype.add = function (v) {\n        if (v instanceof Vector)\n            return new Vector(this.x + v.x, this.y + v.y, this.z + v.z);\n        else\n            return new Vector(this.x + v, this.y + v, this.z + v);\n    };\n    Vector.prototype.multiply = function (v) {\n        if (v instanceof Vector)\n            return new Vector(this.x * v.x, this.y * v.y, this.z * v.z);\n        else\n            return new Vector(this.x * v, this.y * v, this.z * v);\n    };\n    Vector.prototype.divide = function (v) {\n        if (v instanceof Vector)\n            return new Vector(this.x / v.x, this.y / v.y, this.z / v.z);\n        else\n            return new Vector(this.x / v, this.y / v, this.z / v);\n    };\n    Vector.prototype.length_squared = function () {\n        var sqrd = this.multiply(this);\n        return sqrd.x + sqrd.y + sqrd.z;\n    };\n    Vector.prototype.length = function () {\n        return Math.sqrt(this.length_squared());\n    };\n    Vector.prototype.writeColor = function (samplesPerPixel) {\n        return Vector.writeColor(this, samplesPerPixel);\n    };\n    Vector.prototype.nearZero = function () {\n        var s = 1e-8;\n        return (Math.abs(this.x) < s)\n            && (Math.abs(this.y) < s)\n            && (Math.abs(this.z) < s);\n    };\n    Vector.reflect = function (v1, v2) {\n        return v1.subtract(v2.multiply(2 * Vector.dot(v1, v2)));\n    };\n    Vector.refract = function (v1, v2, etaiOverEtat) {\n        var cosTheta = Math.min(Vector.dot(v1.multiply(-1), v2), 1);\n        var rOutPerp = v1.add(v2.multiply(cosTheta))\n            .multiply(etaiOverEtat);\n        var rOutParallel = v2.multiply(-Math.sqrt(Math.abs(1 - rOutPerp.length_squared())));\n        return rOutPerp.add(rOutParallel);\n    };\n    Vector.add = function (v1, v2) {\n        return v1.add(v2);\n    };\n    Vector.subtract = function (v1, v2) {\n        return v1.subtract(v2);\n    };\n    Vector.multiply = function (v1, v2) {\n        return v1.multiply(v2);\n    };\n    Vector.divide = function (t, v) {\n        return v.divide(t);\n    };\n    Vector.dot = function (v1, v2) {\n        return v1.x * v2.x\n            + v1.y * v2.y\n            + v1.z * v2.z;\n    };\n    Vector.cross = function (v1, v2) {\n        return new Vector(v1.y * v2.z - v1.z * v2.y, v1.z * v2.x - v1.x * v2.z, v1.x * v2.y - v1.y * v2.x);\n    };\n    Vector.unitVector = function (v) {\n        return v.divide(v.length());\n    };\n    Vector.writeColor = function (v, samplesPerPixel) {\n        var r = v.x;\n        var g = v.y;\n        var b = v.z;\n        var scale = 1 / samplesPerPixel;\n        r = Math.sqrt(scale * r);\n        g = Math.sqrt(scale * g);\n        b = Math.sqrt(scale * b);\n        return [\n            256 * clamp(r, 0, .999),\n            256 * clamp(g, 0, .999),\n            256 * clamp(b, 0, .999),\n            255,\n        ];\n    };\n    Vector.random = function () {\n        return new Vector(Math.random(), Math.random(), Math.random());\n    };\n    Vector.randomInRange = function (min, max) {\n        return new Vector(randomInRange(min, max), randomInRange(min, max), randomInRange(min, max));\n    };\n    return Vector;\n}());\n\n\n;// CONCATENATED MODULE: ./src/Hittable.ts\n\nvar HitRecord = /** @class */ (function () {\n    function HitRecord(p, t, normal) {\n        if (p === void 0) { p = null; }\n        if (t === void 0) { t = null; }\n        if (normal === void 0) { normal = null; }\n        this.p = p;\n        this.t = t;\n        this.normal = normal;\n    }\n    HitRecord.prototype.setFaceNormal = function (r, outwardNormal) {\n        this.frontFace = Vector_Vector.dot(r.direction, outwardNormal) < 0;\n        this.normal = this.frontFace ? outwardNormal : outwardNormal.multiply(-1);\n    };\n    return HitRecord;\n}());\n\n\n;// CONCATENATED MODULE: ./src/Ray.ts\n\n\nvar Ray = /** @class */ (function () {\n    function Ray(origin, direction) {\n        this.origin = origin;\n        this.direction = direction;\n    }\n    Ray.prototype.at = function (t) {\n        return this.origin.add(this.direction.multiply(t));\n    };\n    Ray.prototype.hitSphere = function (center, radius, r) {\n        var oc = r.origin.subtract(center);\n        var a = r.direction.length_squared();\n        var halfB = Vector_Vector.dot(oc, r.direction);\n        var c = oc.length_squared() - radius * radius;\n        var discriminant = halfB * halfB - a * c;\n        if (discriminant < 0) {\n            return -1;\n        }\n        return (-halfB - Math.sqrt(discriminant)) / a;\n    };\n    Ray.prototype.color = function (world, depth) {\n        if (depth <= 0)\n            return new Vector_Vector(0, 0, 0);\n        var rec = new HitRecord();\n        if (world.hit(this, 0.00001, Infinity, rec)) {\n            var scattered = new Ray(null, null);\n            var attenuation = new Vector_Vector(0, 0, 0);\n            if (rec.material.scatter(this, rec, attenuation, scattered))\n                return attenuation.multiply(scattered.color(world, depth - 1));\n            return new Vector_Vector(0, 0, 0);\n        }\n        var unitDirection = Vector_Vector.unitVector(this.direction);\n        var t = .5 * (unitDirection.y + 1);\n        var white = new Vector_Vector(1, 1, 1);\n        var blue = new Vector_Vector(.5, .7, 1);\n        return white\n            .multiply(1 - t)\n            .add(blue.multiply(t));\n    };\n    return Ray;\n}());\n\n\n;// CONCATENATED MODULE: ./src/Camera.ts\n\n\n\nvar Camera = /** @class */ (function () {\n    function Camera(lookFrom, lookAt, vUp, vFov, aspectRatio, aperture, focusDist) {\n        this.lookFrom = lookFrom;\n        this.lookAt = lookAt;\n        this.vUp = vUp;\n        this.vFov = vFov;\n        this.aspectRatio = aspectRatio;\n        this.aperture = aperture;\n        this.focusDist = focusDist;\n        this.init();\n    }\n    Camera.prototype.moveRight = function () {\n        this.lookFrom.z += .5;\n        this.init();\n    };\n    Camera.prototype.moveLeft = function () {\n        this.lookFrom.z -= .5;\n        this.init();\n    };\n    Camera.prototype.moveUp = function () {\n        this.lookFrom.y += .5;\n        this.init();\n    };\n    Camera.prototype.moveDown = function () {\n        this.lookFrom.y -= .5;\n        this.init();\n    };\n    Camera.prototype.zoomIn = function () {\n        this.vFov -= .5;\n        this.init();\n    };\n    Camera.prototype.zoomOut = function () {\n        this.vFov += .5;\n        this.init();\n    };\n    Camera.prototype.init = function () {\n        var theta = degreesToRadians(this.vFov);\n        var h = Math.tan(theta / 2);\n        this.viewportHeight = 2 * h;\n        this.viewportWidth = this.aspectRatio * this.viewportHeight;\n        var w = Vector_Vector.unitVector(this.lookFrom.subtract(this.lookAt));\n        this.u = Vector_Vector.unitVector(Vector_Vector.cross(this.vUp, w));\n        this.v = Vector_Vector.cross(w, this.u);\n        this.lensRadius = this.aperture / 2;\n        this.origin = this.lookFrom;\n        this.horizontal = this.u.multiply(this.viewportWidth).multiply(this.focusDist);\n        this.vertical = this.v.multiply(this.viewportHeight).multiply(this.focusDist);\n        this.lowerLeftCorner = this.origin\n            .subtract(this.horizontal.divide(2))\n            .subtract(this.vertical.divide(2))\n            .subtract(w.multiply(this.focusDist));\n    };\n    Camera.prototype.getRay = function (s, t) {\n        var rd = randomInUnitDisk().multiply(this.lensRadius);\n        var offset = this.u.multiply(rd.x)\n            .add(this.v.multiply(rd.y));\n        return new Ray(this.origin.add(offset), this.lowerLeftCorner\n            .add(this.horizontal.multiply(s))\n            .add(this.vertical.multiply(t))\n            .subtract(this.origin)\n            .subtract(offset));\n    };\n    return Camera;\n}());\n\n\n;// CONCATENATED MODULE: ./src/HittableList.ts\nvar HittableList = /** @class */ (function () {\n    function HittableList() {\n        this.list = [];\n    }\n    HittableList.prototype.add = function (object) {\n        this.list.push(object);\n    };\n    HittableList.prototype.clear = function () {\n        this.list = [];\n    };\n    HittableList.prototype.hit = function (r, tMin, tMax, record) {\n        var tempRec = record;\n        var hitAnything = false;\n        var closestSoFar = tMax;\n        for (var _i = 0, _a = this.list; _i < _a.length; _i++) {\n            var object = _a[_i];\n            if (object.hit(r, tMin, closestSoFar, tempRec)) {\n                hitAnything = true;\n                closestSoFar = tempRec.t;\n                this.merge(record, tempRec);\n            }\n        }\n        return hitAnything;\n    };\n    HittableList.prototype.merge = function (target, object) {\n        target.normal = object.normal;\n        target.frontFace = object.frontFace;\n        target.material = object.material;\n        target.p = object.p;\n        target.t = object.t;\n    };\n    return HittableList;\n}());\n\n\n;// CONCATENATED MODULE: ./src/Material.ts\n\n\n\nvar Lambertian = /** @class */ (function () {\n    function Lambertian(color) {\n        this.color = color;\n    }\n    Lambertian.prototype.scatter = function (rIn, rec, attenuation, scattered) {\n        var scatterDirection = rec.normal.add(randomUnitVector());\n        if (scatterDirection.nearZero())\n            scatterDirection = rec.normal;\n        Object.assign(scattered, new Ray(rec.p, scatterDirection));\n        Object.assign(attenuation, this.color);\n        return true;\n    };\n    return Lambertian;\n}());\n\nvar Metal = /** @class */ (function () {\n    function Metal(color, fuzz) {\n        this.color = color;\n        this.fuzz = fuzz;\n    }\n    Metal.prototype.scatter = function (rIn, rec, attenuation, scattered) {\n        var reflect = Vector_Vector.reflect(Vector_Vector.unitVector(rIn.direction), rec.normal);\n        Object.assign(scattered, new Ray(rec.p, reflect.add(randomInUnitSphere().multiply(this.fuzz))));\n        Object.assign(attenuation, this.color);\n        return Vector_Vector.dot(scattered.direction, rec.normal) > 0;\n    };\n    return Metal;\n}());\n\nvar Dielectric = /** @class */ (function () {\n    function Dielectric(indexOfRefraction) {\n        this.indexOfRefraction = indexOfRefraction;\n    }\n    Dielectric.prototype.scatter = function (rIn, rec, attenuation, scattered) {\n        var refractionRatio = rec.frontFace ? 1 / this.indexOfRefraction : this.indexOfRefraction;\n        var unitDirection = Vector_Vector.unitVector(rIn.direction);\n        var cosTheta = Math.min(Vector_Vector.dot(unitDirection.multiply(-1), rec.normal), 1);\n        var sinTheta = Math.sqrt(1 - cosTheta * cosTheta);\n        var cannotRefract = refractionRatio * sinTheta > 1;\n        var direction;\n        if (cannotRefract || this.reflectance(cosTheta, refractionRatio) > Math.random())\n            direction = Vector_Vector.reflect(unitDirection, rec.normal);\n        else\n            direction = Vector_Vector.refract(unitDirection, rec.normal, refractionRatio);\n        Object.assign(scattered, new Ray(rec.p, direction));\n        Object.assign(attenuation, new Vector_Vector(1, 1, 1));\n        return true;\n    };\n    Dielectric.prototype.reflectance = function (cosine, refIdx) {\n        var r0 = (1 - refIdx) / (1 + refIdx);\n        r0 = r0 * r0;\n        return r0 + (1 - r0) * Math.pow((1 - cosine), 5);\n    };\n    return Dielectric;\n}());\n\n\n;// CONCATENATED MODULE: ./src/Sphere.ts\n\nvar Sphere = /** @class */ (function () {\n    function Sphere(center, radius, material) {\n        this.center = center;\n        this.radius = radius;\n        this.material = material;\n    }\n    Sphere.prototype.hit = function (r, tMin, tMax, rec) {\n        var oc = r.origin.subtract(this.center);\n        var a = r.direction.length_squared();\n        var halfB = Vector_Vector.dot(oc, r.direction);\n        var c = oc.length_squared() - this.radius * this.radius;\n        var discriminant = halfB * halfB - a * c;\n        if (discriminant < 0)\n            return false;\n        var sqrt = Math.sqrt(discriminant);\n        var root = (-halfB - sqrt) / a;\n        if (root < tMin || tMax < root) {\n            root = (-halfB + sqrt) / a;\n            if (root < tMin || tMax < root)\n                return false;\n        }\n        rec.t = root;\n        rec.p = r.at(rec.t);\n        var outwardNormal = rec.p\n            .subtract(this.center)\n            .divide(this.radius);\n        rec.setFaceNormal(r, outwardNormal);\n        rec.material = this.material;\n        return true;\n    };\n    return Sphere;\n}());\n\n\n;// CONCATENATED MODULE: ./src/RandomScene.ts\n\n\n\n\n\nvar RandomScene = /** @class */ (function () {\n    function RandomScene() {\n        this.world = new HittableList();\n        this.groundMat = new Lambertian(new Vector_Vector(.5, .5, .5));\n        this.world.add(new Sphere(new Vector_Vector(0, -1000, 0), 1000, this.groundMat));\n        var balls = 5;\n        for (var a = -balls; a < balls; a++) {\n            for (var b = -balls; b < balls; b++) {\n                var autoChooseMat = Math.random();\n                var center = new Vector_Vector(a + 0.9 * Math.random(), 0.2, b + 0.9 * Math.random());\n                if ((center.subtract(new Vector_Vector(4, 0.2, 0))).length() > 0.9) {\n                    var r = randomInRange(.01, .4);\n                    if (autoChooseMat < 0.8) {\n                        // diffuse\n                        var albedo = Vector_Vector.random().multiply(Vector_Vector.random());\n                        var sphereMaterial = new Lambertian(albedo);\n                        this.world.add(new Sphere(center, r, sphereMaterial));\n                    }\n                    else if (autoChooseMat < 0.95) {\n                        // metal\n                        var albedo = Vector_Vector.randomInRange(0.5, 1);\n                        var fuzz = randomInRange(0, 0.5);\n                        var sphereMaterial = new Metal(albedo, fuzz);\n                        this.world.add(new Sphere(center, r, sphereMaterial));\n                    }\n                    else {\n                        // glass\n                        var sphereMaterial = new Dielectric(1.5);\n                        this.world.add(new Sphere(center, r, sphereMaterial));\n                    }\n                }\n            }\n        }\n        var material1 = new Dielectric(1.5);\n        this.world.add(new Sphere(new Vector_Vector(0, 1, 0), randomInRange(.5, 1), material1));\n        var material2 = new Lambertian(new Vector_Vector(0.4, 0.2, 0.1));\n        this.world.add(new Sphere(new Vector_Vector(-4, 1, 0), randomInRange(.5, 1), material2));\n        var material3 = new Metal(new Vector_Vector(0.7, 0.6, 0.5), 0.0);\n        this.world.add(new Sphere(new Vector_Vector(4, 1, 0), randomInRange(.5, 1), material3));\n    }\n    return RandomScene;\n}());\n\n\n;// CONCATENATED MODULE: ./src/Stats.ts\nvar Stats = /** @class */ (function () {\n    function Stats() {\n        this.start = new Date().getTime();\n        this.message = "Use arrow keys to move camera, \'o\' - zoom out, \'i\' - zoom in";\n        this.el = document.createElement("pre");\n        this.el.innerText = this.message;\n        document.body.appendChild(this.el);\n    }\n    Stats.prototype.set = function (totalPixels, renderedPixels, pointsPerFrame) {\n        var percentage = Math.round(renderedPixels / totalPixels * 100);\n        var now = new Date().getTime();\n        var duration = now - this.start;\n        var elapsedMinutes = Math.floor(duration / (1000 * 60));\n        var elapsedSeconds = Math.floor((duration - (elapsedMinutes * 1000 * 60)) / 1000);\n        this.el.innerText = this.message + " || " + percentage + "% || " + elapsedMinutes + ":" + elapsedSeconds + " elapsed || rendered " + pointsPerFrame + " points per frame";\n    };\n    return Stats;\n}());\nvar stats = new Stats();\n\n;// CONCATENATED MODULE: ./src/Renderer.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\nvar ASPECT_RATIO = 3 / 2;\nvar lookFrom = new Vector_Vector(13, 2, 3);\nvar lookAt = new Vector_Vector(0, 0, 0);\nvar vup = new Vector_Vector(0, 1, 0);\nvar distToFocus = 10;\nvar aperture = .1;\nvar imageWidth = 600;\nvar Renderer = /** @class */ (function () {\n    function Renderer() {\n    }\n    Renderer.createCanvas = function () {\n        if (this.canvas)\n            return;\n        this.IMAGE_HEIGHT = this.IMAGE_WIDTH / ASPECT_RATIO;\n        this.canvas = document.createElement(\'canvas\');\n        this.canvas.setAttribute(\'style\', \'transform: rotate(180deg)\');\n        this.ctx = this.canvas.getContext(\'2d\');\n        this.canvas.setAttribute(\'width\', this.IMAGE_WIDTH + "px");\n        this.canvas.setAttribute(\'height\', this.IMAGE_HEIGHT + "px");\n        document.body.appendChild(this.canvas);\n        this.imageData = this.ctx.createImageData(this.IMAGE_WIDTH, this.IMAGE_HEIGHT);\n        this.data = this.imageData.data;\n    };\n    Renderer.wait = function (time) {\n        if (time === void 0) { time = 0; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve) { return setTimeout(resolve, time); })];\n            });\n        });\n    };\n    Renderer.smartRender = function () {\n        var _this = this;\n        var cancel = function () { return Promise.resolve(); };\n        var canceled = false;\n        function run() {\n            return __awaiter(this, void 0, void 0, function () {\n                var render;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            render = Renderer.quickRender();\n                            cancel = render.cancel;\n                            return [4 /*yield*/, render.action];\n                        case 1:\n                            _a.sent();\n                            if (canceled)\n                                return [2 /*return*/];\n                            render = Renderer.fullRender();\n                            cancel = render.cancel;\n                            return [4 /*yield*/, render.action];\n                        case 2:\n                            _a.sent();\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        }\n        run();\n        return function () { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                console.log(\'cancel\');\n                canceled = true;\n                return [2 /*return*/, cancel()];\n            });\n        }); };\n    };\n    Renderer.quickRender = function () {\n        return this.render(1, 3, false);\n    };\n    Renderer.fullRender = function () {\n        return this.render(10, 20, true);\n    };\n    Renderer.render = function (samplesPerPixel, maxDepth, showStats) {\n        var _this = this;\n        if (showStats === void 0) { showStats = false; }\n        var cancelled = false;\n        this.firstRun = false;\n        var render = function () { return __awaiter(_this, void 0, void 0, function () {\n            var j, i, frameLength, start, count, frameCount, _i, _a, _b, i, j, now;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        // Image\n                        this.createCanvas();\n                        this.renderPoints = [];\n                        for (j = this.IMAGE_HEIGHT - 1; j >= 0; --j) {\n                            for (i = 0; i < this.IMAGE_WIDTH; ++i) {\n                                this.renderPoints.push([i, j]);\n                            }\n                        }\n                        this.renderPoints = this.renderPoints.sort(function () { return Math.random() - .5; });\n                        frameLength = 1000 / 24 * .8;\n                        console.log(\'render frameLength\', frameLength);\n                        start = new Date().getTime();\n                        showStats && stats.set(this.renderPoints.length, 0, 0);\n                        count = 0;\n                        frameCount = 0;\n                        _i = 0, _a = this.renderPoints;\n                        _c.label = 1;\n                    case 1:\n                        if (!(_i < _a.length)) return [3 /*break*/, 4];\n                        _b = _a[_i], i = _b[0], j = _b[1];\n                        this.renderRay(i, j, samplesPerPixel, maxDepth);\n                        count++;\n                        frameCount++;\n                        now = new Date().getTime();\n                        if (!(now - start > frameLength)) return [3 /*break*/, 3];\n                        this.ctx.putImageData(this.imageData, 0, 0);\n                        now = new Date().getTime();\n                        return [4 /*yield*/, this.wait(1000 / 24 - (now - start))];\n                    case 2:\n                        _c.sent();\n                        if (cancelled) {\n                            console.log(\'before cancel\', count);\n                            return [2 /*return*/];\n                        }\n                        showStats && stats.set(this.renderPoints.length, count, frameCount);\n                        start = now;\n                        frameCount = 0;\n                        _c.label = 3;\n                    case 3:\n                        _i++;\n                        return [3 /*break*/, 1];\n                    case 4:\n                        this.ctx.putImageData(this.imageData, 0, 0);\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        return {\n            action: render(),\n            cancel: function () { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            console.log(\'canceling\');\n                            this.ctx.putImageData(this.imageData, 0, 0);\n                            return [4 /*yield*/, this.wait(1000 / 24)];\n                        case 1:\n                            _a.sent();\n                            cancelled = true;\n                            return [2 /*return*/];\n                    }\n                });\n            }); }\n        };\n    };\n    Renderer.renderRay = function (i, j, samplesPerPixel, maxDepth) {\n        var color = new Vector_Vector(0, 0, 0);\n        for (var s = 0; s < samplesPerPixel; ++s) {\n            var u = (i + Math.random()) / (this.IMAGE_WIDTH - 1);\n            var v = (j + Math.random()) / (this.IMAGE_HEIGHT - 1);\n            var ray = this.camera.getRay(u, v);\n            color = color.add(ray.color(this.world, maxDepth));\n        }\n        var _a = color.writeColor(samplesPerPixel), r = _a[0], g = _a[1], b = _a[2], a = _a[3];\n        var startIndex = (j * this.IMAGE_WIDTH * 4) + (i * 4);\n        this.data[startIndex] = r;\n        this.data[startIndex + 1] = g;\n        this.data[startIndex + 2] = b;\n        this.data[startIndex + 3] = a;\n    };\n    Renderer.IMAGE_WIDTH = imageWidth;\n    Renderer.firstRun = true;\n    Renderer.renderPoints = [];\n    Renderer.world = new RandomScene().world;\n    // Camera\n    Renderer.camera = new Camera(lookFrom, lookAt, vup, 20, ASPECT_RATIO, aperture, distToFocus);\n    return Renderer;\n}());\n\n\n;// CONCATENATED MODULE: ./src/index.ts\nvar src_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar src_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\nfunction debounce(func, interval) {\n    var called = 0;\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var now = new Date().getTime();\n        if (now - called > interval) {\n            func.apply(func, args);\n            console.log(\'yes\', now - called);\n            called = now;\n        }\n        else {\n            console.log(\'not\');\n        }\n    };\n}\nfunction run() {\n    return src_awaiter(this, void 0, void 0, function () {\n        function onKeypress(e) {\n            return src_awaiter(this, void 0, void 0, function () {\n                var _a;\n                return src_generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            e.preventDefault();\n                            _a = e.keyCode;\n                            switch (_a) {\n                                case 37: return [3 /*break*/, 1];\n                                case 39: return [3 /*break*/, 3];\n                                case 38: return [3 /*break*/, 5];\n                                case 40: return [3 /*break*/, 7];\n                                case 73: return [3 /*break*/, 9];\n                                case 79: return [3 /*break*/, 11];\n                            }\n                            return [3 /*break*/, 13];\n                        case 1: return [4 /*yield*/, canceller()];\n                        case 2:\n                            _b.sent();\n                            Renderer.camera.moveLeft();\n                            canceller = Renderer.smartRender();\n                            return [3 /*break*/, 13];\n                        case 3: return [4 /*yield*/, canceller()];\n                        case 4:\n                            _b.sent();\n                            Renderer.camera.moveRight();\n                            canceller = Renderer.smartRender();\n                            return [3 /*break*/, 13];\n                        case 5: return [4 /*yield*/, canceller()];\n                        case 6:\n                            _b.sent();\n                            Renderer.camera.moveUp();\n                            canceller = Renderer.smartRender();\n                            return [3 /*break*/, 13];\n                        case 7: return [4 /*yield*/, canceller()];\n                        case 8:\n                            _b.sent();\n                            Renderer.camera.moveDown();\n                            canceller = Renderer.smartRender();\n                            return [3 /*break*/, 13];\n                        case 9: return [4 /*yield*/, canceller()];\n                        case 10:\n                            _b.sent();\n                            Renderer.camera.zoomIn();\n                            canceller = Renderer.smartRender();\n                            return [3 /*break*/, 13];\n                        case 11: return [4 /*yield*/, canceller()];\n                        case 12:\n                            _b.sent();\n                            Renderer.camera.zoomOut();\n                            canceller = Renderer.smartRender();\n                            return [3 /*break*/, 13];\n                        case 13: return [2 /*return*/];\n                    }\n                });\n            });\n        }\n        var canceller;\n        return src_generator(this, function (_a) {\n            document.body.addEventListener(\'keydown\', debounce(onKeypress, 100));\n            canceller = Renderer.smartRender();\n            return [2 /*return*/];\n        });\n    });\n}\nrun();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yYXl0cmFjZXIvLi9zcmMvVXRpbHMudHM/OTE3OSIsIndlYnBhY2s6Ly9yYXl0cmFjZXIvLi9zcmMvVmVjdG9yLnRzP2Y3ZjIiLCJ3ZWJwYWNrOi8vcmF5dHJhY2VyLy4vc3JjL0hpdHRhYmxlLnRzPzdlMmEiLCJ3ZWJwYWNrOi8vcmF5dHJhY2VyLy4vc3JjL1JheS50cz8xNzU0Iiwid2VicGFjazovL3JheXRyYWNlci8uL3NyYy9DYW1lcmEudHM/ODk1MiIsIndlYnBhY2s6Ly9yYXl0cmFjZXIvLi9zcmMvSGl0dGFibGVMaXN0LnRzP2FiNWYiLCJ3ZWJwYWNrOi8vcmF5dHJhY2VyLy4vc3JjL01hdGVyaWFsLnRzPzYxY2EiLCJ3ZWJwYWNrOi8vcmF5dHJhY2VyLy4vc3JjL1NwaGVyZS50cz9iNzU3Iiwid2VicGFjazovL3JheXRyYWNlci8uL3NyYy9SYW5kb21TY2VuZS50cz9hOWNhIiwid2VicGFjazovL3JheXRyYWNlci8uL3NyYy9TdGF0cy50cz85ZTcyIiwid2VicGFjazovL3JheXRyYWNlci8uL3NyYy9SZW5kZXJlci50cz8wNGY4Iiwid2VicGFjazovL3JheXRyYWNlci8uL3NyYy9pbmRleC50cz9mZmI0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQWtDO0FBRTNCLFNBQVMsZ0JBQWdCLENBQUMsT0FBZTtJQUMvQyxPQUFPLE9BQU8sR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQztBQUNoQyxDQUFDO0FBRU0sU0FBUyxhQUFhLENBQUMsR0FBVyxFQUFFLEdBQVc7SUFDckQsT0FBTyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQzFDLENBQUM7QUFFTSxTQUFTLEtBQUssQ0FBQyxDQUFTLEVBQUUsR0FBVyxFQUFFLEdBQVc7SUFDeEQsSUFBSSxDQUFDLEdBQUcsR0FBRztRQUFFLE9BQU8sR0FBRyxDQUFDO0lBQ3hCLElBQUksQ0FB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QUcsYUFBYSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQzt3QkFDakMsSUFBSSxjQUFjLEdBQUcsSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO3dCQUM3QyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLGNBQWMsQ0FBQyxDQUFDLENBQUM7cUJBQ3REO3lCQUFNO3dCQUNOLFFBQVE7d0JBQ1IsSUFBSSxjQUFjLEdBQUcsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7d0JBQ3pDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsY0FBYyxDQUFDLENBQUMsQ0FBQztxQkFDdEQ7aUJBQ0Q7YUFDRDtTQUNEO1FBRUQsSUFBSSxTQUFTLEdBQUcsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxNQUFNLENBQUMsSUFBSSxhQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxhQUFhLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7UUFFakYsSUFBSSxTQUFTLEdBQUcsSUFBSSxVQUFVLENBQUMsSUFBSSxhQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksTUFBTSxDQUFDLElBQUksYUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxhQUFhLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7UUFFbEYsSUFBSSxTQUFTLEdBQUcsSUFBSSxLQUFLLENBQUMsSUFBSSxhQUFNLENBQUMsR0FBRyxFQUFF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ImltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4vVmVjdG9yJztcblxuZXhwb3J0IGZ1bmN0aW9uIGRlZ3JlZXNUb1JhZGlhbnMoZGVncmVlczogbnVtYmVyKSB7XG5cdHJldHVybiBkZWdyZWVzICogTWF0aC5QSSAvIDE4MDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUluUmFuZ2UobWluOiBudW1iZXIsIG1heDogbnVtYmVyKSB7XG5cdHJldHVybiBtaW4gKyAobWF4IC0gbWluKSAqIE1hdGgucmFuZG9tKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGFtcCh4OiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcikge1xuXHRpZiAoeCA8IG1pbikgcmV0dXJuIG1pbjtcblx0aWYgKHggPiBtYXgpIHJldHVybiBtYXg7XG5cdHJldHVybiB4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tSW5Vbml0U3BoZXJlKCkge1xuXHR3aGlsZSAodHJ1ZSkge1xuXHRcdGxldCBwID0gVmVjdG9yLnJhbmRvbUluUmFuZ2UoLTEsIDEpO1xuXHRcdGlmIChwLmxlbmd0aF9zcXVhcmVkKCkgPj0gMSkgY29udGludWU7XG5cdFx0cmV0dXJuIHA7XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVVuaXRWZWN0b3IoKSB7XG5cdHJldHVybiBWZWN0b3IudW5pdFZlY3RvcihyYW5kb21JblVuaXRTcGhlcmUoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21JbkhlbWlzcGhlcmUobm9ybWFsOiBWZWN0b3IpIHtcblx0bGV0IGluVW5pdFNwaGVyZSA9IHJhbmRvbUluVW5pdFNwaGVyZSgpO1xuXHRpZiAoVmVjdG9yLmRvdChpblVuaXRTcGhlcmUsIG5vcm1hbCkgPiAwKSByZXR1cm4gaW5Vbml0U3BoZXJlO1xuXHRlbHNlIHJldHVybiBpblVuaXRTcGhlcmUubXVsdGlwbHkoLTEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tSW5Vbml0RGlzaygpIHtcblx0d2hpbGUgKHRydWUpIHtcblx0XHRsZXQgcCA9IG5ldyBWZWN0b3IocmFuZG9tSW5SYW5nZSgtMSwgMSksIHJhbmRvbUluUmFuZ2UoLTEsIDEpLCAwKTtcblx0XHRpZiAocC5sZW5ndGhfc3F1YXJlZCgpID49IDEpIGNvbnRpbnVlO1xuXHRcdHJldHVybiBwO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBjbGFtcCwgcmFuZG9tSW5SYW5nZSB9IGZyb20gJy4vVXRpbHMnO1xuXG5leHBvcnQgY2xhc3MgVmVjdG9yIHtcblx0Y29uc3RydWN0b3IocHVibGljIHg6bnVtYmVyLCBwdWJsaWMgeTpudW1iZXIsIHB1YmxpYyB6Om51bWJlcikge1xuXHR9XG5cblx0c3VidHJhY3QodjpWZWN0b3J8bnVtYmVyKSB7XG5cdFx0aWYodiBpbnN0YW5jZW9mIFZlY3Rvcilcblx0XHRcdHJldHVybiBuZXcgVmVjdG9yKHRoaXMueCAtIHYueCwgdGhpcy55IC0gdi55LCB0aGlzLnogLSB2LnopO1xuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBuZXcgVmVjdG9yKHRoaXMueCAtIHYsIHRoaXMueSAtIHYsIHRoaXMueiAtIHYpO1xuXHR9XG5cblx0c3VidHJhY3RGcm9tKHY6VmVjdG9yKSB7XG5cdFx0cmV0dXJuIG5ldyBWZWN0b3IodGhpcy54IC0gdi54LCB0aGlzLnkgLSB2LnksIHRoaXMueiAtIHYueik7XG5cdH1cblxuXHRhZGQodjpWZWN0b3J8bnVtYmVyKSB7XG5cdFx0aWYodiBpbnN0YW5jZW9mIFZlY3Rvcilcblx0XHRcdHJldHVybiBuZXcgVmVjdG9yKHRoaXMueCArIHYueCwgdGhpcy55ICsgdi55LCB0aGlzLnogKyB2LnopO1xuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBuZXcgVmVjdG9yKHRoaXMueCArIHYsIHRoaXMueSArIHYsIHRoaXMueiArIHYpO1xuXHR9XG5cblx0bXVsdGlwbHkodjpWZWN0b3IgfCBudW1iZXIpIHtcblx0XHRpZih2IGluc3RhbmNlb2YgVmVjdG9yKVxuXHRcdFx0cmV0dXJuIG5ldyBWZWN0b3IodGhpcy54ICogdi54LCB0aGlzLnkgKiB2LnksIHRoaXMueiAqIHYueik7XG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIG5ldyBWZWN0b3IodGhpcy54ICogdiwgdGhpcy55ICogdiwgdGhpcy56ICogdik7XG5cdH1cblxuXHRkaXZpZGUodjpWZWN0b3IgfCBudW1iZXIpIHtcblx0XHRpZih2IGluc3RhbmNlb2YgVmVjdG9yKVxuXHRcdFx0cmV0dXJuIG5ldyBWZWN0b3IodGhpcy54IC8gdi54LCB0aGlzLnkgLyB2LnksIHRoaXMueiAvIHYueik7XG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIG5ldyBWZWN0b3IodGhpcy54IC8gdiwgdGhpcy55IC8gdiwgdGhpcy56IC8gdik7XG5cdH1cblxuXHRsZW5ndGhfc3F1YXJlZCgpIHtcblx0XHRjb25zdCBzcXJkID0gdGhpcy5tdWx0aXBseSh0aGlzKTtcblx0XHRyZXR1cm4gc3FyZC54ICsgc3FyZC55ICsgc3FyZC56O1xuXHR9XG5cblx0bGVuZ3RoKCkge1xuXHRcdHJldHVybiBNYXRoLnNxcnQodGhpcy5sZW5ndGhfc3F1YXJlZCgpKTtcblx0fVxuXG5cdHdyaXRlQ29sb3Ioc2FtcGxlc1BlclBpeGVsOm51bWJlcikge1xuXHRcdHJldHVybiBWZWN0b3Iud3JpdGVDb2xvcih0aGlzLCBzYW1wbGVzUGVyUGl4ZWwpO1xuXHR9XG5cblx0bmVhclplcm8oKSB7XG5cdFx0Y29uc3QgcyA9IDFlLTg7XG5cdFx0cmV0dXJuIChNYXRoLmFicyh0aGlzLngpIDwgcylcblx0XHRcdCYmIChNYXRoLmFicyh0aGlzLnkpIDwgcylcblx0XHRcdCYmIChNYXRoLmFicyh0aGlzLnopIDwgcyk7XG5cdH1cblxuXHRzdGF0aWMgcmVmbGVjdCh2MTpWZWN0b3IsIHYyOlZlY3Rvcil7XG5cdFx0cmV0dXJuIHYxLnN1YnRyYWN0KFxuXHRcdFx0djIubXVsdGlwbHkoXG5cdFx0XHQyICogVmVjdG9yLmRvdCh2MSwgdjIpXG5cdFx0XHQpXG5cdFx0KVxuXHR9XG5cblx0c3RhdGljIHJlZnJhY3QodjE6VmVjdG9yLCB2MjpWZWN0b3IsIGV0YWlPdmVyRXRhdDpudW1iZXIpIHtcblx0XHRsZXQgY29zVGhldGEgPSBNYXRoLm1pbihWZWN0b3IuZG90KHYxLm11bHRpcGx5KC0xKSwgdjIpLCAxKTtcblx0XHRsZXQgck91dFBlcnAgPSB2MS5hZGQodjIubXVsdGlwbHkoY29zVGhldGEpKVxuXHRcdFx0Lm11bHRpcGx5KGV0YWlPdmVyRXRhdCk7XG5cdFx0bGV0IHJPdXRQYXJhbGxlbCA9IHYyLm11bHRpcGx5KFxuXHRcdFx0LU1hdGguc3FydChcblx0XHRcdFx0TWF0aC5hYnMoMSAtIHJPdXRQZXJwLmxlbmd0aF9zcXVhcmVkKCkpXG5cdFx0XHQpXG5cdFx0KTtcblx0XHRyZXR1cm4gck91dFBlcnAuYWRkKHJPdXRQYXJhbGxlbCk7XG5cdH1cblx0XG5cdHN0YXRpYyBhZGQodjE6VmVjdG9yLCB2MjpWZWN0b3IpIHtcblx0XHRyZXR1cm4gdjEuYWRkKHYyKTtcblx0fVxuXHRcblx0c3RhdGljIHN1YnRyYWN0KHYxOlZlY3RvciwgdjI6VmVjdG9yKSB7XG5cdFx0cmV0dXJuIHYxLnN1YnRyYWN0KHYyKTtcblx0fVxuXG5cdHN0YXRpYyBtdWx0aXBseSh2MTpWZWN0b3IsIHYyOlZlY3RvciB8IG51bWJlcikge1xuXHRcdHJldHVybiB2MS5tdWx0aXBseSh2Mik7XG5cdH1cblxuXHRzdGF0aWMgZGl2aWRlKHQ6bnVtYmVyLCB2OlZlY3Rvcikge1xuXHRcdHJldHVybiB2LmRpdmlkZSh0KTtcblx0fVxuXHRcblx0c3RhdGljIGRvdCh2MTpWZWN0b3IsIHYyOlZlY3Rvcikge1xuXHRcdHJldHVybiB2MS54KnYyLnhcblx0XHRcdCsgdjEueSp2Mi55XG5cdFx0XHQrIHYxLnoqdjIuejtcblx0fVxuXHRcblx0c3RhdGljIGNyb3NzKHYxOlZlY3RvciwgdjI6VmVjdG9yKSB7XG5cdFx0cmV0dXJuIG5ldyBWZWN0b3IodjEueSAqIHYyLnogLSB2MS56ICogdjIueSxcblx0XHRcdHYxLnogKiB2Mi54IC0gdjEueCAqIHYyLnosXG5cdFx0XHR2MS54ICogdjIueSAtIHYxLnkgKiB2Mi54KTtcblx0fVxuXG5cdHN0YXRpYyB1bml0VmVjdG9yKHY6VmVjdG9yKSB7XG5cdFx0cmV0dXJuIHYuZGl2aWRlKHYubGVuZ3RoKCkpO1xuXHR9XG5cblx0c3RhdGljIHdyaXRlQ29sb3IodjpWZWN0b3IsIHNhbXBsZXNQZXJQaXhlbDpudW1iZXIpIHtcblx0XHRsZXQgciA9IHYueDtcblx0XHRsZXQgZyA9IHYueTtcblx0XHRsZXQgYiA9IHYuejtcblxuXHRcdGxldCBzY2FsZSA9IDEgLyBzYW1wbGVzUGVyUGl4ZWw7XG5cblx0XHRyID0gTWF0aC5zcXJ0KHNjYWxlICogcik7XG5cdFx0ZyA9IE1hdGguc3FydChzY2FsZSAqIGcpO1xuXHRcdGIgPSBNYXRoLnNxcnQoc2NhbGUgKiBiKTtcblxuXHRcdHJldHVybiBbXG5cdFx0XHQyNTYgKiBjbGFtcChyLCAwLCAuOTk5KSxcblx0XHRcdDI1NiAqIGNsYW1wKGcsIDAsIC45OTkpLFxuXHRcdFx0MjU2ICogY2xhbXAoYiwgMCwgLjk5OSksXG5cdFx0XHQyNTUsXG5cdFx0XVxuXHR9XG5cblx0c3RhdGljIHJhbmRvbSgpIHtcblx0XHRyZXR1cm4gbmV3IFZlY3RvcihNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpKTtcblx0fVxuXG5cdHN0YXRpYyByYW5kb21JblJhbmdlKG1pbjpudW1iZXIsIG1heDpudW1iZXIpIHtcblx0XHRyZXR1cm4gbmV3IFZlY3RvcihyYW5kb21JblJhbmdlKG1pbiwgbWF4KSwgcmFuZG9tSW5SYW5nZShtaW4sIG1heCksIHJhbmRvbUluUmFuZ2UobWluLCBtYXgpKTtcblx0fVxufVxuXG5cbiIsImltcG9ydCB7IFJheSB9IGZyb20gJy4vUmF5JztcbmltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4vVmVjdG9yJztcbmltcG9ydCB7IE1hdGVyaWFsIH0gZnJvbSAnLi9NYXRlcmlhbCc7XG5cbmV4cG9ydCBjbGFzcyBIaXRSZWNvcmQge1xuXHRmcm9udEZhY2U6IGJvb2xlYW47XG5cdG1hdGVyaWFsOk1hdGVyaWFsO1xuXG5cdGNvbnN0cnVjdG9yKHB1YmxpYyBwOiBWZWN0b3IgPSBudWxsLFxuXHQgICAgICAgICAgICBwdWJsaWMgdDogbnVtYmVyID0gbnVsbCxcblx0ICAgICAgICAgICAgcHVibGljIG5vcm1hbDogVmVjdG9yID0gbnVsbCkge1xuXHR9XG5cblx0c2V0RmFjZU5vcm1hbChyOiBSYXksIG91dHdhcmROb3JtYWw6IFZlY3Rvcikge1xuXHRcdHRoaXMuZnJvbnRGYWNlID0gVmVjdG9yLmRvdChyLmRpcmVjdGlvbiwgb3V0d2FyZE5vcm1hbCkgPCAwO1xuXHRcdHRoaXMubm9ybWFsID0gdGhpcy5mcm9udEZhY2UgPyBvdXR3YXJkTm9ybWFsIDogb3V0d2FyZE5vcm1hbC5tdWx0aXBseSgtMSk7XG5cdH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBIaXR0YWJsZSB7XG5cdGhpdChyOiBSYXksIHRNaW46IG51bWJlciwgdE1heDogbnVtYmVyLCByZWQ6IEhpdFJlY29yZCk6IGJvb2xlYW47XG59XG4iLCJpbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuL1ZlY3Rvcic7XG5pbXBvcnQgeyBIaXRSZWNvcmQsIEhpdHRhYmxlIH0gZnJvbSAnLi9IaXR0YWJsZSc7XG5cbmV4cG9ydCBjbGFzcyBSYXkge1xuXHRjb25zdHJ1Y3RvcihwdWJsaWMgb3JpZ2luOlZlY3RvciwgcHVibGljIGRpcmVjdGlvbjpWZWN0b3IpIHt9XG5cblx0YXQodDpudW1iZXIpIHtcblx0XHRyZXR1cm4gdGhpcy5vcmlnaW4uYWRkKHRoaXMuZGlyZWN0aW9uLm11bHRpcGx5KHQpKTtcblx0fVxuXG5cdGhpdFNwaGVyZShjZW50ZXI6VmVjdG9yLCByYWRpdXM6bnVtYmVyLCByOlJheSkge1xuXHRcdGxldCBvYyA9IHIub3JpZ2luLnN1YnRyYWN0KGNlbnRlcik7XG5cdFx0bGV0IGEgPSByLmRpcmVjdGlvbi5sZW5ndGhfc3F1YXJlZCgpO1xuXHRcdGxldCBoYWxmQiA9IFZlY3Rvci5kb3Qob2MsIHIuZGlyZWN0aW9uKTtcblx0XHRsZXQgYyA9IG9jLmxlbmd0aF9zcXVhcmVkKCkgLSByYWRpdXMqcmFkaXVzO1xuXHRcdGNvbnN0IGRpc2NyaW1pbmFudCA9IGhhbGZCKmhhbGZCIC0gYSpjO1xuXG5cdFx0aWYoZGlzY3JpbWluYW50IDwgMCkge1xuXHRcdFx0cmV0dXJuIC0xO1xuXHRcdH1cblxuXHRcdHJldHVybiAoLWhhbGZCLU1hdGguc3FydChkaXNjcmltaW5hbnQpKSAvIGFcblx0fVxuXG5cdGNvbG9yKHdvcmxkOkhpdHRhYmxlLCBkZXB0aDpudW1iZXIpOlZlY3RvciB7XG5cdFx0aWYoZGVwdGggPD0gMCkgcmV0dXJuIG5ldyBWZWN0b3IoMCwwLDApO1xuXG5cdFx0bGV0IHJlYyA9IG5ldyBIaXRSZWNvcmQoKTtcblx0XHRpZih3b3JsZC5oaXQodGhpcywgMC4wMDAwMSwgSW5maW5pdHksIHJlYykpXHR7XG5cdFx0XHRsZXQgc2NhdHRlcmVkOlJheSA9IG5ldyBSYXkobnVsbCwgbnVsbCk7XG5cdFx0XHRsZXQgYXR0ZW51YXRpb246VmVjdG9yID0gbmV3IFZlY3RvcigwLDAsMCk7XG5cblx0XHRcdGlmKHJlYy5tYXRlcmlhbC5zY2F0dGVyKHRoaXMsIHJlYywgYXR0ZW51YXRpb24sIHNjYXR0ZXJlZCkpXG5cdFx0XHRcdHJldHVybiBhdHRlbnVhdGlvbi5tdWx0aXBseShzY2F0dGVyZWQuY29sb3Iod29ybGQsIGRlcHRoLTEpKVxuXG5cdFx0XHRyZXR1cm4gbmV3IFZlY3RvcigwLDAsMCk7XG5cdFx0fVxuXG5cdFx0bGV0IHVuaXREaXJlY3Rpb24gPSBWZWN0b3IudW5pdFZlY3Rvcih0aGlzLmRpcmVjdGlvbik7XG5cdFx0bGV0IHQgPSAuNSAqICh1bml0RGlyZWN0aW9uLnkgKyAxKTtcblx0XHRjb25zdCB3aGl0ZSA9IG5ldyBWZWN0b3IoMSwxLDEpO1xuXHRcdGNvbnN0IGJsdWUgPSBuZXcgVmVjdG9yKC41LC43LDEpO1xuXG5cdFx0cmV0dXJuIHdoaXRlXG5cdFx0XHRcdC5tdWx0aXBseSgxLXQpXG5cdFx0XHRcdC5hZGQoXG5cdFx0XHRcdFx0Ymx1ZS5tdWx0aXBseSh0KVxuXHRcdFx0XHQpO1xuXHR9XG5cbn1cbiIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4vVmVjdG9yJztcbmltcG9ydCB7IFJheSB9IGZyb20gJy4vUmF5JztcbmltcG9ydCB7IGRlZ3JlZXNUb1JhZGlhbnMsIHJhbmRvbUluVW5pdERpc2sgfSBmcm9tICcuL1V0aWxzJztcblxuZXhwb3J0IGNsYXNzIENhbWVyYSB7XG5cdHZpZXdwb3J0SGVpZ2h0Om51bWJlcjtcblx0dmlld3BvcnRXaWR0aDpudW1iZXI7XG5cdGxlbnNSYWRpdXM6bnVtYmVyO1xuXG5cdG9yaWdpbjpWZWN0b3I7XG5cdGhvcml6b250YWw6VmVjdG9yO1xuXHR2ZXJ0aWNhbDpWZWN0b3I7XG5cdGxvd2VyTGVmdENvcm5lcjpWZWN0b3I7XG5cdHU6VmVjdG9yO1xuXHR2OlZlY3RvcjtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIGxvb2tGcm9tOlZlY3Rvcixcblx0XHRwcml2YXRlIGxvb2tBdDpWZWN0b3IsXG5cdFx0cHJpdmF0ZSB2VXA6VmVjdG9yLFxuXHRcdHByaXZhdGUgdkZvdjpudW1iZXIsXG5cdFx0cHJpdmF0ZSBhc3BlY3RSYXRpbzpudW1iZXIsXG5cdFx0cHJpdmF0ZSBhcGVydHVyZTogbnVtYmVyLFxuXHRcdHByaXZhdGUgZm9jdXNEaXN0OiBudW1iZXIsXG5cdCkge1xuXHRcdHRoaXMuaW5pdCgpO1xuXHR9XG5cblx0bW92ZVJpZ2h0KCkge1xuXHRcdHRoaXMubG9va0Zyb20ueiArPSAuNTtcblx0XHR0aGlzLmluaXQoKTtcblx0fVxuXG5cdG1vdmVMZWZ0KCkge1xuXHRcdHRoaXMubG9va0Zyb20ueiAtPSAuNTtcblx0XHR0aGlzLmluaXQoKTtcblx0fVxuXG5cdG1vdmVVcCgpIHtcblx0XHR0aGlzLmxvb2tGcm9tLnkgKz0gLjU7XG5cdFx0dGhpcy5pbml0KCk7XG5cdH1cblxuXHRtb3ZlRG93bigpIHtcblx0XHR0aGlzLmxvb2tGcm9tLnkgLT0gLjU7XG5cdFx0dGhpcy5pbml0KCk7XG5cdH1cblxuXHR6b29tSW4oKSB7XG5cdFx0dGhpcy52Rm92IC09IC41O1xuXHRcdHRoaXMuaW5pdCgpO1xuXHR9XG5cblx0em9vbU91dCgpIHtcblx0XHR0aGlzLnZGb3YgKz0gLjU7XG5cdFx0dGhpcy5pbml0KCk7XG5cdH1cblxuXHRwcml2YXRlIGluaXQoKSB7XG5cdFx0bGV0IHRoZXRhID0gZGVncmVlc1RvUmFkaWFucyh0aGlzLnZGb3YpO1xuXHRcdGxldCBoID0gTWF0aC50YW4odGhldGEvMik7XG5cdFx0dGhpcy52aWV3cG9ydEhlaWdodCA9IDIgKiBoO1xuXHRcdHRoaXMudmlld3BvcnRXaWR0aCA9IHRoaXMuYXNwZWN0UmF0aW8gKiB0aGlzLnZpZXdwb3J0SGVpZ2h0O1xuXG5cdFx0bGV0IHcgPSBWZWN0b3IudW5pdFZlY3Rvcih0aGlzLmxvb2tGcm9tLnN1YnRyYWN0KHRoaXMubG9va0F0KSk7XG5cdFx0dGhpcy51ID0gVmVjdG9yLnVuaXRWZWN0b3IoVmVjdG9yLmNyb3NzKHRoaXMudlVwLCB3KSk7XG5cdFx0dGhpcy52ID0gVmVjdG9yLmNyb3NzKHcsIHRoaXMudSk7XG5cblx0XHR0aGlzLmxlbnNSYWRpdXMgPSB0aGlzLmFwZXJ0dXJlLzI7XG5cblx0XHR0aGlzLm9yaWdpbiA9IHRoaXMubG9va0Zyb207XG5cdFx0dGhpcy5ob3Jpem9udGFsID0gdGhpcy51Lm11bHRpcGx5KHRoaXMudmlld3BvcnRXaWR0aCkubXVsdGlwbHkodGhpcy5mb2N1c0Rpc3QpO1xuXHRcdHRoaXMudmVydGljYWwgPSB0aGlzLnYubXVsdGlwbHkodGhpcy52aWV3cG9ydEhlaWdodCkubXVsdGlwbHkodGhpcy5mb2N1c0Rpc3QpO1xuXHRcdHRoaXMubG93ZXJMZWZ0Q29ybmVyID0gdGhpcy5vcmlnaW5cblx0XHRcdC5zdWJ0cmFjdCh0aGlzLmhvcml6b250YWwuZGl2aWRlKDIpKVxuXHRcdFx0LnN1YnRyYWN0KHRoaXMudmVydGljYWwuZGl2aWRlKDIpKVxuXHRcdFx0LnN1YnRyYWN0KFxuXHRcdFx0XHR3Lm11bHRpcGx5KHRoaXMuZm9jdXNEaXN0KVxuXHRcdFx0KTtcblx0fVxuXG5cdGdldFJheShzOm51bWJlciwgdDpudW1iZXIpIHtcblx0XHRsZXQgcmQgPSByYW5kb21JblVuaXREaXNrKCkubXVsdGlwbHkodGhpcy5sZW5zUmFkaXVzKTtcblx0XHRsZXQgb2Zmc2V0ID0gdGhpcy51Lm11bHRpcGx5KHJkLngpXG5cdFx0XHQuYWRkKHRoaXMudi5tdWx0aXBseShyZC55KSlcblxuXHRcdHJldHVybiBuZXcgUmF5KFxuXHRcdFx0dGhpcy5vcmlnaW4uYWRkKG9mZnNldCksXG5cdFx0XHR0aGlzLmxvd2VyTGVmdENvcm5lclxuXHRcdFx0XHQuYWRkKHRoaXMuaG9yaXpvbnRhbC5tdWx0aXBseShzKSlcblx0XHRcdFx0LmFkZCh0aGlzLnZlcnRpY2FsLm11bHRpcGx5KHQpKVxuXHRcdFx0XHQuc3VidHJhY3QodGhpcy5vcmlnaW4pXG5cdFx0XHRcdC5zdWJ0cmFjdChvZmZzZXQpXG5cdFx0KTtcblxuXHR9XG59XG4iLCJpbXBvcnQgeyBIaXRSZWNvcmQsIEhpdHRhYmxlIH0gZnJvbSAnLi9IaXR0YWJsZSc7XG5pbXBvcnQgeyBSYXkgfSBmcm9tICcuL1JheSc7XG5cbmV4cG9ydCBjbGFzcyBIaXR0YWJsZUxpc3QgaW1wbGVtZW50cyBIaXR0YWJsZXtcblxuXHRsaXN0OkhpdHRhYmxlW10gPSBbXTtcblxuXHRhZGQob2JqZWN0OkhpdHRhYmxlKSB7XG5cdFx0dGhpcy5saXN0LnB1c2gob2JqZWN0KTtcblx0fVxuXG5cdGNsZWFyKCkge1xuXHRcdHRoaXMubGlzdCA9IFtdO1xuXHR9XG5cblx0aGl0KHI6IFJheSwgdE1pbjogbnVtYmVyLCB0TWF4OiBudW1iZXIsIHJlY29yZDogSGl0UmVjb3JkKTogYm9vbGVhbiB7XG5cdFx0bGV0IHRlbXBSZWMgPSByZWNvcmQ7XG5cdFx0bGV0IGhpdEFueXRoaW5nID0gZmFsc2U7XG5cdFx0bGV0IGNsb3Nlc3RTb0ZhciA9IHRNYXg7XG5cblx0XHRmb3IobGV0IG9iamVjdCBvZiB0aGlzLmxpc3QpIHtcblx0XHRcdGlmKG9iamVjdC5oaXQociwgdE1pbiwgY2xvc2VzdFNvRmFyLCB0ZW1wUmVjKSkge1xuXHRcdFx0XHRoaXRBbnl0aGluZyA9IHRydWU7XG5cdFx0XHRcdGNsb3Nlc3RTb0ZhciA9IHRlbXBSZWMudDtcblx0XHRcdFx0dGhpcy5tZXJnZShyZWNvcmQsIHRlbXBSZWMpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBoaXRBbnl0aGluZztcblx0fVxuXG5cdHByaXZhdGUgbWVyZ2UodGFyZ2V0OiBIaXRSZWNvcmQsIG9iamVjdDogSGl0UmVjb3JkKSB7XG5cdFx0dGFyZ2V0Lm5vcm1hbCA9IG9iamVjdC5ub3JtYWw7XG5cdFx0dGFyZ2V0LmZyb250RmFjZSA9IG9iamVjdC5mcm9udEZhY2U7XG5cdFx0dGFyZ2V0Lm1hdGVyaWFsID0gb2JqZWN0Lm1hdGVyaWFsO1xuXHRcdHRhcmdldC5wID0gb2JqZWN0LnA7XG5cdFx0dGFyZ2V0LnQgPSBvYmplY3QudDtcblx0fVxufVxuIiwiaW1wb3J0IHsgUmF5IH0gZnJvbSAnLi9SYXknO1xuaW1wb3J0IHsgSGl0UmVjb3JkIH0gZnJvbSAnLi9IaXR0YWJsZSc7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuL1ZlY3Rvcic7XG5pbXBvcnQgeyByYW5kb21JblVuaXRTcGhlcmUsIHJhbmRvbVVuaXRWZWN0b3IgfSBmcm9tICcuL1V0aWxzJztcblxuZXhwb3J0IGludGVyZmFjZSBNYXRlcmlhbCB7XG5cdHNjYXR0ZXIockluOlJheSwgcmVjOkhpdFJlY29yZCwgYXR0ZW51YXRpb246VmVjdG9yLCBzY2F0dGVyZWQ6UmF5KTpib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgTGFtYmVydGlhbiBpbXBsZW1lbnRzIE1hdGVyaWFsIHtcblx0Y29uc3RydWN0b3IocHJpdmF0ZSBjb2xvcjpWZWN0b3IpIHtcblx0fVxuXG5cdHNjYXR0ZXIockluOiBSYXksIHJlYzogSGl0UmVjb3JkLCBhdHRlbnVhdGlvbjogVmVjdG9yLCBzY2F0dGVyZWQ6IFJheSk6IGJvb2xlYW4ge1xuXHRcdGxldCBzY2F0dGVyRGlyZWN0aW9uID0gcmVjLm5vcm1hbC5hZGQocmFuZG9tVW5pdFZlY3RvcigpKTtcblxuXHRcdGlmKHNjYXR0ZXJEaXJlY3Rpb24ubmVhclplcm8oKSlcblx0XHRcdHNjYXR0ZXJEaXJlY3Rpb24gPSByZWMubm9ybWFsO1xuXG5cdFx0T2JqZWN0LmFzc2lnbihzY2F0dGVyZWQsIG5ldyBSYXkocmVjLnAsIHNjYXR0ZXJEaXJlY3Rpb24pKTtcblx0XHRPYmplY3QuYXNzaWduKGF0dGVudWF0aW9uLCB0aGlzLmNvbG9yKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG59XG5cbmV4cG9ydCBjbGFzcyBNZXRhbCBpbXBsZW1lbnRzIE1hdGVyaWFsIHtcblx0Y29uc3RydWN0b3IocHJpdmF0ZSBjb2xvcjpWZWN0b3IsIHByaXZhdGUgZnV6ejpudW1iZXIpIHtcblx0fVxuXG5cdHNjYXR0ZXIockluOiBSYXksIHJlYzogSGl0UmVjb3JkLCBhdHRlbnVhdGlvbjogVmVjdG9yLCBzY2F0dGVyZWQ6IFJheSk6IGJvb2xlYW4ge1xuXHRcdGxldCByZWZsZWN0ID0gVmVjdG9yLnJlZmxlY3QoXG5cdFx0XHRWZWN0b3IudW5pdFZlY3RvcihySW4uZGlyZWN0aW9uKSxcblx0XHRcdHJlYy5ub3JtYWxcblx0XHQpO1xuXG5cdFx0T2JqZWN0LmFzc2lnbihzY2F0dGVyZWQsIG5ldyBSYXkocmVjLnAsIHJlZmxlY3QuYWRkKHJhbmRvbUluVW5pdFNwaGVyZSgpLm11bHRpcGx5KHRoaXMuZnV6eikpKSk7XG5cdFx0T2JqZWN0LmFzc2lnbihhdHRlbnVhdGlvbiwgdGhpcy5jb2xvcik7XG5cblx0XHRyZXR1cm4gVmVjdG9yLmRvdChzY2F0dGVyZWQuZGlyZWN0aW9uLCByZWMubm9ybWFsKSA+IDA7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIERpZWxlY3RyaWMgaW1wbGVtZW50cyBNYXRlcmlhbCB7XG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgaW5kZXhPZlJlZnJhY3Rpb246bnVtYmVyKSB7XG5cdH1cblxuXHRzY2F0dGVyKHJJbjogUmF5LCByZWM6IEhpdFJlY29yZCwgYXR0ZW51YXRpb246IFZlY3Rvciwgc2NhdHRlcmVkOiBSYXkpOiBib29sZWFuIHtcblx0XHRsZXQgcmVmcmFjdGlvblJhdGlvID0gcmVjLmZyb250RmFjZSA/IDEvdGhpcy5pbmRleE9mUmVmcmFjdGlvbiA6IHRoaXMuaW5kZXhPZlJlZnJhY3Rpb247XG5cblx0XHRsZXQgdW5pdERpcmVjdGlvbiA9IFZlY3Rvci51bml0VmVjdG9yKHJJbi5kaXJlY3Rpb24pO1xuXHRcdGxldCBjb3NUaGV0YSA9IE1hdGgubWluKFZlY3Rvci5kb3QodW5pdERpcmVjdGlvbi5tdWx0aXBseSgtMSksIHJlYy5ub3JtYWwpLCAxKTtcblx0XHRsZXQgc2luVGhldGEgPSBNYXRoLnNxcnQoMSAtIGNvc1RoZXRhKmNvc1RoZXRhKTtcblxuXHRcdGxldCBjYW5ub3RSZWZyYWN0ID0gcmVmcmFjdGlvblJhdGlvICogc2luVGhldGEgPiAxO1xuXHRcdGxldCBkaXJlY3Rpb246VmVjdG9yO1xuXG5cdFx0aWYoY2Fubm90UmVmcmFjdCB8fCB0aGlzLnJlZmxlY3RhbmNlKGNvc1RoZXRhLCByZWZyYWN0aW9uUmF0aW8pID4gTWF0aC5yYW5kb20oKSlcblx0XHRcdGRpcmVjdGlvbiA9IFZlY3Rvci5yZWZsZWN0KHVuaXREaXJlY3Rpb24sIHJlYy5ub3JtYWwpO1xuXHRcdGVsc2Vcblx0XHRcdGRpcmVjdGlvbiA9IFZlY3Rvci5yZWZyYWN0KHVuaXREaXJlY3Rpb24sIHJlYy5ub3JtYWwsIHJlZnJhY3Rpb25SYXRpbyk7XG5cblx0XHRPYmplY3QuYXNzaWduKHNjYXR0ZXJlZCwgbmV3IFJheShyZWMucCwgZGlyZWN0aW9uKSk7XG5cdFx0T2JqZWN0LmFzc2lnbihhdHRlbnVhdGlvbiwgbmV3IFZlY3RvcigxLDEsMSkpO1xuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRyZWZsZWN0YW5jZShjb3NpbmU6bnVtYmVyLCByZWZJZHg6bnVtYmVyKSB7XG5cdFx0bGV0IHIwID0gKDEtcmVmSWR4KSAvICgxK3JlZklkeCk7XG5cdFx0cjAgPSByMCpyMDtcblx0XHRyZXR1cm4gcjAgKyAoMS1yMCkgKiBNYXRoLnBvdygoMS1jb3NpbmUpLCA1KTtcblx0fVxufVxuIiwiaW1wb3J0IHsgSGl0UmVjb3JkLCBIaXR0YWJsZSB9IGZyb20gJy4vSGl0dGFibGUnO1xuaW1wb3J0IHsgUmF5IH0gZnJvbSAnLi9SYXknO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi9WZWN0b3InO1xuaW1wb3J0IHsgTWF0ZXJpYWwgfSBmcm9tICcuL01hdGVyaWFsJztcblxuZXhwb3J0IGNsYXNzIFNwaGVyZSBpbXBsZW1lbnRzIEhpdHRhYmxlIHtcblx0Y29uc3RydWN0b3IocHJpdmF0ZSBjZW50ZXI6VmVjdG9yLCBwcml2YXRlIHJhZGl1czpudW1iZXIsIHB1YmxpYyBtYXRlcmlhbDpNYXRlcmlhbCkge1xuXHR9XG5cblx0aGl0KHI6IFJheSwgdE1pbjogbnVtYmVyLCB0TWF4OiBudW1iZXIsIHJlYzogSGl0UmVjb3JkKTogYm9vbGVhbiB7XG5cdFx0bGV0IG9jID0gci5vcmlnaW4uc3VidHJhY3QodGhpcy5jZW50ZXIpO1xuXHRcdGxldCBhID0gci5kaXJlY3Rpb24ubGVuZ3RoX3NxdWFyZWQoKTtcblx0XHRsZXQgaGFsZkIgPSBWZWN0b3IuZG90KG9jLCByLmRpcmVjdGlvbik7XG5cdFx0bGV0IGMgPSBvYy5sZW5ndGhfc3F1YXJlZCgpIC0gdGhpcy5yYWRpdXMqdGhpcy5yYWRpdXM7XG5cblx0XHRsZXQgZGlzY3JpbWluYW50ID0gaGFsZkIqaGFsZkIgLSBhKmM7XG5cblx0XHRpZihkaXNjcmltaW5hbnQgPCAwKSByZXR1cm4gZmFsc2U7XG5cblx0XHRsZXQgc3FydCA9IE1hdGguc3FydChkaXNjcmltaW5hbnQpO1xuXG5cdFx0bGV0IHJvb3QgPSAoLWhhbGZCLXNxcnQpIC8gYTtcblx0XHRpZihyb290IDwgdE1pbiB8fCB0TWF4IDwgcm9vdCkge1xuXHRcdFx0cm9vdCA9ICgtaGFsZkIgKyBzcXJ0KSAvIGE7XG5cdFx0XHRpZiAocm9vdCA8IHRNaW4gfHwgdE1heCA8IHJvb3QpIHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZWMudCA9IHJvb3Q7XG5cdFx0cmVjLnAgPSByLmF0KHJlYy50KTtcblxuXHRcdGxldCBvdXR3YXJkTm9ybWFsID0gcmVjLnBcblx0XHRcdC5zdWJ0cmFjdCh0aGlzLmNlbnRlcilcblx0XHRcdC5kaXZpZGUodGhpcy5yYWRpdXMpO1xuXG5cdFx0cmVjLnNldEZhY2VOb3JtYWwociwgb3V0d2FyZE5vcm1hbCk7XG5cdFx0cmVjLm1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbDtcblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBIaXR0YWJsZUxpc3QgfSBmcm9tICcuL0hpdHRhYmxlTGlzdCc7XG5pbXBvcnQgeyBEaWVsZWN0cmljLCBMYW1iZXJ0aWFuLCBNZXRhbCB9IGZyb20gJy4vTWF0ZXJpYWwnO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi9WZWN0b3InO1xuaW1wb3J0IHsgU3BoZXJlIH0gZnJvbSAnLi9TcGhlcmUnO1xuaW1wb3J0IHsgcmFuZG9tSW5SYW5nZSB9IGZyb20gJy4vVXRpbHMnO1xuXG5leHBvcnQgY2xhc3MgUmFuZG9tU2NlbmUge1xuXHR3b3JsZCA9IG5ldyBIaXR0YWJsZUxpc3QoKTtcblxuXHRncm91bmRNYXQgPSBuZXcgTGFtYmVydGlhbihuZXcgVmVjdG9yKC41LCAuNSwgLjUpKTtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLndvcmxkLmFkZChuZXcgU3BoZXJlKG5ldyBWZWN0b3IoMCwgLTEwMDAsMCksIDEwMDAsIHRoaXMuZ3JvdW5kTWF0KSk7XG5cblx0XHRjb25zdCBiYWxscyA9IDU7XG5cdFx0Zm9yIChsZXQgYSA9IC1iYWxsczsgYSA8IGJhbGxzOyBhKyspIHtcblx0XHRcdGZvciAobGV0IGIgPSAtYmFsbHM7IGIgPCBiYWxsczsgYisrKSB7XG5cdFx0XHRcdGxldCBhdXRvQ2hvb3NlTWF0ID0gTWF0aC5yYW5kb20oKTtcblx0XHRcdFx0bGV0IGNlbnRlciA9IG5ldyBWZWN0b3IoYSArIDAuOSpNYXRoLnJhbmRvbSgpLCAwLjIsIGIgKyAwLjkqTWF0aC5yYW5kb20oKSk7XG5cblx0XHRcdFx0aWYgKChjZW50ZXIuc3VidHJhY3QobmV3IFZlY3Rvcig0LCAwLjIsIDApKSkubGVuZ3RoKCkgPiAwLjkpIHtcblx0XHRcdFx0XHRsZXQgciA9IHJhbmRvbUluUmFuZ2UoLjAxLCAuNCk7XG5cblx0XHRcdFx0XHRpZiAoYXV0b0Nob29zZU1hdCA8IDAuOCkge1xuXHRcdFx0XHRcdFx0Ly8gZGlmZnVzZVxuXHRcdFx0XHRcdFx0bGV0IGFsYmVkbyA9IFZlY3Rvci5yYW5kb20oKS5tdWx0aXBseShWZWN0b3IucmFuZG9tKCkpO1xuXHRcdFx0XHRcdFx0bGV0IHNwaGVyZU1hdGVyaWFsID0gbmV3IExhbWJlcnRpYW4oYWxiZWRvKTtcblx0XHRcdFx0XHRcdHRoaXMud29ybGQuYWRkKG5ldyBTcGhlcmUoY2VudGVyLCByLCBzcGhlcmVNYXRlcmlhbCkpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoYXV0b0Nob29zZU1hdCA8IDAuOTUpIHtcblx0XHRcdFx0XHRcdC8vIG1ldGFsXG5cdFx0XHRcdFx0XHRsZXQgYWxiZWRvID0gVmVjdG9yLnJhbmRvbUluUmFuZ2UoMC41LCAxKTtcblx0XHRcdFx0XHRcdGxldCBmdXp6ID0gcmFuZG9tSW5SYW5nZSgwLCAwLjUpO1xuXHRcdFx0XHRcdFx0bGV0IHNwaGVyZU1hdGVyaWFsID0gbmV3IE1ldGFsKGFsYmVkbywgZnV6eik7XG5cdFx0XHRcdFx0XHR0aGlzLndvcmxkLmFkZChuZXcgU3BoZXJlKGNlbnRlciwgciwgc3BoZXJlTWF0ZXJpYWwpKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gZ2xhc3Ncblx0XHRcdFx0XHRcdGxldCBzcGhlcmVNYXRlcmlhbCA9IG5ldyBEaWVsZWN0cmljKDEuNSk7XG5cdFx0XHRcdFx0XHR0aGlzLndvcmxkLmFkZChuZXcgU3BoZXJlKGNlbnRlciwgciwgc3BoZXJlTWF0ZXJpYWwpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRsZXQgbWF0ZXJpYWwxID0gbmV3IERpZWxlY3RyaWMoMS41KTtcblx0XHR0aGlzLndvcmxkLmFkZChuZXcgU3BoZXJlKG5ldyBWZWN0b3IoMCwgMSwgMCksIHJhbmRvbUluUmFuZ2UoLjUsIDEpLCBtYXRlcmlhbDEpKTtcblxuXHRcdGxldCBtYXRlcmlhbDIgPSBuZXcgTGFtYmVydGlhbihuZXcgVmVjdG9yKDAuNCwgMC4yLCAwLjEpKTtcblx0XHR0aGlzLndvcmxkLmFkZChuZXcgU3BoZXJlKG5ldyBWZWN0b3IoLTQsIDEsIDApLCByYW5kb21JblJhbmdlKC41LCAxKSwgbWF0ZXJpYWwyKSk7XG5cblx0XHRsZXQgbWF0ZXJpYWwzID0gbmV3IE1ldGFsKG5ldyBWZWN0b3IoMC43LCAwLjYsIDAuNSksIDAuMCk7XG5cdFx0dGhpcy53b3JsZC5hZGQobmV3IFNwaGVyZShuZXcgVmVjdG9yKDQsIDEsIDApLCByYW5kb21JblJhbmdlKC41LCAxKSwgbWF0ZXJpYWwzKSk7XG5cdH1cbn1cbiIsImNsYXNzIFN0YXRzIHtcblxuXHRzdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHRlbDpIVE1MRWxlbWVudDtcblx0bWVzc2FnZSA9IGBVc2UgYXJyb3cga2V5cyB0byBtb3ZlIGNhbWVyYSwgJ28nIC0gem9vbSBvdXQsICdpJyAtIHpvb20gaW5gO1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicHJlXCIpO1xuXHRcdHRoaXMuZWwuaW5uZXJUZXh0ID0gdGhpcy5tZXNzYWdlO1xuXHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5lbCk7XG5cdH1cblxuXHRzZXQoXG5cdFx0dG90YWxQaXhlbHM6bnVtYmVyLFxuXHRcdHJlbmRlcmVkUGl4ZWxzOm51bWJlcixcblx0XHRwb2ludHNQZXJGcmFtZTpudW1iZXIsXG5cdCAgICApIHtcblx0XHRsZXQgcGVyY2VudGFnZSA9IE1hdGgucm91bmQocmVuZGVyZWRQaXhlbHMvdG90YWxQaXhlbHMgKiAxMDApO1xuXHRcdGxldCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0XHRsZXQgZHVyYXRpb24gPSBub3cgLSB0aGlzLnN0YXJ0O1xuXG5cdFx0bGV0IGVsYXBzZWRNaW51dGVzID0gTWF0aC5mbG9vcihkdXJhdGlvbiAvICgxMDAwKjYwKSk7XG5cdFx0bGV0IGVsYXBzZWRTZWNvbmRzID0gTWF0aC5mbG9vcigoZHVyYXRpb24gLSAoZWxhcHNlZE1pbnV0ZXMqMTAwMCo2MCkpIC8gMTAwMCk7XG5cblx0XHR0aGlzLmVsLmlubmVyVGV4dCA9IGAke3RoaXMubWVzc2FnZX0gfHwgJHtwZXJjZW50YWdlfSUgfHwgJHtlbGFwc2VkTWludXRlc306JHtlbGFwc2VkU2Vjb25kc30gZWxhcHNlZCB8fCByZW5kZXJlZCAke3BvaW50c1BlckZyYW1lfSBwb2ludHMgcGVyIGZyYW1lYDtcblx0fVxufVxuXG5leHBvcnQgY29uc3Qgc3RhdHMgPSBuZXcgU3RhdHMoKTtcbiIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4vVmVjdG9yJztcbmltcG9ydCB7IENhbWVyYSB9IGZyb20gJy4vQ2FtZXJhJztcbmltcG9ydCB7IFJhbmRvbVNjZW5lIH0gZnJvbSAnLi9SYW5kb21TY2VuZSc7XG5pbXBvcnQgeyBzdGF0cyB9IGZyb20gJy4vU3RhdHMnO1xuXG5jb25zdCBBU1BFQ1RfUkFUSU8gPSAzLzI7XG5cbmNvbnN0IGxvb2tGcm9tID0gbmV3IFZlY3RvcigxMywgMiwzKTtcbmNvbnN0IGxvb2tBdCA9IG5ldyBWZWN0b3IoMCwwLDApO1xuY29uc3QgdnVwID0gbmV3IFZlY3RvcigwLDEsMCk7XG5jb25zdCBkaXN0VG9Gb2N1cyA9IDEwO1xuY29uc3QgYXBlcnR1cmUgPSAuMTtcbmNvbnN0IGltYWdlV2lkdGggPSA2MDA7XG5cbmV4cG9ydCBjbGFzcyBSZW5kZXJlciB7XG5cdHByb3RlY3RlZCBzdGF0aWMgY2FudmFzOkhUTUxDYW52YXNFbGVtZW50O1xuXHRwcm90ZWN0ZWQgc3RhdGljIGltYWdlRGF0YTpJbWFnZURhdGE7XG5cdHByb3RlY3RlZCBzdGF0aWMgZGF0YTpVaW50OENsYW1wZWRBcnJheTtcblx0cHJvdGVjdGVkIHN0YXRpYyBjdHg6Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXHRwcm90ZWN0ZWQgc3RhdGljIElNQUdFX1dJRFRIID0gaW1hZ2VXaWR0aDtcblx0cHJvdGVjdGVkIHN0YXRpYyBmaXJzdFJ1biA9IHRydWU7XG5cdHByb3RlY3RlZCBzdGF0aWMgSU1BR0VfSEVJR0hUOm51bWJlcjtcblx0cHJvdGVjdGVkIHN0YXRpYyByZW5kZXJQb2ludHM6W251bWJlciwgbnVtYmVyXVtdID0gW107XG5cblx0cHJvdGVjdGVkIHN0YXRpYyB3b3JsZCA9IG5ldyBSYW5kb21TY2VuZSgpLndvcmxkO1xuXHQvLyBDYW1lcmFcblxuXHRzdGF0aWMgY2FtZXJhID0gbmV3IENhbWVyYShcblx0XHRsb29rRnJvbSxcblx0XHRsb29rQXQsXG5cdFx0dnVwLFxuXHRcdDIwLFxuXHRcdEFTUEVDVF9SQVRJTyxcblx0XHRhcGVydHVyZSxcblx0XHRkaXN0VG9Gb2N1cyxcblx0KTtcblxuXHRwcm90ZWN0ZWQgc3RhdGljIGNyZWF0ZUNhbnZhcygpIHtcblx0XHRpZiAodGhpcy5jYW52YXMpIHJldHVybjtcblxuXHRcdHRoaXMuSU1BR0VfSEVJR0hUID0gdGhpcy5JTUFHRV9XSURUSCAvIEFTUEVDVF9SQVRJTztcblxuXHRcdHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cdFx0dGhpcy5jYW52YXMuc2V0QXR0cmlidXRlKCdzdHlsZScsICd0cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpJyk7XG5cdFx0dGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG5cdFx0dGhpcy5jYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGAke3RoaXMuSU1BR0VfV0lEVEh9cHhgKTtcblx0XHR0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGAke3RoaXMuSU1BR0VfSEVJR0hUfXB4YCk7XG5cblx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKTtcblxuXHRcdHRoaXMuaW1hZ2VEYXRhID0gdGhpcy5jdHguY3JlYXRlSW1hZ2VEYXRhKHRoaXMuSU1BR0VfV0lEVEgsIHRoaXMuSU1BR0VfSEVJR0hUKTtcblx0XHR0aGlzLmRhdGEgPSB0aGlzLmltYWdlRGF0YS5kYXRhO1xuXHR9XG5cblx0cHJvdGVjdGVkIHN0YXRpYyBhc3luYyB3YWl0KHRpbWU6bnVtYmVyID0gMCl7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWUpKVxuXHR9XG5cblx0c3RhdGljIHNtYXJ0UmVuZGVyKCkge1xuXHRcdGxldCBjYW5jZWwgPSAoKSA9PiBQcm9taXNlLnJlc29sdmUoKTtcblx0XHRsZXQgY2FuY2VsZWQgPSBmYWxzZTtcblxuXHRcdGFzeW5jIGZ1bmN0aW9uIHJ1bigpIHtcblx0XHRcdGxldCByZW5kZXIgPSBSZW5kZXJlci5xdWlja1JlbmRlcigpO1xuXHRcdFx0Y2FuY2VsID0gcmVuZGVyLmNhbmNlbDtcblx0XHRcdGF3YWl0IHJlbmRlci5hY3Rpb247XG5cblxuXHRcdFx0aWYgKGNhbmNlbGVkKSByZXR1cm47XG5cdFx0XHRyZW5kZXIgPSBSZW5kZXJlci5mdWxsUmVuZGVyKCk7XG5cblx0XHRcdGNhbmNlbCA9IHJlbmRlci5jYW5jZWw7XG5cdFx0XHRhd2FpdCByZW5kZXIuYWN0aW9uO1xuXHRcdH1cblxuXHRcdHJ1bigpO1xuXG5cdFx0cmV0dXJuIGFzeW5jICgpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKCdjYW5jZWwnKTtcblx0XHRcdGNhbmNlbGVkID0gdHJ1ZTtcblx0XHRcdHJldHVybiBjYW5jZWwoKTtcblx0XHR9XG5cdH1cblxuXHRwcm90ZWN0ZWQgc3RhdGljIHF1aWNrUmVuZGVyKCkge1xuXHRcdHJldHVybiB0aGlzLnJlbmRlcigxLCAzLCAgZmFsc2UpXG5cdH1cblxuXHRwcm90ZWN0ZWQgc3RhdGljIGZ1bGxSZW5kZXIoKSB7XG5cdFx0cmV0dXJuIHRoaXMucmVuZGVyKDEwLCAyMCwgdHJ1ZSlcblx0fVxuXG5cdHByb3RlY3RlZCBzdGF0aWMgcmVuZGVyKHNhbXBsZXNQZXJQaXhlbDpudW1iZXIsIG1heERlcHRoOm51bWJlciwgc2hvd1N0YXRzID0gZmFsc2UpIHtcblx0XHRsZXQgY2FuY2VsbGVkID0gZmFsc2U7XG5cdFx0dGhpcy5maXJzdFJ1biA9IGZhbHNlO1xuXG5cblx0XHRjb25zdCByZW5kZXIgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHQvLyBJbWFnZVxuXHRcdFx0dGhpcy5jcmVhdGVDYW52YXMoKTtcblxuXHRcdFx0dGhpcy5yZW5kZXJQb2ludHMgPSBbXTtcblxuXHRcdFx0Zm9yIChsZXQgaiA9IHRoaXMuSU1BR0VfSEVJR0hULTE7IGogPj0wOyAtLWopIHtcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLklNQUdFX1dJRFRIOyArK2kpIHtcblx0XHRcdFx0XHR0aGlzLnJlbmRlclBvaW50cy5wdXNoKFtpLCBqXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0dGhpcy5yZW5kZXJQb2ludHMgPSB0aGlzLnJlbmRlclBvaW50cy5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAuNSk7XG5cblx0XHRcdGNvbnN0IGZyYW1lTGVuZ3RoID0gMTAwMC8yNCAqIC44O1xuXG5cdFx0XHRjb25zb2xlLmxvZygncmVuZGVyIGZyYW1lTGVuZ3RoJywgZnJhbWVMZW5ndGgpO1xuXG5cdFx0XHRsZXQgc3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuXHRcdFx0c2hvd1N0YXRzICYmIHN0YXRzLnNldCh0aGlzLnJlbmRlclBvaW50cy5sZW5ndGgsIDAsIDApO1xuXG5cdFx0XHRsZXQgY291bnQ9MDtcblx0XHRcdGxldCBmcmFtZUNvdW50ID0gMDtcblxuXHRcdFx0Zm9yIChsZXQgW2ksIGpdIG9mIHRoaXMucmVuZGVyUG9pbnRzKSB7XG5cdFx0XHRcdHRoaXMucmVuZGVyUmF5KGksIGosIHNhbXBsZXNQZXJQaXhlbCwgbWF4RGVwdGgpO1xuXG5cdFx0XHRcdGNvdW50Kys7XG5cdFx0XHRcdGZyYW1lQ291bnQrKztcblxuXHRcdFx0XHRsZXQgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cblx0XHRcdFx0aWYobm93IC0gc3RhcnQgPiBmcmFtZUxlbmd0aCl7XG5cdFx0XHRcdFx0dGhpcy5jdHgucHV0SW1hZ2VEYXRhKHRoaXMuaW1hZ2VEYXRhLCAwLCAwKTtcblxuXHRcdFx0XHRcdG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy53YWl0KDEwMDAvMjQgLSAobm93IC0gc3RhcnQpKTtcblxuXHRcdFx0XHRcdGlmKGNhbmNlbGxlZCkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ2JlZm9yZSBjYW5jZWwnLCBjb3VudCk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0c2hvd1N0YXRzICYmIHN0YXRzLnNldCh0aGlzLnJlbmRlclBvaW50cy5sZW5ndGgsIGNvdW50LCBmcmFtZUNvdW50KTtcblxuXHRcdFx0XHRcdHN0YXJ0ID0gbm93O1xuXHRcdFx0XHRcdGZyYW1lQ291bnQgPSAwO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuY3R4LnB1dEltYWdlRGF0YSh0aGlzLmltYWdlRGF0YSwgMCwgMCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGFjdGlvbjogcmVuZGVyKCksXG5cdFx0XHRjYW5jZWw6IGFzeW5jICgpID0+IHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ2NhbmNlbGluZycpO1xuXHRcdFx0XHR0aGlzLmN0eC5wdXRJbWFnZURhdGEodGhpcy5pbWFnZURhdGEsIDAsIDApO1xuXHRcdFx0XHRhd2FpdCB0aGlzLndhaXQoMTAwMC8yNCk7XG5cdFx0XHRcdGNhbmNlbGxlZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdH1cblxuXHRzdGF0aWMgcmVuZGVyUmF5KGk6bnVtYmVyLCBqOm51bWJlciwgc2FtcGxlc1BlclBpeGVsOm51bWJlciwgbWF4RGVwdGg6bnVtYmVyKSB7XG5cblx0XHRsZXQgY29sb3IgPSBuZXcgVmVjdG9yKDAsMCwwKTtcblxuXHRcdGZvcihsZXQgcyA9IDA7IHM8c2FtcGxlc1BlclBpeGVsOyArK3MpIHtcblx0XHRcdGNvbnN0IHUgPSAoaSArIE1hdGgucmFuZG9tKCkpIC8gKHRoaXMuSU1BR0VfV0lEVEgtMSk7XG5cdFx0XHRjb25zdCB2ID0gKGogKyBNYXRoLnJhbmRvbSgpKSAvICh0aGlzLklNQUdFX0hFSUdIVC0xKTtcblx0XHRcdGxldCByYXkgPSB0aGlzLmNhbWVyYS5nZXRSYXkodSwgdik7XG5cdFx0XHRjb2xvciA9IGNvbG9yLmFkZChyYXkuY29sb3IodGhpcy53b3JsZCwgbWF4RGVwdGgpKVxuXHRcdH1cblxuXHRcdGNvbnN0IFtyLGcsYixhXSA9IGNvbG9yLndyaXRlQ29sb3Ioc2FtcGxlc1BlclBpeGVsKTtcblxuXHRcdGNvbnN0IHN0YXJ0SW5kZXggPSAoaip0aGlzLklNQUdFX1dJRFRIKjQpICsgKGkqNCk7XG5cblx0XHR0aGlzLmRhdGFbc3RhcnRJbmRleF0gPSByO1xuXHRcdHRoaXMuZGF0YVtzdGFydEluZGV4KzFdID0gZztcblx0XHR0aGlzLmRhdGFbc3RhcnRJbmRleCsyXSA9IGI7XG5cdFx0dGhpcy5kYXRhW3N0YXJ0SW5kZXgrM10gPSBhO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4vUmVuZGVyZXInO1xuXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jOkZ1bmN0aW9uLCBpbnRlcnZhbDpudW1iZXIpIHtcblx0bGV0IGNhbGxlZCA9IDA7XG5cdHJldHVybiAoLi4uYXJnczphbnlbXSkgPT4ge1xuXHRcdGxldCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0XHRpZihub3cgLSBjYWxsZWQgPiBpbnRlcnZhbCkge1xuXHRcdFx0ZnVuYy5hcHBseShmdW5jLCBhcmdzKTtcblx0XHRcdGNvbnNvbGUubG9nKCd5ZXMnLCBub3cgLSBjYWxsZWQpO1xuXHRcdFx0Y2FsbGVkID0gbm93O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLmxvZygnbm90Jyk7XG5cdFx0fVxuXHR9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJ1bigpIHtcblxuXHRkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBkZWJvdW5jZShvbktleXByZXNzLCAxMDApKTtcblxuXHRsZXQgY2FuY2VsbGVyOigpPT5Qcm9taXNlPGFueT47XG5cblx0YXN5bmMgZnVuY3Rpb24gb25LZXlwcmVzcyhlOktleWJvYXJkRXZlbnQpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0c3dpdGNoIChlLmtleUNvZGUpIHtcblx0XHRcdGNhc2UgMzc6XG5cdFx0XHRcdGF3YWl0IGNhbmNlbGxlcigpO1xuXHRcdFx0XHRSZW5kZXJlci5jYW1lcmEubW92ZUxlZnQoKTtcblx0XHRcdFx0Y2FuY2VsbGVyID0gUmVuZGVyZXIuc21hcnRSZW5kZXIoKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDM5OlxuXHRcdFx0XHRhd2FpdCBjYW5jZWxsZXIoKTtcblx0XHRcdFx0UmVuZGVyZXIuY2FtZXJhLm1vdmVSaWdodCgpO1xuXHRcdFx0XHRjYW5jZWxsZXIgPSBSZW5kZXJlci5zbWFydFJlbmRlcigpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgMzg6XG5cdFx0XHRcdGF3YWl0IGNhbmNlbGxlcigpO1xuXHRcdFx0XHRSZW5kZXJlci5jYW1lcmEubW92ZVVwKCk7XG5cdFx0XHRcdGNhbmNlbGxlciA9IFJlbmRlcmVyLnNtYXJ0UmVuZGVyKCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSA0MDpcblx0XHRcdFx0YXdhaXQgY2FuY2VsbGVyKCk7XG5cdFx0XHRcdFJlbmRlcmVyLmNhbWVyYS5tb3ZlRG93bigpO1xuXHRcdFx0XHRjYW5jZWxsZXIgPSBSZW5kZXJlci5zbWFydFJlbmRlcigpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgNzM6XG5cdFx0XHRcdGF3YWl0IGNhbmNlbGxlcigpO1xuXHRcdFx0XHRSZW5kZXJlci5jYW1lcmEuem9vbUluKCk7XG5cdFx0XHRcdGNhbmNlbGxlciA9IFJlbmRlcmVyLnNtYXJ0UmVuZGVyKCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSA3OTpcblx0XHRcdFx0YXdhaXQgY2FuY2VsbGVyKCk7XG5cdFx0XHRcdFJlbmRlcmVyLmNhbWVyYS56b29tT3V0KCk7XG5cdFx0XHRcdGNhbmNlbGxlciA9IFJlbmRlcmVyLnNtYXJ0UmVuZGVyKCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdGNhbmNlbGxlciA9IFJlbmRlcmVyLnNtYXJ0UmVuZGVyKCk7XG59XG5cbnJ1bigpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///915\n')})();