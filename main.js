(()=>{"use strict";var __webpack_require__={};__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Q){if("object"==typeof window)return window}}(),(()=>{var Q;__webpack_require__.g.importScripts&&(Q=__webpack_require__.g.location+"");var F=__webpack_require__.g.document;if(!Q&&F&&(F.currentScript&&(Q=F.currentScript.src),!Q)){var U=F.getElementsByTagName("script");U.length&&(Q=U[U.length-1].src)}if(!Q)throw new Error("Automatic publicPath is not supported in this browser");Q=Q.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=Q})(),eval("\n;// CONCATENATED MODULE: ./src/Utils.ts\n\nfunction degreesToRadians(degrees) {\n    return degrees * Math.PI / 180;\n}\nfunction randomInRange(min, max) {\n    return min + (max - min) * Math.random();\n}\nfunction clamp(x, min, max) {\n    if (x < min)\n        return min;\n    if (x > max)\n        return max;\n    return x;\n}\nfunction randomInUnitSphere() {\n    while (true) {\n        let p = Vector_Vector.randomInRange(-1, 1);\n        if (p.length_squared() >= 1)\n            continue;\n        return p;\n    }\n}\nfunction randomUnitVector() {\n    return Vector_Vector.unitVector(randomInUnitSphere());\n}\nfunction randomInHemisphere(normal) {\n    let inUnitSphere = randomInUnitSphere();\n    if (Vector.dot(inUnitSphere, normal) > 0)\n        return inUnitSphere;\n    else\n        return inUnitSphere.multiplyNum(-1);\n}\nfunction randomInUnitDisk() {\n    while (true) {\n        let p = new Vector_Vector(randomInRange(-1, 1), randomInRange(-1, 1), 0);\n        if (p.length_squared() >= 1)\n            continue;\n        return p;\n    }\n}\n\n;// CONCATENATED MODULE: ./src/Vector.ts\n\nclass Vector_Vector {\n    constructor(x, y, z) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n    serialize() {\n        return {\n            x: this.x,\n            y: this.y,\n            z: this.z,\n            type: 'Vector',\n        };\n    }\n    static deserialize(o) {\n        return new Vector_Vector(o.x, o.y, o.z);\n    }\n    subtract(v) {\n        return new Vector_Vector(this.x - v.x, this.y - v.y, this.z - v.z);\n    }\n    subtractNum(v) {\n        return new Vector_Vector(this.x - v, this.y - v, this.z - v);\n    }\n    subtractFrom(v) {\n        return new Vector_Vector(this.x - v.x, this.y - v.y, this.z - v.z);\n    }\n    add(v) {\n        return new Vector_Vector(this.x + v.x, this.y + v.y, this.z + v.z);\n    }\n    addNum(v) {\n        return new Vector_Vector(this.x + v, this.y + v, this.z + v);\n    }\n    multiply(v) {\n        return new Vector_Vector(this.x * v.x, this.y * v.y, this.z * v.z);\n    }\n    multiplyNum(v) {\n        return new Vector_Vector(this.x * v, this.y * v, this.z * v);\n    }\n    divide(v) {\n        return new Vector_Vector(this.x / v.x, this.y / v.y, this.z / v.z);\n    }\n    divideNum(v) {\n        return new Vector_Vector(this.x / v, this.y / v, this.z / v);\n    }\n    length_squared() {\n        const sqrd = this.multiply(this);\n        return sqrd.x + sqrd.y + sqrd.z;\n    }\n    length() {\n        return Math.sqrt(this.length_squared());\n    }\n    writeColor(samplesPerPixel) {\n        return Vector_Vector.writeColor(this, samplesPerPixel);\n    }\n    nearZero() {\n        const s = 1e-8;\n        return (Math.abs(this.x) < s)\n            && (Math.abs(this.y) < s)\n            && (Math.abs(this.z) < s);\n    }\n    static reflect(v1, v2) {\n        return v1.subtract(v2.multiplyNum(2 * Vector_Vector.dot(v1, v2)));\n    }\n    static refract(v1, v2, etaiOverEtat) {\n        let cosTheta = Math.min(Vector_Vector.dot(v1.multiplyNum(-1), v2), 1);\n        let rOutPerp = v1.add(v2.multiplyNum(cosTheta))\n            .multiplyNum(etaiOverEtat);\n        let rOutParallel = v2.multiplyNum(-Math.sqrt(Math.abs(1 - rOutPerp.length_squared())));\n        return rOutPerp.add(rOutParallel);\n    }\n    static add(v1, v2) {\n        return v1.add(v2);\n    }\n    static subtract(v1, v2) {\n        return v1.subtract(v2);\n    }\n    static multiply(v1, v2) {\n        return v1.multiply(v2);\n    }\n    static multiplyNum(v1, v2) {\n        return v1.multiplyNum(v2);\n    }\n    static divide(t, v) {\n        return v.divideNum(t);\n    }\n    static dot(v1, v2) {\n        return v1.x * v2.x\n            + v1.y * v2.y\n            + v1.z * v2.z;\n    }\n    static cross(v1, v2) {\n        return new Vector_Vector(v1.y * v2.z - v1.z * v2.y, v1.z * v2.x - v1.x * v2.z, v1.x * v2.y - v1.y * v2.x);\n    }\n    static unitVector(v) {\n        return v.divideNum(v.length());\n    }\n    static writeColor(v, samplesPerPixel) {\n        let r = v.x;\n        let g = v.y;\n        let b = v.z;\n        let scale = 1 / samplesPerPixel;\n        r = Math.sqrt(scale * r);\n        g = Math.sqrt(scale * g);\n        b = Math.sqrt(scale * b);\n        return [\n            256 * clamp(r, 0, .999),\n            256 * clamp(g, 0, .999),\n            256 * clamp(b, 0, .999),\n            255,\n        ];\n    }\n    static random() {\n        return new Vector_Vector(Math.random(), Math.random(), Math.random());\n    }\n    static randomInRange(min, max) {\n        return new Vector_Vector(randomInRange(min, max), randomInRange(min, max), randomInRange(min, max));\n    }\n}\n\n;// CONCATENATED MODULE: ./src/Hittable.ts\n\nclass HitRecord {\n    constructor(p = null, t = null, normal = null) {\n        this.p = p;\n        this.t = t;\n        this.normal = normal;\n    }\n    setFaceNormal(r, outwardNormal) {\n        this.frontFace = Vector_Vector.dot(r.direction, outwardNormal) < 0;\n        this.normal = this.frontFace ? outwardNormal : outwardNormal.multiplyNum(-1);\n    }\n}\nfunction sortHittables(from, list) {\n    let distances = new Map();\n    list.forEach(o => distances.set(o, o.distanceFrom(from)));\n    return list.sort((a, b) => distances.get(a) - distances.get(b));\n}\n\n;// CONCATENATED MODULE: ./src/Ray.ts\n\n\nclass Ray {\n    constructor(origin, direction) {\n        this.origin = origin;\n        this.direction = direction;\n    }\n    at(t) {\n        return this.origin.add(this.direction.multiplyNum(t));\n    }\n    color(world, depth) {\n        if (depth <= 0)\n            return new Vector_Vector(0, 0, 0);\n        let rec = new HitRecord();\n        if (world.hit(this, 0.00001, Infinity, rec)) {\n            let scattered = new Ray(null, null);\n            let attenuation = new Vector_Vector(0, 0, 0);\n            if (rec.material.scatter(this, rec, attenuation, scattered))\n                return attenuation.multiply(scattered.color(world, depth - 1));\n            else if (rec.material.lightSource(attenuation))\n                return attenuation;\n            return new Vector_Vector(0, 0, 0);\n        }\n        let unitDirection = Vector_Vector.unitVector(this.direction);\n        let t = .5 * (unitDirection.y + 1);\n        const white = new Vector_Vector(1, 1, 1);\n        const blue = new Vector_Vector(.5, .7, 1);\n        return white\n            .multiplyNum(1 - t)\n            .add(blue.multiplyNum(t));\n    }\n}\n\n;// CONCATENATED MODULE: ./src/HittableList.ts\n\nclass HittableList {\n    constructor() {\n        this.list = [];\n    }\n    distanceFrom(center) {\n        throw new Error('Method not implemented.');\n    }\n    static deserialize(object) {\n        let hittableList = new HittableList();\n        hittableList.list = object.list.map(deserialize);\n        return hittableList;\n    }\n    serialize() {\n        return {\n            list: this.list.map(o => o.serialize()),\n            type: 'HittableList',\n        };\n    }\n    add(object) {\n        this.list.push(object);\n    }\n    clear() {\n        this.list = [];\n    }\n    hit(r, tMin, tMax, record) {\n        let tempRec = record;\n        let hitAnything = false;\n        let closestSoFar = tMax;\n        for (let object of this.list) {\n            if (object.hit(r, tMin, closestSoFar, tempRec)) {\n                hitAnything = true;\n                closestSoFar = tempRec.t;\n                this.merge(record, tempRec);\n            }\n        }\n        return hitAnything;\n    }\n    merge(target, object) {\n        target.normal = object.normal;\n        target.frontFace = object.frontFace;\n        target.material = object.material;\n        target.p = object.p;\n        target.t = object.t;\n    }\n}\n\n;// CONCATENATED MODULE: ./src/Sphere.ts\n\n\nclass Sphere {\n    constructor(center, radius, material) {\n        this.center = center;\n        this.radius = radius;\n        this.material = material;\n    }\n    static deserialize(object) {\n        return new Sphere(deserialize(object.center), object.radius, deserialize(object.material));\n    }\n    serialize() {\n        return {\n            center: this.center.serialize(),\n            radius: this.radius,\n            material: this.material.serialize(),\n            type: 'Sphere',\n        };\n    }\n    distanceFrom(center) {\n        return Math.sqrt(Math.pow(this.center.x - center.x, 2) + Math.pow(this.center.y - center.y, 2) + Math.pow(this.center.z - center.z, 2));\n    }\n    hit(r, tMin, tMax, rec) {\n        let oc = r.origin.subtract(this.center);\n        let a = r.direction.length_squared();\n        let halfB = Vector_Vector.dot(oc, r.direction);\n        let c = oc.length_squared() - this.radius * this.radius;\n        let discriminant = halfB * halfB - a * c;\n        if (discriminant < 0)\n            return false;\n        let sqrt = Math.sqrt(discriminant);\n        let root = (-halfB - sqrt) / a;\n        if (root < tMin || tMax < root) {\n            root = (-halfB + sqrt) / a;\n            if (root < tMin || tMax < root)\n                return false;\n        }\n        rec.t = root;\n        rec.p = r.at(rec.t);\n        let outwardNormal = rec.p\n            .subtract(this.center)\n            .divideNum(this.radius);\n        rec.setFaceNormal(r, outwardNormal);\n        rec.material = this.material;\n        return true;\n    }\n}\n\n;// CONCATENATED MODULE: ./src/Material.ts\n\n\n\n\nclass Lambertian {\n    constructor(color) {\n        this.color = color;\n    }\n    static deserialize(object) {\n        return new Lambertian(deserialize(object.color));\n    }\n    serialize() {\n        return {\n            type: 'Lambertian',\n            color: this.color.serialize(),\n        };\n    }\n    lightSource(attenuation) {\n        return false;\n    }\n    scatter(rIn, rec, attenuation, scattered) {\n        let scatterDirection = rec.normal.add(randomUnitVector());\n        if (scatterDirection.nearZero())\n            scatterDirection = rec.normal;\n        Object.assign(scattered, new Ray(rec.p, scatterDirection));\n        Object.assign(attenuation, this.color);\n        return true;\n    }\n}\nclass Light {\n    static deserialize(object) {\n        return new Light();\n    }\n    serialize() {\n        return {\n            type: 'Light',\n        };\n    }\n    constructor() {\n    }\n    lightSource(attenuation) {\n        Object.assign(attenuation, new Vector_Vector(1.9, 1.9, 1.9));\n        return true;\n    }\n    scatter(rIn, rec, attenuation, scattered) {\n        let scatterDirection = rec.normal.add(randomUnitVector());\n        if (scatterDirection.nearZero())\n            scatterDirection = rec.normal;\n        Object.assign(scattered, new Ray(rec.p, scatterDirection));\n        Object.assign(attenuation, new Vector_Vector(1.9, 1.9, 1.9));\n        return false;\n    }\n}\nclass Metal {\n    constructor(color, fuzz) {\n        this.color = color;\n        this.fuzz = fuzz;\n    }\n    static deserialize(object) {\n        return new Metal(deserialize(object.color), object.fuzz);\n    }\n    serialize() {\n        return {\n            type: 'Metal',\n            color: this.color.serialize(),\n            fuzz: this.fuzz,\n        };\n    }\n    lightSource(attenuation) {\n        return false;\n    }\n    scatter(rIn, rec, attenuation, scattered) {\n        let reflect = Vector_Vector.reflect(Vector_Vector.unitVector(rIn.direction), rec.normal);\n        Object.assign(scattered, new Ray(rec.p, reflect.add(randomInUnitSphere().multiplyNum(this.fuzz))));\n        Object.assign(attenuation, this.color);\n        return Vector_Vector.dot(scattered.direction, rec.normal) > 0;\n    }\n}\nclass Dielectric {\n    constructor(indexOfRefraction) {\n        this.indexOfRefraction = indexOfRefraction;\n    }\n    static deserialize(object) {\n        return new Dielectric(object.indexOfRefraction);\n    }\n    serialize() {\n        return {\n            type: 'Dielectric',\n            indexOfRefraction: this.indexOfRefraction\n        };\n    }\n    lightSource(attenuation) {\n        return false;\n    }\n    scatter(rIn, rec, attenuation, scattered) {\n        let refractionRatio = rec.frontFace ? 1 / this.indexOfRefraction : this.indexOfRefraction;\n        let unitDirection = Vector_Vector.unitVector(rIn.direction);\n        let cosTheta = Math.min(Vector_Vector.dot(unitDirection.multiplyNum(-1), rec.normal), 1);\n        let sinTheta = Math.sqrt(1 - cosTheta * cosTheta);\n        let cannotRefract = refractionRatio * sinTheta > 1;\n        let direction;\n        if (cannotRefract || this.reflectance(cosTheta, refractionRatio) > Math.random())\n            direction = Vector_Vector.reflect(unitDirection, rec.normal);\n        else\n            direction = Vector_Vector.refract(unitDirection, rec.normal, refractionRatio);\n        Object.assign(scattered, new Ray(rec.p, direction));\n        Object.assign(attenuation, new Vector_Vector(1, 1, 1));\n        return true;\n    }\n    reflectance(cosine, refIdx) {\n        let r0 = (1 - refIdx) / (1 + refIdx);\n        r0 = r0 * r0;\n        return r0 + (1 - r0) * Math.pow((1 - cosine), 5);\n    }\n}\n\n;// CONCATENATED MODULE: ./src/deserialize.ts\n\n\n\n\n\nconst isHittableList = (o) => o.type == 'HittableList';\nconst isSphere = (o) => o.type == 'Sphere';\nconst isVector = (o) => o.type == 'Vector';\nconst isCamera = (o) => o.type == 'Camera';\nconst isLambertian = (o) => o.type == 'Lambertian';\nconst isLight = (o) => o.type == 'Light';\nconst isDielectric = (o) => o.type == 'Dielectric';\nconst isMetal = (o) => o.type == 'Metal';\nfunction deserialize(o) {\n    if (isHittableList(o))\n        return HittableList.deserialize(o);\n    if (isSphere(o))\n        return Sphere.deserialize(o);\n    if (isVector(o))\n        return Vector_Vector.deserialize(o);\n    if (isCamera(o))\n        return Camera.deserialize(o);\n    if (isLambertian(o))\n        return Lambertian.deserialize(o);\n    if (isLight(o))\n        return Light.deserialize(o);\n    if (isDielectric(o))\n        return Dielectric.deserialize(o);\n    if (isMetal(o))\n        return Metal.deserialize(o);\n    throw new Error(\"Could not deserialize \" + JSON.stringify(o));\n}\n\n;// CONCATENATED MODULE: ./src/Camera.ts\n\n\n\n\nclass Camera {\n    constructor(lookFrom, lookAt, vUp, vFov, aspectRatio, aperture, focusDist) {\n        this.lookFrom = lookFrom;\n        this.lookAt = lookAt;\n        this.vUp = vUp;\n        this.vFov = vFov;\n        this.aspectRatio = aspectRatio;\n        this.aperture = aperture;\n        this.focusDist = focusDist;\n        this.init();\n    }\n    static deserialize(o) {\n        return new Camera(deserialize(o.lookFrom), deserialize(o.lookAt), deserialize(o.vUp), o.vFov, o.aspectRatio, o.aperture, o.focusDist);\n    }\n    serialize() {\n        return {\n            type: 'Camera',\n            lookFrom: this.lookFrom.serialize(),\n            lookAt: this.lookAt.serialize(),\n            vUp: this.vUp.serialize(),\n            vFov: this.vFov,\n            aspectRatio: this.aspectRatio,\n            aperture: this.aperture,\n            focusDist: this.focusDist,\n        };\n    }\n    moveRight() {\n        this.lookFrom.z += .5;\n        this.init();\n    }\n    moveLeft() {\n        this.lookFrom.z -= .5;\n        this.init();\n    }\n    moveUp() {\n        this.lookFrom.y += .5;\n        this.init();\n    }\n    moveDown() {\n        this.lookFrom.y -= .5;\n        this.init();\n    }\n    zoomIn() {\n        this.vFov -= .5;\n        this.init();\n    }\n    zoomOut() {\n        this.vFov += .5;\n        this.init();\n    }\n    init() {\n        let theta = degreesToRadians(this.vFov);\n        let h = Math.tan(theta / 2);\n        this.viewportHeight = 2 * h;\n        this.viewportWidth = this.aspectRatio * this.viewportHeight;\n        let w = Vector_Vector.unitVector(this.lookFrom.subtract(this.lookAt));\n        this.u = Vector_Vector.unitVector(Vector_Vector.cross(this.vUp, w));\n        this.v = Vector_Vector.cross(w, this.u);\n        this.lensRadius = this.aperture / 2;\n        this.origin = this.lookFrom;\n        this.horizontal = this.u.multiplyNum(this.viewportWidth).multiplyNum(this.focusDist);\n        this.vertical = this.v.multiplyNum(this.viewportHeight).multiplyNum(this.focusDist);\n        this.lowerLeftCorner = this.origin\n            .subtract(this.horizontal.divideNum(2))\n            .subtract(this.vertical.divideNum(2))\n            .subtract(w.multiplyNum(this.focusDist));\n    }\n    getRay(s, t) {\n        let rd = randomInUnitDisk().multiplyNum(this.lensRadius);\n        let offset = this.u.multiplyNum(rd.x)\n            .add(this.v.multiplyNum(rd.y));\n        return new Ray(this.origin.add(offset), this.lowerLeftCorner\n            .add(this.horizontal.multiplyNum(s))\n            .add(this.vertical.multiplyNum(t))\n            .subtract(this.origin)\n            .subtract(offset));\n    }\n}\n\n;// CONCATENATED MODULE: ./src/RandomScene.ts\n\n\n\n\n\nclass RandomScene {\n    constructor() {\n        this.world = new HittableList();\n        this.groundMat = new Lambertian(new Vector_Vector(.5, .5, .5));\n        this.world.add(new Sphere(new Vector_Vector(0, -1000, 0), 1000, this.groundMat));\n        const balls = 5;\n        for (let a = -balls; a < balls; a++) {\n            for (let b = -balls; b < balls; b++) {\n                let autoChooseMat = Math.random();\n                let center = new Vector_Vector(a + 0.9 * Math.random(), 0.2, b + 0.9 * Math.random());\n                if ((center.subtract(new Vector_Vector(4, 0.2, 0))).length() > 0.9) {\n                    let r = randomInRange(.01, .4);\n                    if (autoChooseMat < 0.8) {\n                        // diffuse\n                        let albedo = Vector_Vector.random().multiply(Vector_Vector.random());\n                        let sphereMaterial = new Lambertian(albedo);\n                        this.world.add(new Sphere(center, r, sphereMaterial));\n                    }\n                    else if (autoChooseMat < 0.9) {\n                        // metal\n                        let albedo = Vector_Vector.randomInRange(0.5, 1);\n                        let fuzz = randomInRange(0, 0.5);\n                        let sphereMaterial = new Metal(albedo, fuzz);\n                        this.world.add(new Sphere(center, r, sphereMaterial));\n                    }\n                    else if (autoChooseMat < 0.95) {\n                        // light\n                        let sphereMaterial = new Light();\n                        this.world.add(new Sphere(center, r, sphereMaterial));\n                    }\n                    else {\n                        // glass\n                        let sphereMaterial = new Dielectric(1.5);\n                        this.world.add(new Sphere(center, r, sphereMaterial));\n                    }\n                }\n            }\n        }\n        let material1 = new Dielectric(1.5);\n        this.world.add(new Sphere(new Vector_Vector(0, 1, 0), randomInRange(.3, 1.5), material1));\n        let material2 = new Lambertian(new Vector_Vector(0.4, 0.2, 0.1));\n        this.world.add(new Sphere(new Vector_Vector(-4, 1, 0), randomInRange(.3, 1.5), material2));\n        let material3 = new Metal(new Vector_Vector(0.7, 0.6, 0.5), 0.0);\n        this.world.add(new Sphere(new Vector_Vector(4, 1, 0), randomInRange(.3, 1.5), material3));\n    }\n}\n\n;// CONCATENATED MODULE: ./src/Stats.ts\nclass Stats {\n    constructor() {\n        this.start = new Date().getTime();\n        this.message = `Use arrow keys to move camera, 'o' - zoom out, 'i' - zoom in`;\n        this.el = document.createElement(\"pre\");\n        this.el.innerText = this.message;\n        document.body.appendChild(this.el);\n    }\n    reset() {\n        this.start = new Date().getTime();\n    }\n    set(totalPixels, renderedPixels, pointsPerFrame) {\n        let percentage = Math.round(renderedPixels / totalPixels * 100);\n        let now = new Date().getTime();\n        let duration = now - this.start;\n        let elapsedMinutes = Math.floor(duration / (1000 * 60));\n        let elapsedSeconds = Math.floor((duration - (elapsedMinutes * 1000 * 60)) / 1000);\n        this.el.innerText = `${this.message} || ${percentage}% || ${elapsedMinutes}:${elapsedSeconds} elapsed`;\n    }\n}\nconst stats = new Stats();\n\n;// CONCATENATED MODULE: ./src/RendererSlave.worker.ts\nfunction Worker_fn() {\n  return new Worker(__webpack_require__.p + \"main.worker.js\");\n}\n\n;// CONCATENATED MODULE: ./src/Config.ts\nclass Config {\n    constructor() {\n        this.samplesPerPixel = 20;\n        this.maxDepth = 20;\n        this.imageWidth = 1000;\n        this.aspectRatio = 16 / 9;\n        this.imageHeight = Math.round(this.imageWidth / this.aspectRatio);\n    }\n}\n\n;// CONCATENATED MODULE: ./src/Renderer.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\nconst lookFrom = new Vector_Vector(13, 2, 3);\nconst lookAt = new Vector_Vector(0, 0, 0);\nconst vup = new Vector_Vector(0, 1, 0);\nconst distToFocus = 10;\nconst aperture = .1;\nconst workers = 8;\nconst config = new Config();\nclass Renderer {\n    static createCanvas() {\n        if (this.canvas)\n            return;\n        this.canvas = document.createElement('canvas');\n        this.canvas.setAttribute('style', 'transform: rotate(180deg)');\n        this.ctx = this.canvas.getContext('2d');\n        this.canvas.setAttribute('width', `${this.config.imageWidth}px`);\n        this.canvas.setAttribute('height', `${this.config.imageHeight}px`);\n        document.body.appendChild(this.canvas);\n        this.imageData = this.ctx.createImageData(this.config.imageWidth, this.config.imageHeight);\n        this.data = this.imageData.data;\n        for (let j = 0; j < this.config.imageHeight; ++j) {\n            for (let i = 0; i < this.config.imageWidth; ++i) {\n                this.templatePoints.push([i, j]);\n            }\n        }\n        this.cameraBuffer = this.jsonToSharedArrayBuffer(this.camera.serialize());\n        this.worldBuffer = this.jsonToSharedArrayBuffer(this.world.serialize());\n    }\n    static jsonToSharedArrayBuffer(obj) {\n        let str = JSON.stringify(obj);\n        let sharedArrayBuffer = new SharedArrayBuffer(str.length * 2);\n        let bufView = new Uint16Array(sharedArrayBuffer);\n        for (let i = 0, strLen = str.length; i < strLen; i++) {\n            bufView[i] = str.charCodeAt(i);\n        }\n        return sharedArrayBuffer;\n    }\n    static smartRender() {\n        this.cameraBuffer = this.jsonToSharedArrayBuffer(this.camera.serialize());\n        let cancel = () => Promise.resolve();\n        let canceled = false;\n        function run() {\n            return __awaiter(this, void 0, void 0, function* () {\n                let render = Renderer.quickRender();\n                cancel = render.cancel;\n                yield render.action;\n                render = Renderer.fullRender();\n                cancel = render.cancel;\n                yield render.action;\n            });\n        }\n        run();\n        return () => __awaiter(this, void 0, void 0, function* () {\n            console.log('cancel');\n            canceled = true;\n            return cancel();\n        });\n    }\n    static getWorker() {\n        let worker = this.availableWorkers.pop();\n        if (!worker) {\n            worker = new Worker_fn();\n        }\n        this.workingWorkers.push(worker);\n        return worker;\n    }\n    static stopWorkers() {\n        this.workingWorkers.forEach(w => w.postMessage({ terminate: true }));\n        this.availableWorkers.push(...this.workingWorkers);\n        this.workingWorkers = [];\n    }\n    static startWorker(points, samplesPerPixel, maxDepth) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve => {\n                const worker = this.getWorker();\n                worker.postMessage({\n                    points,\n                    samplesPerPixel,\n                    maxDepth,\n                    world: this.worldBuffer,\n                    camera: this.cameraBuffer,\n                });\n                worker.onmessage = ({ data }) => {\n                    const { from, result, done } = data;\n                    const [[i, j]] = from;\n                    const offset = (j * this.config.imageWidth * 4) + (i * 4);\n                    this.data.set(result, offset);\n                    this.renderedPixels += from.length;\n                    stats.set(this.renderPoints.length, this.renderedPixels, 0);\n                    this.ctx.putImageData(this.imageData, 0, 0);\n                    if (done)\n                        resolve();\n                };\n            }));\n        });\n    }\n    static wait(time = 0) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve) => setTimeout(resolve, time));\n        });\n    }\n    static quickRender() {\n        return this.render(1, 3, false);\n    }\n    static fullRender() {\n        return this.render(10, 20, true);\n    }\n    static render(samplesPerPixel, maxDepth, showStats = false) {\n        let cancelled = false;\n        this.firstRun = false;\n        stats.reset();\n        this.renderedPixels = 0;\n        const render = () => __awaiter(this, void 0, void 0, function* () {\n            this.renderPoints = this.templatePoints;\n            const frameLength = 1000 / 24;\n            console.log('render frameLength', frameLength);\n            stats.set(this.renderPoints.length, 0, 0);\n            const pointsPerWorker = this.renderPoints.length / workers;\n            const work = [];\n            for (let i = 0; i < workers; i++) {\n                work.push(this.startWorker(this.renderPoints.slice(i * pointsPerWorker, i * pointsPerWorker + pointsPerWorker), samplesPerPixel, maxDepth));\n            }\n            return Promise.all(work);\n        });\n        return {\n            action: render(),\n            cancel: () => __awaiter(this, void 0, void 0, function* () {\n                console.log('canceling');\n                this.stopWorkers();\n                this.ctx.putImageData(this.imageData, 0, 0);\n                yield this.wait(1000 / 24);\n                cancelled = true;\n            }),\n        };\n    }\n}\nRenderer.availableWorkers = [];\nRenderer.workingWorkers = [];\nRenderer.config = config;\nRenderer.renderedPixels = 0;\nRenderer.camera = new Camera(lookFrom, lookAt, vup, 20, config.aspectRatio, aperture, distToFocus);\n// Camera\nRenderer.firstRun = true;\nRenderer.renderPoints = [];\nRenderer.templatePoints = [];\nRenderer.world = new RandomScene().world;\n\n;// CONCATENATED MODULE: ./src/index.ts\nvar src_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\nfunction debounce(func, interval) {\n    let called = 0;\n    return (...args) => {\n        let now = new Date().getTime();\n        if (now - called > interval) {\n            func.apply(func, args);\n            console.log('yes', now - called);\n            called = now;\n        }\n        else {\n            console.log('not');\n        }\n    };\n}\nfunction run() {\n    return src_awaiter(this, void 0, void 0, function* () {\n        Renderer.createCanvas();\n        document.body.addEventListener('keydown', debounce(onKeypress, 100));\n        let canceller;\n        function onKeypress(e) {\n            return src_awaiter(this, void 0, void 0, function* () {\n                e.preventDefault();\n                switch (e.keyCode) {\n                    case 37:\n                        yield canceller();\n                        Renderer.camera.moveLeft();\n                        canceller = Renderer.smartRender();\n                        break;\n                    case 39:\n                        yield canceller();\n                        Renderer.camera.moveRight();\n                        canceller = Renderer.smartRender();\n                        break;\n                    case 38:\n                        yield canceller();\n                        Renderer.camera.moveUp();\n                        canceller = Renderer.smartRender();\n                        break;\n                    case 40:\n                        yield canceller();\n                        Renderer.camera.moveDown();\n                        canceller = Renderer.smartRender();\n                        break;\n                    case 73:\n                        yield canceller();\n                        Renderer.camera.zoomIn();\n                        canceller = Renderer.smartRender();\n                        break;\n                    case 79:\n                        yield canceller();\n                        Renderer.camera.zoomOut();\n                        canceller = Renderer.smartRender();\n                        break;\n                }\n            });\n        }\n        canceller = Renderer.smartRender();\n    });\n}\nrun();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yYXl0cmFjZXIvLi9zcmMvVXRpbHMudHM/OTE3OSIsIndlYnBhY2s6Ly9yYXl0cmFjZXIvLi9zcmMvVmVjdG9yLnRzP2Y3ZjIiLCJ3ZWJwYWNrOi8vcmF5dHJhY2VyLy4vc3JjL0hpdHRhYmxlLnRzPzdlMmEiLCJ3ZWJwYWNrOi8vcmF5dHJhY2VyLy4vc3JjL1JheS50cz8xNzU0Iiwid2VicGFjazovL3JheXRyYWNlci8uL3NyYy9IaXR0YWJsZUxpc3QudHM/YWI1ZiIsIndlYnBhY2s6Ly9yYXl0cmFjZXIvLi9zcmMvU3BoZXJlLnRzP2I3NTciLCJ3ZWJwYWNrOi8vcmF5dHJhY2VyLy4vc3JjL01hdGVyaWFsLnRzPzYxY2EiLCJ3ZWJwYWNrOi8vcmF5dHJhY2VyLy4vc3JjL2Rlc2VyaWFsaXplLnRzPzI3NTciLCJ3ZWJwYWNrOi8vcmF5dHJhY2VyLy4vc3JjL0NhbWVyYS50cz84OTUyIiwid2VicGFjazovL3JheXRyYWNlci8uL3NyYy9SYW5kb21TY2VuZS50cz9hOWNhIiwid2VicGFjazovL3JheXRyYWNlci8uL3NyYy9TdGF0cy50cz85ZTcyIiwid2VicGFjazovL3JheXRyYWNlci8uL3NyYy9SZW5kZXJlclNsYXZlLndvcmtlci50cz83YzA0Iiwid2VicGFjazovL3JheXRyYWNlci8uL3NyYy9Db25maWcudHM/ZjJjZiIsIndlYnBhY2s6Ly9yYXl0cmFjZXIvLi9zcmMvUmVuZGVyZXIudHM/MDRmOCIsIndlYnBhY2s6Ly9yYXl0cmFjZXIvLi9zcmMvaW5kZXgudHM/ZmZiNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFrQztBQUUzQixTQUFTLGdCQUFnQixDQUFDLE9BQWU7SUFDL0MsT0FBTyxPQUFPLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUM7QUFDaEMsQ0FBQztBQUVNLFNBQVMsYUFBYSxDQUFDLEdBQVcsRUFBRSxHQUFXO0lBQ3JELE9BQU8sR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUMxQyxDQUFDO0FBRU0sU0FBUyxLQUFLLENBQUMsQ0FBUyxFQUFFLEdBQVcsRUFBRSxHQUFXO0lBQ3hELElBQUksQ0FBQyxHQUFHLEdBQUc7UUFBRSxPQUFPLEdBQUcsQ0FBQztJQUN4QixJQUFJLENBQUMsR0FBRyxHQUFHO1FBQUUsT0FBTyxHQUFHLENBQUM7SUFDeEIsT0FBTyxDQUFDLENBQUM7QUFDVixDQUFDO0FBRU0sU0FBUyxrQkFBa0I7SUFDakMsT0FBTyxJQUFJLEVBQUU7UUFDWixJQUFJLENBQUMsR0FBRywyQkFBb0IsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNwQyxJQUFJLENBQUMsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDO1lBQUUsU0FBUztRQUN0QyxPQUFPLENBQUMsQ0FBQztLQUNUO0FBQ0YsQ0FBQztBQUVNLFNBQVMsZ0JBQWdCO0lBQy9CLE9BQU8sd0JBQWlCLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxDQUFDO0FBQ2hELENBQUM7QUFFTSxTQUFTLGtCQUFrQixDQUFDLE1BQWM7SUFDaEQsSUFBSSxZQUFZLEdBQUcsa0JBQWtCLEVBQUUsQ0FBQztJQUN4QyxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUM7UUFBRSxPQUFPLFlBQVksQ0FBQzs7UUFDekQsT0FBTyxZQUFZLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDMUMsQ0FBQztBQUVNLFNBQVMsZ0JBQWdCO0lBQy9CLE9BQU8sSUFBSSxFQUFFO1FBQ1osSUFBSSxDQUFDLEdBQUcsSUFBSSxhQUFNLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNsRSxJQUFJLENBQUMsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDO1lBQUUsU0FBUztRQUN0QyxPQUFPLENBQUMsQ0FBQztLQUNUO0FBQ0YsQ0FBQzs7O0FDeEM4QztBQUl4QyxNQUFNLGFBQU07SUFlbEIsWUFBbUIsQ0FBUSxFQUFTLENBQVEsRUFBUyxDQUFRO1FBQTFDLE1BQUMsR0FBRCxDQUFDLENBQU87UUFBUyxNQUFDLEdBQUQsQ0FBQyxDQUFPO1FBQVMsTUFBQyxHQUFELENBQUMsQ0FBTztJQUM3RCxDQUFDO0lBZkQsU0FBUztRQUNSLE9BQU87WUFDTixDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDVCxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDVCxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDVCxJQUFJLEVBQUUsUUFBUTtTQUNkLENBQUM7SUFDSCxDQUFDO0lBRUQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFzQjtRQUN4QyxPQUFPLElBQUksYUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQU1ELFFBQVEsQ0FBQyxDQUFRO1FBQ2hCLE9BQU8sSUFBSSxhQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3RCxDQUFDO0lBRUQsV0FBVyxDQUFDLENBQVE7UUFDbkIsT0FBTyxJQUFJLGFBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFFRCxZQUFZLENBQUMsQ0FBUTtRQUNwQixPQUFPLElBQUksYUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUVELEdBQUcsQ0FBQyxDQUFRO1FBQ1gsT0FBTyxJQUFJLGFBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzdELENBQUM7SUFFRCxNQUFNLENBQUMsQ0FBUTtRQUNkLE9BQU8sSUFBSSxhQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBRUQsUUFBUSxDQUFDLENBQVE7UUFDaEIsT0FBTyxJQUFJLGFBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzdELENBQUM7SUFFRCxXQUFXLENBQUMsQ0FBUTtRQUNuQixPQUFPLElBQUksYUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUVELE1BQU0sQ0FBQyxDQUFRO1FBQ2QsT0FBTyxJQUFJLGFBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzdELENBQUM7SUFFRCxTQUFTLENBQUMsQ0FBUTtRQUNqQixPQUFPLElBQUksYUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUVELGNBQWM7UUFDYixNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2pDLE9BQU8sSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVELE1BQU07UUFDTCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDLENBQUM7SUFDekMsQ0FBQztJQUVELFVBQVUsQ0FBQyxlQUFzQjtRQUNoQyxPQUFPLGFBQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLGVBQWUsQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFFRCxRQUFRO1FBQ1AsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBQ2YsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztlQUN6QixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztlQUN0QixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFFRCxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQVMsRUFBRSxFQUFTO1FBQ2xDLE9BQU8sRUFBRSxDQUFDLFFBQVEsQ0FDakIsRUFBRSxDQUFDLFdBQVcsQ0FDZCxDQUFDLEdBQUcsYUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQ3JCLENBQ0Q7SUFDRixDQUFDO0lBRUQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFTLEVBQUUsRUFBUyxFQUFFLFlBQW1CO1FBQ3ZELElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDL0QsSUFBSSxRQUFRLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQzdDLFdBQVcsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUM1QixJQUFJLFlBQVksR0FBRyxFQUFFLENBQUMsV0FBVyxDQUNoQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQ1QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLGNBQWMsRUFBRSxDQUFDLENBQ3ZDLENBQ0QsQ0FBQztRQUNGLE9BQU8sUUFBUSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBRUQsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFTLEVBQUUsRUFBUztRQUM5QixPQUFPLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDbkIsQ0FBQztJQUVELE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBUyxFQUFFLEVBQVM7UUFDbkMsT0FBTyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3hCLENBQUM7SUFFRCxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQVMsRUFBRSxFQUFTO1FBQ25DLE9BQU8sRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUN4QixDQUFDO0lBRUQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFTLEVBQUUsRUFBUztRQUN0QyxPQUFPLEVBQUUsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBUSxFQUFFLENBQVE7UUFDL0IsT0FBTyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxNQUFNLENBQUMsR0FBRyxDQUFDLEVBQVMsRUFBRSxFQUFTO1FBQzlCLE9BQU8sRUFBRSxDQUFDLENBQUMsR0FBQyxFQUFFLENBQUMsQ0FBQztjQUNiLEVBQUUsQ0FBQyxDQUFDLEdBQUMsRUFBRSxDQUFDLENBQUM7Y0FDVCxFQUFFLENBQUMsQ0FBQyxHQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDZCxDQUFDO0lBRUQsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFTLEVBQUUsRUFBUztRQUNoQyxPQUFPLElBQUksYUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQzFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQ3pCLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBRUQsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFRO1FBQ3pCLE9BQU8sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBRUQsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFRLEVBQUUsZUFBc0I7UUFDakQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNaLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDWixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRVosSUFBSSxLQUFLLEdBQUcsQ0FBQyxHQUFHLGVBQWUsQ0FBQztRQUVoQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDekIsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3pCLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQztRQUV6QixPQUFPO1lBQ04sR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQztZQUN2QixHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDO1lBQ3ZCLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUM7WUFDdkIsR0FBRztTQUNIO0lBQ0YsQ0FBQztJQUVELE1BQU0sQ0FBQyxNQUFNO1FBQ1osT0FBTyxJQUFJLGFBQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFFRCxNQUFNLENBQUMsYUFBYSxDQUFDLEdBQVUsRUFBRSxHQUFVO1FBQzFDLE9BQU8sSUFBSSxhQUFNLENBQUMsYUFBYSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxhQUFhLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLGFBQWEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUM5RixDQUFDO0NBQ0Q7OztBQy9KaUM7QUFJM0IsTUFBTSxTQUFTO0lBSXJCLFlBQW1CLElBQVksSUFBSSxFQUNoQixJQUFZLElBQUksRUFDaEIsU0FBaUIsSUFBSTtRQUZyQixNQUFDLEdBQUQsQ0FBQyxDQUFlO1FBQ2hCLE1BQUMsR0FBRCxDQUFDLENBQWU7UUFDaEIsV0FBTSxHQUFOLE1BQU0sQ0FBZTtJQUN4QyxDQUFDO0lBRUQsYUFBYSxDQUFDLENBQU0sRUFBRSxhQUFxQjtRQUMxQyxJQUFJLENBQUMsU0FBUyxHQUFHLGlCQUFVLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBRSxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDNUQsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM5RSxDQUFDO0NBQ0Q7QUFFTSxTQUFTLGFBQWEsQ0FBQyxJQUFXLEVBQUUsSUFBZTtJQUN6RCxJQUFJLFNBQVMsR0FBRyxJQUFJLEdBQUcsRUFBb0IsQ0FBQztJQUM1QyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDMUQsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDakUsQ0FBQzs7O0FDeEJpQztBQUNlO0FBRTFDLE1BQU0sR0FBRztJQUNmLFlBQW1CLE1BQWEsRUFBUyxTQUFnQjtRQUF0QyxXQUFNLEdBQU4sTUFBTSxDQUFPO1FBQVMsY0FBUyxHQUFULFNBQVMsQ0FBTztJQUFHLENBQUM7SUFFN0QsRUFBRSxDQUFDLENBQVE7UUFDVixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUVELEtBQUssQ0FBQyxLQUFjLEVBQUUsS0FBWTtRQUNqQyxJQUFHLEtBQUssSUFBSSxDQUFDO1lBQUUsT0FBTyxJQUFJLGFBQU0sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXhDLElBQUksR0FBRyxHQUFHLElBQUksU0FBUyxFQUFFLENBQUM7UUFDMUIsSUFBRyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLEdBQUcsQ0FBQyxFQUFFO1lBQzNDLElBQUksU0FBUyxHQUFPLElBQUksR0FBRyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztZQUN4QyxJQUFJLFdBQVcsR0FBVSxJQUFJLGFBQU0sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1lBRTNDLElBQUcsR0FBRyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsU0FBUyxDQUFDO2dCQUN6RCxPQUFPLFdBQVcsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsS0FBSyxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQ3pELElBQUcsR0FBRyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDO2dCQUM1QyxPQUFPLFdBQVcsQ0FBQztZQUVwQixPQUFPLElBQUksYUFBTSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7U0FDekI7UUFFRCxJQUFJLGFBQWEsR0FBRyx3QkFBaUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDdEQsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNuQyxNQUFNLEtBQUssR0FBRyxJQUFJLGFBQU0sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hDLE1BQU0sSUFBSSxHQUFHLElBQUksYUFBTSxDQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFFakMsT0FBTyxLQUFLO2FBQ1QsV0FBVyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUM7YUFDaEIsR0FBRyxDQUNILElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQ25CLENBQUM7SUFDTCxDQUFDO0NBRUQ7OztBQ3BDd0Q7QUFHbEQsTUFBTSxZQUFZO0lBQXpCO1FBRUMsU0FBSSxHQUFjLEVBQUUsQ0FBQztJQW9EdEIsQ0FBQztJQWpERyxZQUFZLENBQUMsTUFBYztRQUN2QixNQUFNLElBQUksS0FBSyxDQUFDLHlCQUF5QixDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUVKLE1BQU0sQ0FBQyxXQUFXLENBQUMsTUFBaUM7UUFDbkQsSUFBSSxZQUFZLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUN0QyxZQUFZLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQztRQUNoRCxPQUFPLFlBQVksQ0FBQztJQUNyQixDQUFDO0lBRUQsU0FBUztRQUNSLE9BQU87WUFDTixJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDdkMsSUFBSSxFQUFFLGNBQWM7U0FDcEIsQ0FBQztJQUNILENBQUM7SUFHRCxHQUFHLENBQUMsTUFBZTtRQUNsQixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN4QixDQUFDO0lBRUQsS0FBSztRQUNKLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxHQUFHLENBQUMsQ0FBTSxFQUFFLElBQVksRUFBRSxJQUFZLEVBQUUsTUFBaUI7UUFDeEQsSUFBSSxPQUFPLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksV0FBVyxHQUFHLEtBQUssQ0FBQztRQUN4QixJQUFJLFlBQVksR0FBRyxJQUFJLENBQUM7UUFFeEIsS0FBSSxJQUFJLE1BQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQzVCLElBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxPQUFPLENBQUMsRUFBRTtnQkFDOUMsV0FBVyxHQUFHLElBQUksQ0FBQztnQkFDbkIsWUFBWSxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBQ3pCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO2FBQzVCO1NBQ0Q7UUFFRCxPQUFPLFdBQVcsQ0FBQztJQUNwQixDQUFDO0lBRU8sS0FBSyxDQUFDLE1BQWlCLEVBQUUsTUFBaUI7UUFDakQsTUFBTSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQzlCLE1BQU0sQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQztRQUNwQyxNQUFNLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUM7UUFDbEMsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLE1BQU0sQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUNyQixDQUFDO0NBQ0Q7OztBQ3pEaUM7QUFFdUI7QUFFbEQsTUFBTSxNQUFNO0lBb0JsQixZQUFtQixNQUFhLEVBQVUsTUFBYSxFQUFTLFFBQWlCO1FBQTlELFdBQU0sR0FBTixNQUFNLENBQU87UUFBVSxXQUFNLEdBQU4sTUFBTSxDQUFPO1FBQVMsYUFBUSxHQUFSLFFBQVEsQ0FBUztJQUNqRixDQUFDO0lBbEJELE1BQU0sQ0FBQyxXQUFXLENBQUMsTUFBMkI7UUFDN0MsT0FBTyxJQUFJLE1BQU0sQ0FDaEIsV0FBVyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFDMUIsTUFBTSxDQUFDLE1BQU0sRUFDYixXQUFXLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUM1QixDQUFDO0lBQ0gsQ0FBQztJQUVELFNBQVM7UUFDUixPQUFPO1lBQ04sTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFO1lBQy9CLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTTtZQUNuQixRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUU7WUFDbkMsSUFBSSxFQUFFLFFBQVE7U0FDZCxDQUFDO0lBQ0gsQ0FBQztJQUtELFlBQVksQ0FBQyxNQUFjO1FBQ3BCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQy9JLENBQUM7SUFFRCxHQUFHLENBQUMsQ0FBTSxFQUFFLElBQVksRUFBRSxJQUFZLEVBQUUsR0FBYztRQUNyRCxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDeEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUNyQyxJQUFJLEtBQUssR0FBRyxpQkFBVSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDeEMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLGNBQWMsRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUV0RCxJQUFJLFlBQVksR0FBRyxLQUFLLEdBQUMsS0FBSyxHQUFHLENBQUMsR0FBQyxDQUFDLENBQUM7UUFFckMsSUFBRyxZQUFZLEdBQUcsQ0FBQztZQUFFLE9BQU8sS0FBSyxDQUFDO1FBRWxDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFFbkMsSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDN0IsSUFBRyxJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksR0FBRyxJQUFJLEVBQUU7WUFDOUIsSUFBSSxHQUFHLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzNCLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLEdBQUcsSUFBSTtnQkFBRSxPQUFPLEtBQUssQ0FBQztTQUM3QztRQUVELEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBQ2IsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUVwQixJQUFJLGFBQWEsR0FBRyxHQUFHLENBQUMsQ0FBQzthQUN2QixRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQzthQUNyQixTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBRXpCLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQyxFQUFFLGFBQWEsQ0FBQyxDQUFDO1FBQ3BDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUU3QixPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7Q0FDRDs7O0FDL0QyQjtBQUVNO0FBQzZCO0FBQ047QUFZbEQsTUFBTSxVQUFVO0lBa0J0QixZQUFvQixLQUFZO1FBQVosVUFBSyxHQUFMLEtBQUssQ0FBTztJQUNoQyxDQUFDO0lBbEJELE1BQU0sQ0FBQyxXQUFXLENBQUMsTUFBK0I7UUFDakQsT0FBTyxJQUFJLFVBQVUsQ0FDcEIsV0FBVyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FDekIsQ0FBQztJQUNILENBQUM7SUFFRCxTQUFTO1FBQ1IsT0FBTztZQUNOLElBQUksRUFBRSxZQUFZO1lBQ2xCLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRTtTQUM3QixDQUFDO0lBQ0gsQ0FBQztJQUVELFdBQVcsQ0FBQyxXQUFtQjtRQUM5QixPQUFPLEtBQUssQ0FBQztJQUNkLENBQUM7SUFLRCxPQUFPLENBQUMsR0FBUSxFQUFFLEdBQWMsRUFBRSxXQUFtQixFQUFFLFNBQWM7UUFDcEUsSUFBSSxnQkFBZ0IsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUM7UUFFMUQsSUFBRyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUU7WUFDN0IsZ0JBQWdCLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQztRQUUvQixNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLGdCQUFnQixDQUFDLENBQUMsQ0FBQztRQUMzRCxNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdkMsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0NBRUQ7QUFFTSxNQUFNLEtBQUs7SUFDakIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUEwQjtRQUM1QyxPQUFPLElBQUksS0FBSyxFQUFFLENBQUM7SUFDcEIsQ0FBQztJQUVELFNBQVM7UUFDUixPQUFPO1lBQ04sSUFBSSxFQUFFLE9BQU87U0FDYixDQUFDO0lBQ0gsQ0FBQztJQUVEO0lBQ0EsQ0FBQztJQUVELFdBQVcsQ0FBQyxXQUFtQjtRQUM5QixNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxJQUFJLGFBQU0sQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdEQsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBRUQsT0FBTyxDQUFDLEdBQVEsRUFBRSxHQUFjLEVBQUUsV0FBbUIsRUFBRSxTQUFjO1FBQ3BFLElBQUksZ0JBQWdCLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDO1FBRTFELElBQUcsZ0JBQWdCLENBQUMsUUFBUSxFQUFFO1lBQzdCLGdCQUFnQixHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7UUFFL0IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDLENBQUM7UUFDM0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsSUFBSSxhQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3RELE9BQU8sS0FBSyxDQUFDO0lBQ2QsQ0FBQztDQUNEO0FBRU0sTUFBTSxLQUFLO0lBZ0JqQixZQUFvQixLQUFZLEVBQVUsSUFBVztRQUFqQyxVQUFLLEdBQUwsS0FBSyxDQUFPO1FBQVUsU0FBSSxHQUFKLElBQUksQ0FBTztJQUNyRCxDQUFDO0lBaEJELE1BQU0sQ0FBQyxXQUFXLENBQUMsTUFBMEI7UUFDNUMsT0FBTyxJQUFJLEtBQUssQ0FDZixXQUFXLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUN6QixNQUFNLENBQUMsSUFBSSxDQUNYLENBQUM7SUFDSCxDQUFDO0lBRUQsU0FBUztRQUNSLE9BQU87WUFDTixJQUFJLEVBQUUsT0FBTztZQUNiLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRTtZQUM3QixJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7U0FDZixDQUFDO0lBQ0gsQ0FBQztJQUtELFdBQVcsQ0FBQyxXQUFtQjtRQUM5QixPQUFPLEtBQUssQ0FBQztJQUNkLENBQUM7SUFFRCxPQUFPLENBQUMsR0FBUSxFQUFFLEdBQWMsRUFBRSxXQUFtQixFQUFFLFNBQWM7UUFDcEUsSUFBSSxPQUFPLEdBQUcscUJBQWMsQ0FDM0Isd0JBQWlCLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxFQUNoQyxHQUFHLENBQUMsTUFBTSxDQUNWLENBQUM7UUFFRixNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25HLE1BQU0sQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUV2QyxPQUFPLGlCQUFVLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3hELENBQUM7Q0FDRDtBQUVNLE1BQU0sVUFBVTtJQVl0QixZQUFvQixpQkFBd0I7UUFBeEIsc0JBQWlCLEdBQWpCLGlCQUFpQixDQUFPO0lBQzVDLENBQUM7SUFaRCxNQUFNLENBQUMsV0FBVyxDQUFDLE1BQStCO1FBQ2pELE9BQU8sSUFBSSxVQUFVLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVELFNBQVM7UUFDUixPQUFPO1lBQ04sSUFBSSxFQUFFLFlBQVk7WUFDbEIsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQjtTQUN6QyxDQUFDO0lBQ0gsQ0FBQztJQUtELFdBQVcsQ0FBQyxXQUFtQjtRQUM5QixPQUFPLEtBQUssQ0FBQztJQUNkLENBQUM7SUFFRCxPQUFPLENBQUMsR0FBUSxFQUFFLEdBQWMsRUFBRSxXQUFtQixFQUFFLFNBQWM7UUFDcEUsSUFBSSxlQUFlLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDO1FBRXhGLElBQUksYUFBYSxHQUFHLHdCQUFpQixDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNyRCxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGlCQUFVLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNsRixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxRQUFRLEdBQUMsUUFBUSxDQUFDLENBQUM7UUFFaEQsSUFBSSxhQUFhLEdBQUcsZUFBZSxHQUFHLFFBQVEsR0FBRyxDQUFDLENBQUM7UUFDbkQsSUFBSSxTQUFnQixDQUFDO1FBRXJCLElBQUcsYUFBYSxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLGVBQWUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDOUUsU0FBUyxHQUFHLHFCQUFjLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQzs7WUFFdEQsU0FBUyxHQUFHLHFCQUFjLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsZUFBZSxDQUFDLENBQUM7UUFFeEUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDO1FBQ3BELE1BQU0sQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFLElBQUksYUFBTSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUU5QyxPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7SUFFRCxXQUFXLENBQUMsTUFBYSxFQUFFLE1BQWE7UUFDdkMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUMsTUFBTSxDQUFDLENBQUM7UUFDakMsRUFBRSxHQUFHLEVBQUUsR0FBQyxFQUFFLENBQUM7UUFDWCxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzlDLENBQUM7Q0FDRDs7O0FDaks2QztBQUNaO0FBQ0E7QUFDQTtBQUNnQztBQUlsRSxNQUFNLGNBQWMsR0FBRyxDQUFDLENBQVksRUFBa0MsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksY0FBYyxDQUFDO0FBQ2xHLE1BQU0sUUFBUSxHQUFHLENBQUMsQ0FBWSxFQUE0QixFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxRQUFRLENBQUM7QUFDaEYsTUFBTSxRQUFRLEdBQUcsQ0FBQyxDQUFZLEVBQTRCLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLFFBQVEsQ0FBQztBQUNoRixNQUFNLFFBQVEsR0FBRyxDQUFDLENBQVksRUFBNEIsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksUUFBUSxDQUFDO0FBQ2hGLE1BQU0sWUFBWSxHQUFHLENBQUMsQ0FBWSxFQUFnQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxZQUFZLENBQUM7QUFDNUYsTUFBTSxPQUFPLEdBQUcsQ0FBQyxDQUFZLEVBQTJCLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLE9BQU8sQ0FBQztBQUM3RSxNQUFNLFlBQVksR0FBRyxDQUFDLENBQVksRUFBZ0MsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksWUFBWSxDQUFDO0FBQzVGLE1BQU0sT0FBTyxHQUFHLENBQUMsQ0FBWSxFQUEyQixFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxPQUFPLENBQUM7QUFhdEUsU0FBUyxXQUFXLENBQXVCLENBQUc7SUFDcEQsSUFBSSxjQUFjLENBQUMsQ0FBQyxDQUFDO1FBQUUsT0FBTyx3QkFBd0IsQ0FBQyxDQUFDLENBQWtCLENBQUM7SUFDM0UsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQUUsT0FBTyxrQkFBa0IsQ0FBQyxDQUFDLENBQWtCLENBQUM7SUFDL0QsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQUUsT0FBTyx5QkFBa0IsQ0FBQyxDQUFDLENBQWtCLENBQUM7SUFDL0QsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQUUsT0FBTyxrQkFBa0IsQ0FBQyxDQUFDLENBQWtCLENBQUM7SUFDL0QsSUFBSSxZQUFZLENBQUMsQ0FBQyxDQUFDO1FBQUUsT0FBTyxzQkFBc0IsQ0FBQyxDQUFDLENBQWtCLENBQUM7SUFDdkUsSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQUUsT0FBTyxpQkFBaUIsQ0FBQyxDQUFDLENBQWtCLENBQUM7SUFDN0QsSUFBSSxZQUFZLENBQUMsQ0FBQyxDQUFDO1FBQUUsT0FBTyxzQkFBc0IsQ0FBQyxDQUFDLENBQWtCLENBQUM7SUFDdkUsSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQUUsT0FBTyxpQkFBaUIsQ0FBQyxDQUFDLENBQWtCLENBQUM7SUFFN0QsTUFBTSxJQUFJLEtBQUssQ0FBQyx3QkFBd0IsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDL0QsQ0FBQzs7O0FDeENpQztBQUNOO0FBQ2lDO0FBRUo7QUFHbEQsTUFBTSxNQUFNO0lBd0NsQixZQUNRLFFBQWUsRUFDZCxNQUFhLEVBQ2IsR0FBVSxFQUNWLElBQVcsRUFDWCxXQUFrQixFQUNsQixRQUFnQixFQUNoQixTQUFpQjtRQU5sQixhQUFRLEdBQVIsUUFBUSxDQUFPO1FBQ2QsV0FBTSxHQUFOLE1BQU0sQ0FBTztRQUNiLFFBQUcsR0FBSCxHQUFHLENBQU87UUFDVixTQUFJLEdBQUosSUFBSSxDQUFPO1FBQ1gsZ0JBQVcsR0FBWCxXQUFXLENBQU87UUFDbEIsYUFBUSxHQUFSLFFBQVEsQ0FBUTtRQUNoQixjQUFTLEdBQVQsU0FBUyxDQUFRO1FBRXpCLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNiLENBQUM7SUFuQ0QsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFxQjtRQUN2QyxPQUFPLElBQUksTUFBTSxDQUNoQixXQUFXLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUN2QixXQUFXLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUNyQixXQUFXLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUNsQixDQUFDLENBQUMsSUFBSSxFQUNOLENBQUMsQ0FBQyxXQUFXLEVBQ2IsQ0FBQyxDQUFDLFFBQVEsRUFDVixDQUFDLENBQUMsU0FBUyxDQUNYO0lBQ0YsQ0FBQztJQUVELFNBQVM7UUFDUixPQUFPO1lBQ04sSUFBSSxFQUFFLFFBQVE7WUFDZCxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUU7WUFDbkMsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFO1lBQy9CLEdBQUcsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRTtZQUN6QixJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7WUFDZixXQUFXLEVBQUUsSUFBSSxDQUFDLFdBQVc7WUFDN0IsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRO1lBQ3ZCLFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBUztTQUN6QixDQUFDO0lBQ0gsQ0FBQztJQWNELFNBQVM7UUFDUixJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDdEIsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2IsQ0FBQztJQUVELFFBQVE7UUFDUCxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDdEIsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2IsQ0FBQztJQUVELE1BQU07UUFDTCxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDdEIsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2IsQ0FBQztJQUVELFFBQVE7UUFDUCxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDdEIsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2IsQ0FBQztJQUVELE1BQU07UUFDTCxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUNoQixJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDYixDQUFDO0lBRUQsT0FBTztRQUNOLElBQUksQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ2hCLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNiLENBQUM7SUFFTyxJQUFJO1FBQ1gsSUFBSSxLQUFLLEdBQUcsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFCLElBQUksQ0FBQyxjQUFjLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUM1QixJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztRQUU1RCxJQUFJLENBQUMsR0FBRyx3QkFBaUIsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUMvRCxJQUFJLENBQUMsQ0FBQyxHQUFHLHdCQUFpQixDQUFDLG1CQUFZLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RELElBQUksQ0FBQyxDQUFDLEdBQUcsbUJBQVksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRWpDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFFBQVEsR0FBQyxDQUFDLENBQUM7UUFFbEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQzVCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDckYsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNwRixJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxNQUFNO2FBQ2hDLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUN0QyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDcEMsUUFBUSxDQUNSLENBQUMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUM3QixDQUFDO0lBQ0osQ0FBQztJQUVELE1BQU0sQ0FBQyxDQUFRLEVBQUUsQ0FBUTtRQUN4QixJQUFJLEVBQUUsR0FBRyxnQkFBZ0IsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDekQsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzthQUNuQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRS9CLE9BQU8sSUFBSSxHQUFHLENBQ2IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQ3ZCLElBQUksQ0FBQyxlQUFlO2FBQ2xCLEdBQUcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNuQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDakMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7YUFDckIsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUNsQixDQUFDO0lBRUgsQ0FBQztDQUNEOzs7QUMvSDZDO0FBQzhCO0FBQzFDO0FBQ0E7QUFDTTtBQUVqQyxNQUFNLFdBQVc7SUFLdkI7UUFKQSxVQUFLLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUUzQixjQUFTLEdBQUcsSUFBSSxVQUFVLENBQUMsSUFBSSxhQUFNLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBR2xELElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksTUFBTSxDQUFDLElBQUksYUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksRUFBQyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7UUFFekUsTUFBTSxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2hCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNwQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUMsR0FBRyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3BDLElBQUksYUFBYSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDbEMsSUFBSSxNQUFNLEdBQUcsSUFBSSxhQUFNLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLEdBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7Z0JBRTNFLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksYUFBTSxDQUFDLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxHQUFHLEdBQUcsRUFBRTtvQkFDNUQsSUFBSSxDQUFDLEdBQUcsYUFBYSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQztvQkFFL0IsSUFBSSxhQUFhLEdBQUcsR0FBRyxFQUFFO3dCQUN4QixVQUFVO3dCQUNWLElBQUksTUFBTSxHQUFHLG9CQUFhLEVBQUUsQ0FBQyxRQUFRLENBQUMsb0JBQWEsRUFBRSxDQUFDLENBQUM7d0JBQ3ZELElBQUksY0FBYyxHQUFHLElBQUksVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO3dCQUM1QyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLGNBQWMsQ0FBQyxDQUFDLENBQUM7cUJBQ3REO3lCQUFNLElBQUksYUFBYSxHQUFHLEdBQUcsRUFBRTt3QkFDL0IsUUFBUTt3QkFDUixJQUFJLE1BQU0sR0FBRywyQkFBb0IsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7d0JBQzFDLElBQUksSUFBSSxHQUFHLGFBQWEsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7d0JBQ2pDLElBQUksY0FBYyxHQUFHLElBQUksS0FBSyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQzt3QkFDN0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxjQUFjLENBQUMsQ0FBQyxDQUFDO3FCQUN0RDt5QkFBTSxJQUFJLGFBQWEsR0FBRyxJQUFJLEVBQUU7d0JBQ2hDLFFBQVE7d0JBQ1IsSUFBSSxjQUFjLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQzt3QkFDakMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxjQUFjLENBQUMsQ0FBQyxDQUFDO3FCQUN0RDt5QkFBTTt3QkFDTixRQUFRO3dCQUNSLElBQUksY0FBYyxHQUFHLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO3dCQUN6QyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLGNBQWMsQ0FBQyxDQUFDLENBQUM7cUJBQ3REO2lCQUNEO2FBQ0Q7U0FDRDtRQUVELElBQUksU0FBUyxHQUFHLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksTUFBTSxDQUFDLElBQUksYUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsYUFBYSxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDO1FBRW5GLElBQUksU0FBUyxHQUFHLElBQUksVUFBVSxDQUFDLElBQUksYUFBTSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMxRCxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxJQUFJLGFBQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsYUFBYSxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDO1FBRXBGLElBQUksU0FBUyxHQUFHLElBQUksS0FBSyxDQUFDLElBQUksYUFBTSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDMUQsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxNQUFNLENBQUMsSUFBSSxhQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxhQUFhLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFDcEYsQ0FBQztDQUNEOzs7QUN4REQsTUFBTSxLQUFLO0lBTVY7UUFKQSxVQUFLLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUU3QixZQUFPLEdBQUcsOERBQThELENBQUM7UUFHeEUsSUFBSSxDQUFDLEVBQUUsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7UUFDakMsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxLQUFLO1FBQ0osSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ25DLENBQUM7SUFFRCxHQUFHLENBQ0YsV0FBa0IsRUFDbEIsY0FBcUIsRUFDckIsY0FBcUI7UUFFckIsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLEdBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQzlELElBQUksR0FBRyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDL0IsSUFBSSxRQUFRLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFFaEMsSUFBSSxjQUFjLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLEdBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN0RCxJQUFJLGNBQWMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsUUFBUSxHQUFHLENBQUMsY0FBYyxHQUFDLElBQUksR0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1FBRTlFLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sT0FBTyxVQUFVLFFBQVEsY0FBYyxJQUFJLGNBQWMsVUFBVSxDQUFDO0lBQ3hHLENBQUM7Q0FDRDtBQUVNLE1BQU0sS0FBSyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7OztBQ2hDbEI7QUFDZixvQkFBb0IscUJBQXVCO0FBQzNDOzs7QUNGTyxNQUFNLE1BQU07SUFPbEI7UUFOQSxvQkFBZSxHQUFHLEVBQUUsQ0FBQztRQUNyQixhQUFRLEdBQUcsRUFBRSxDQUFDO1FBQ2QsZUFBVSxHQUFHLElBQUksQ0FBQztRQUVsQixnQkFBVyxHQUFHLEVBQUUsR0FBQyxDQUFDLENBQUM7UUFHbEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ25FLENBQUM7Q0FDRDs7Ozs7Ozs7Ozs7O0FDVmlDO0FBQ0E7QUFDVTtBQUNaO0FBQ1k7QUFDVjtBQUVsQyxNQUFNLFFBQVEsR0FBRyxJQUFJLGFBQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3RDLE1BQU0sTUFBTSxHQUFHLElBQUksYUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDbkMsTUFBTSxHQUFHLEdBQUcsSUFBSSxhQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNoQyxNQUFNLFdBQVcsR0FBRyxFQUFFLENBQUM7QUFDdkIsTUFBTSxRQUFRLEdBQUcsRUFBRSxDQUFDO0FBRXBCLE1BQU0sT0FBTyxHQUFHLENBQUMsQ0FBQztBQUVsQixNQUFNLE1BQU0sR0FBRyxJQUFJLE1BQU0sRUFBRSxDQUFDO0FBRXJCLE1BQU0sUUFBUTtJQTJCcEIsTUFBTSxDQUFDLFlBQVk7UUFDbEIsSUFBSSxJQUFJLENBQUMsTUFBTTtZQUFFLE9BQU87UUFFeEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQy9DLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSwyQkFBMkIsQ0FBQyxDQUFDO1FBQy9ELElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFeEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLElBQUksQ0FBQyxDQUFDO1FBQ2pFLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLFFBQVEsRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxJQUFJLENBQUMsQ0FBQztRQUVuRSxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFdkMsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzNGLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUM7UUFFaEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1lBQ2pELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUMsRUFBRTtnQkFDaEQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNqQztTQUNEO1FBRUQsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsdUJBQXVCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDO1FBQzFFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQztJQUN6RSxDQUFDO0lBRUQsTUFBTSxDQUFDLHVCQUF1QixDQUFDLEdBQVE7UUFDdEMsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUM5QixJQUFJLGlCQUFpQixHQUFHLElBQUksaUJBQWlCLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM5RCxJQUFJLE9BQU8sR0FBRyxJQUFJLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQ2pELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLE1BQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDckQsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDL0I7UUFDRCxPQUFPLGlCQUFpQixDQUFDO0lBQzFCLENBQUM7SUFFRCxNQUFNLENBQUMsV0FBVztRQUNqQixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUM7UUFFMUUsSUFBSSxNQUFNLEdBQUcsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3JDLElBQUksUUFBUSxHQUFHLEtBQUssQ0FBQztRQUVyQixTQUFlLEdBQUc7O2dCQUNqQixJQUFJLE1BQU0sR0FBRyxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUM7Z0JBQ3BDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO2dCQUN2QixNQUFNLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBRXBCLE1BQU0sR0FBRyxRQUFRLENBQUMsVUFBVSxFQUFFLENBQUM7Z0JBQy9CLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO2dCQUN2QixNQUFNLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDckIsQ0FBQztTQUFBO1FBRUQsR0FBRyxFQUFFLENBQUM7UUFFTixPQUFPLEdBQVMsRUFBRTtZQUNqQixPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3RCLFFBQVEsR0FBRyxJQUFJLENBQUM7WUFDaEIsT0FBTyxNQUFNLEVBQUUsQ0FBQztRQUNqQixDQUFDLEVBQUM7SUFDSCxDQUFDO0lBRUQsTUFBTSxDQUFDLFNBQVM7UUFDZixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDekMsSUFBRyxDQUFDLE1BQU0sRUFBRTtZQUNYLE1BQU0sR0FBRyxJQUFJLFNBQU0sRUFBRSxDQUFDO1NBQ3RCO1FBRUQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDakMsT0FBTyxNQUFNLENBQUM7SUFDZixDQUFDO0lBRUQsTUFBTSxDQUFDLFdBQVc7UUFDakIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLEVBQUMsU0FBUyxFQUFDLElBQUksRUFBQyxDQUFDLENBQUMsQ0FBQztRQUNsRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ25ELElBQUksQ0FBQyxjQUFjLEdBQUcsRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFFRCxNQUFNLENBQU8sV0FBVyxDQUFDLE1BQTBCLEVBQUUsZUFBc0IsRUFBRSxRQUFlOztZQUMzRixPQUFPLElBQUksT0FBTyxDQUFPLENBQUMsT0FBTyxDQUFDLEVBQUU7Z0JBRW5DLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztnQkFFaEMsTUFBTSxDQUFDLFdBQVcsQ0FBQztvQkFDbEIsTUFBTTtvQkFDTixlQUFlO29CQUNmLFFBQVE7b0JBQ1IsS0FBSyxFQUFFLElBQUksQ0FBQyxXQUFXO29CQUN2QixNQUFNLEVBQUUsSUFBSSxDQUFDLFlBQVk7aUJBQ3pCLENBQUMsQ0FBQztnQkFFSCxNQUFNLENBQUMsU0FBUyxHQUFHLENBQUMsRUFBRSxJQUFJLEVBQWdCLEVBQUUsRUFBRTtvQkFDN0MsTUFBTSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDO29CQUNwQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7b0JBRXRCLE1BQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO29CQUMxRCxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7b0JBRTlCLElBQUksQ0FBQyxjQUFjLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQztvQkFDbkMsU0FBUyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDLENBQUM7b0JBQzVELElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO29CQUU1QyxJQUFHLElBQUk7d0JBQUUsT0FBTyxFQUFFLENBQUM7Z0JBQ3BCLENBQUMsQ0FBQztZQUNILENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDO0tBQUE7SUFFUyxNQUFNLENBQU8sSUFBSSxDQUFDLE9BQWUsQ0FBQzs7WUFDM0MsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzVELENBQUM7S0FBQTtJQUVTLE1BQU0sQ0FBQyxXQUFXO1FBQzNCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFUyxNQUFNLENBQUMsVUFBVTtRQUMxQixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBRVMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxlQUF1QixFQUFFLFFBQWdCLEVBQUUsU0FBUyxHQUFHLEtBQUs7UUFDbkYsSUFBSSxTQUFTLEdBQUcsS0FBSyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1FBRXRCLFdBQVcsRUFBRSxDQUFDO1FBQ2QsSUFBSSxDQUFDLGNBQWMsR0FBRyxDQUFDLENBQUM7UUFFeEIsTUFBTSxNQUFNLEdBQUcsR0FBUyxFQUFFO1lBRXpCLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztZQUV4QyxNQUFNLFdBQVcsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDO1lBRTlCLE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQW9CLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFFL0MsU0FBUyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUUxQyxNQUFNLGVBQWUsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUM7WUFFM0QsTUFBTSxJQUFJLEdBQW9CLEVBQUUsQ0FBQztZQUVqQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNqQyxJQUFJLENBQUMsSUFBSSxDQUNSLElBQUksQ0FBQyxXQUFXLENBQ2YsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLGVBQWUsRUFBRSxDQUFDLEdBQUcsZUFBZSxHQUFHLGVBQWUsQ0FBQyxFQUNuRixlQUFlLEVBQ2YsUUFBUSxDQUNSLENBQ0QsQ0FBQzthQUNGO1lBRUQsT0FBTyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzFCLENBQUMsRUFBQztRQUVGLE9BQU87WUFDTixNQUFNLEVBQUUsTUFBTSxFQUFFO1lBQ2hCLE1BQU0sRUFBRSxHQUFTLEVBQUU7Z0JBQ2xCLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBRXpCLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztnQkFFbkIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQzVDLE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQUM7Z0JBQzNCLFNBQVMsR0FBRyxJQUFJLENBQUM7WUFDbEIsQ0FBQztTQUNELENBQUM7SUFFSCxDQUFDOztBQTlMTSx5QkFBZ0IsR0FBYSxFQUFFLENBQUM7QUFDaEMsdUJBQWMsR0FBYSxFQUFFLENBQUM7QUFFOUIsZUFBTSxHQUFHLE1BQU0sQ0FBQztBQUdoQix1QkFBYyxHQUFHLENBQUMsQ0FBQztBQUNuQixlQUFNLEdBQUcsSUFBSSxNQUFNLENBQ3pCLFFBQVEsRUFDUixNQUFNLEVBQ04sR0FBRyxFQUNILEVBQUUsRUFDRixNQUFNLENBQUMsV0FBVyxFQUNsQixRQUFRLEVBQ1IsV0FBVyxDQUNYLENBQUM7QUFLRixTQUFTO0FBQ1EsaUJBQVEsR0FBRyxJQUFJLENBQUM7QUFDaEIscUJBQVksR0FBdUIsRUFBRSxDQUFDO0FBQ3RDLHVCQUFjLEdBQXVCLEVBQUUsQ0FBQztBQUN4QyxjQUFLLEdBQUcsSUFBSSxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUM7Ozs7Ozs7Ozs7OztBQzFDWjtBQUV0QyxTQUFTLFFBQVEsQ0FBQyxJQUFhLEVBQUUsUUFBZTtJQUMvQyxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDZixPQUFPLENBQUMsR0FBRyxJQUFVLEVBQUUsRUFBRTtRQUN4QixJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQy9CLElBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxRQUFRLEVBQUU7WUFDM0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDdkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxHQUFHLE1BQU0sQ0FBQyxDQUFDO1lBQ2pDLE1BQU0sR0FBRyxHQUFHLENBQUM7U0FDYjthQUFNO1lBQ04sT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNuQjtJQUNGLENBQUM7QUFDRixDQUFDO0FBRUQsU0FBZSxHQUFHOztRQUVqQixxQkFBcUIsRUFBRSxDQUFDO1FBRXhCLFFBQVEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxVQUFVLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUVyRSxJQUFJLFNBQTBCLENBQUM7UUFFL0IsU0FBZSxVQUFVLENBQUMsQ0FBZTs7Z0JBQ3hDLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDbkIsUUFBUSxDQUFDLENBQUMsT0FBTyxFQUFFO29CQUNsQixLQUFLLEVBQUU7d0JBQ04sTUFBTSxTQUFTLEVBQUUsQ0FBQzt3QkFDbEIsd0JBQXdCLEVBQUUsQ0FBQzt3QkFDM0IsU0FBUyxHQUFHLG9CQUFvQixFQUFFLENBQUM7d0JBQ25DLE1BQU07b0JBQ1AsS0FBSyxFQUFFO3dCQUNOLE1BQU0sU0FBUyxFQUFFLENBQUM7d0JBQ2xCLHlCQUF5QixFQUFFLENBQUM7d0JBQzVCLFNBQVMsR0FBRyxvQkFBb0IsRUFBRSxDQUFDO3dCQUNuQyxNQUFNO29CQUNQLEtBQUssRUFBRTt3QkFDTixNQUFNLFNBQVMsRUFBRSxDQUFDO3dCQUNsQixzQkFBc0IsRUFBRSxDQUFDO3dCQUN6QixTQUFTLEdBQUcsb0JBQW9CLEVBQUUsQ0FBQzt3QkFDbkMsTUFBTTtvQkFDUCxLQUFLLEVBQUU7d0JBQ04sTUFBTSxTQUFTLEVBQUUsQ0FBQzt3QkFDbEIsd0JBQXdCLEVBQUUsQ0FBQzt3QkFDM0IsU0FBUyxHQUFHLG9CQUFvQixFQUFFLENBQUM7d0JBQ25DLE1BQU07b0JBQ1AsS0FBSyxFQUFFO3dCQUNOLE1BQU0sU0FBUyxFQUFFLENBQUM7d0JBQ2xCLHNCQUFzQixFQUFFLENBQUM7d0JBQ3pCLFNBQVMsR0FBRyxvQkFBb0IsRUFBRSxDQUFDO3dCQUNuQyxNQUFNO29CQUNQLEtBQUssRUFBRTt3QkFDTixNQUFNLFNBQVMsRUFBRSxDQUFDO3dCQUNsQix1QkFBdUIsRUFBRSxDQUFDO3dCQUMxQixTQUFTLEdBQUcsb0JBQW9CLEVBQUUsQ0FBQzt3QkFDbkMsTUFBTTtpQkFDUDtZQUNGLENBQUM7U0FBQTtRQUVELFNBQVMsR0FBRyxvQkFBb0IsRUFBRSxDQUFDO0lBQ3BDLENBQUM7Q0FBQTtBQUVELEdBQUcsRUFBRSxDQUFDIiwiZmlsZSI6IjM2My5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4vVmVjdG9yJztcblxuZXhwb3J0IGZ1bmN0aW9uIGRlZ3JlZXNUb1JhZGlhbnMoZGVncmVlczogbnVtYmVyKSB7XG5cdHJldHVybiBkZWdyZWVzICogTWF0aC5QSSAvIDE4MDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUluUmFuZ2UobWluOiBudW1iZXIsIG1heDogbnVtYmVyKSB7XG5cdHJldHVybiBtaW4gKyAobWF4IC0gbWluKSAqIE1hdGgucmFuZG9tKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGFtcCh4OiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcikge1xuXHRpZiAoeCA8IG1pbikgcmV0dXJuIG1pbjtcblx0aWYgKHggPiBtYXgpIHJldHVybiBtYXg7XG5cdHJldHVybiB4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tSW5Vbml0U3BoZXJlKCkge1xuXHR3aGlsZSAodHJ1ZSkge1xuXHRcdGxldCBwID0gVmVjdG9yLnJhbmRvbUluUmFuZ2UoLTEsIDEpO1xuXHRcdGlmIChwLmxlbmd0aF9zcXVhcmVkKCkgPj0gMSkgY29udGludWU7XG5cdFx0cmV0dXJuIHA7XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVVuaXRWZWN0b3IoKSB7XG5cdHJldHVybiBWZWN0b3IudW5pdFZlY3RvcihyYW5kb21JblVuaXRTcGhlcmUoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21JbkhlbWlzcGhlcmUobm9ybWFsOiBWZWN0b3IpIHtcblx0bGV0IGluVW5pdFNwaGVyZSA9IHJhbmRvbUluVW5pdFNwaGVyZSgpO1xuXHRpZiAoVmVjdG9yLmRvdChpblVuaXRTcGhlcmUsIG5vcm1hbCkgPiAwKSByZXR1cm4gaW5Vbml0U3BoZXJlO1xuXHRlbHNlIHJldHVybiBpblVuaXRTcGhlcmUubXVsdGlwbHlOdW0oLTEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tSW5Vbml0RGlzaygpIHtcblx0d2hpbGUgKHRydWUpIHtcblx0XHRsZXQgcCA9IG5ldyBWZWN0b3IocmFuZG9tSW5SYW5nZSgtMSwgMSksIHJhbmRvbUluUmFuZ2UoLTEsIDEpLCAwKTtcblx0XHRpZiAocC5sZW5ndGhfc3F1YXJlZCgpID49IDEpIGNvbnRpbnVlO1xuXHRcdHJldHVybiBwO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBjbGFtcCwgcmFuZG9tSW5SYW5nZSB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgU2VyaWFsaXplYWJsZSB9IGZyb20gJy4vSGl0dGFibGUnO1xuaW1wb3J0IHsgU2VyaWFsaXplT2YgfSBmcm9tICcuL2Rlc2VyaWFsaXplJztcblxuZXhwb3J0IGNsYXNzIFZlY3RvciBpbXBsZW1lbnRzIFNlcmlhbGl6ZWFibGV7XG5cdHNlcmlhbGl6ZSgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0eDogdGhpcy54LFxuXHRcdFx0eTogdGhpcy55LFxuXHRcdFx0ejogdGhpcy56LFxuXHRcdFx0dHlwZTogJ1ZlY3RvcicsXG5cdFx0fTtcblx0fVxuXG5cdHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBTZXJpYWxpemVPZjxWZWN0b3I+KTogVmVjdG9yIHtcblx0XHRyZXR1cm4gbmV3IFZlY3RvcihvLngsIG8ueSwgby56KTtcblx0fVxuXG5cblx0Y29uc3RydWN0b3IocHVibGljIHg6bnVtYmVyLCBwdWJsaWMgeTpudW1iZXIsIHB1YmxpYyB6Om51bWJlcikge1xuXHR9XG5cblx0c3VidHJhY3QodjpWZWN0b3IpIHtcblx0XHRyZXR1cm4gbmV3IFZlY3Rvcih0aGlzLnggLSB2LngsIHRoaXMueSAtIHYueSwgdGhpcy56IC0gdi56KTtcblx0fVxuXG5cdHN1YnRyYWN0TnVtKHY6bnVtYmVyKSB7XG5cdFx0cmV0dXJuIG5ldyBWZWN0b3IodGhpcy54IC0gdiwgdGhpcy55IC0gdiwgdGhpcy56IC0gdik7XG5cdH1cblxuXHRzdWJ0cmFjdEZyb20odjpWZWN0b3IpIHtcblx0XHRyZXR1cm4gbmV3IFZlY3Rvcih0aGlzLnggLSB2LngsIHRoaXMueSAtIHYueSwgdGhpcy56IC0gdi56KTtcblx0fVxuXG5cdGFkZCh2OlZlY3Rvcikge1xuXHRcdHJldHVybiBuZXcgVmVjdG9yKHRoaXMueCArIHYueCwgdGhpcy55ICsgdi55LCB0aGlzLnogKyB2LnopO1xuXHR9XG5cblx0YWRkTnVtKHY6bnVtYmVyKSB7XG5cdFx0cmV0dXJuIG5ldyBWZWN0b3IodGhpcy54ICsgdiwgdGhpcy55ICsgdiwgdGhpcy56ICsgdik7XG5cdH1cblxuXHRtdWx0aXBseSh2OlZlY3Rvcikge1xuXHRcdHJldHVybiBuZXcgVmVjdG9yKHRoaXMueCAqIHYueCwgdGhpcy55ICogdi55LCB0aGlzLnogKiB2LnopO1xuXHR9XG5cblx0bXVsdGlwbHlOdW0odjpudW1iZXIpIHtcblx0XHRyZXR1cm4gbmV3IFZlY3Rvcih0aGlzLnggKiB2LCB0aGlzLnkgKiB2LCB0aGlzLnogKiB2KTtcblx0fVxuXG5cdGRpdmlkZSh2OlZlY3Rvcikge1xuXHRcdHJldHVybiBuZXcgVmVjdG9yKHRoaXMueCAvIHYueCwgdGhpcy55IC8gdi55LCB0aGlzLnogLyB2LnopO1xuXHR9XG5cblx0ZGl2aWRlTnVtKHY6bnVtYmVyKSB7XG5cdFx0cmV0dXJuIG5ldyBWZWN0b3IodGhpcy54IC8gdiwgdGhpcy55IC8gdiwgdGhpcy56IC8gdik7XG5cdH1cblxuXHRsZW5ndGhfc3F1YXJlZCgpIHtcblx0XHRjb25zdCBzcXJkID0gdGhpcy5tdWx0aXBseSh0aGlzKTtcblx0XHRyZXR1cm4gc3FyZC54ICsgc3FyZC55ICsgc3FyZC56O1xuXHR9XG5cblx0bGVuZ3RoKCkge1xuXHRcdHJldHVybiBNYXRoLnNxcnQodGhpcy5sZW5ndGhfc3F1YXJlZCgpKTtcblx0fVxuXG5cdHdyaXRlQ29sb3Ioc2FtcGxlc1BlclBpeGVsOm51bWJlcikge1xuXHRcdHJldHVybiBWZWN0b3Iud3JpdGVDb2xvcih0aGlzLCBzYW1wbGVzUGVyUGl4ZWwpO1xuXHR9XG5cblx0bmVhclplcm8oKSB7XG5cdFx0Y29uc3QgcyA9IDFlLTg7XG5cdFx0cmV0dXJuIChNYXRoLmFicyh0aGlzLngpIDwgcylcblx0XHRcdCYmIChNYXRoLmFicyh0aGlzLnkpIDwgcylcblx0XHRcdCYmIChNYXRoLmFicyh0aGlzLnopIDwgcyk7XG5cdH1cblxuXHRzdGF0aWMgcmVmbGVjdCh2MTpWZWN0b3IsIHYyOlZlY3Rvcil7XG5cdFx0cmV0dXJuIHYxLnN1YnRyYWN0KFxuXHRcdFx0djIubXVsdGlwbHlOdW0oXG5cdFx0XHQyICogVmVjdG9yLmRvdCh2MSwgdjIpXG5cdFx0XHQpXG5cdFx0KVxuXHR9XG5cblx0c3RhdGljIHJlZnJhY3QodjE6VmVjdG9yLCB2MjpWZWN0b3IsIGV0YWlPdmVyRXRhdDpudW1iZXIpIHtcblx0XHRsZXQgY29zVGhldGEgPSBNYXRoLm1pbihWZWN0b3IuZG90KHYxLm11bHRpcGx5TnVtKC0xKSwgdjIpLCAxKTtcblx0XHRsZXQgck91dFBlcnAgPSB2MS5hZGQodjIubXVsdGlwbHlOdW0oY29zVGhldGEpKVxuXHRcdFx0Lm11bHRpcGx5TnVtKGV0YWlPdmVyRXRhdCk7XG5cdFx0bGV0IHJPdXRQYXJhbGxlbCA9IHYyLm11bHRpcGx5TnVtKFxuXHRcdFx0LU1hdGguc3FydChcblx0XHRcdFx0TWF0aC5hYnMoMSAtIHJPdXRQZXJwLmxlbmd0aF9zcXVhcmVkKCkpXG5cdFx0XHQpXG5cdFx0KTtcblx0XHRyZXR1cm4gck91dFBlcnAuYWRkKHJPdXRQYXJhbGxlbCk7XG5cdH1cblx0XG5cdHN0YXRpYyBhZGQodjE6VmVjdG9yLCB2MjpWZWN0b3IpIHtcblx0XHRyZXR1cm4gdjEuYWRkKHYyKTtcblx0fVxuXHRcblx0c3RhdGljIHN1YnRyYWN0KHYxOlZlY3RvciwgdjI6VmVjdG9yKSB7XG5cdFx0cmV0dXJuIHYxLnN1YnRyYWN0KHYyKTtcblx0fVxuXG5cdHN0YXRpYyBtdWx0aXBseSh2MTpWZWN0b3IsIHYyOlZlY3Rvcikge1xuXHRcdHJldHVybiB2MS5tdWx0aXBseSh2Mik7XG5cdH1cblxuXHRzdGF0aWMgbXVsdGlwbHlOdW0odjE6VmVjdG9yLCB2MjpudW1iZXIpIHtcblx0XHRyZXR1cm4gdjEubXVsdGlwbHlOdW0odjIpO1xuXHR9XG5cblx0c3RhdGljIGRpdmlkZSh0Om51bWJlciwgdjpWZWN0b3IpIHtcblx0XHRyZXR1cm4gdi5kaXZpZGVOdW0odCk7XG5cdH1cblxuXHRzdGF0aWMgZG90KHYxOlZlY3RvciwgdjI6VmVjdG9yKSB7XG5cdFx0cmV0dXJuIHYxLngqdjIueFxuXHRcdFx0KyB2MS55KnYyLnlcblx0XHRcdCsgdjEueip2Mi56O1xuXHR9XG5cdFxuXHRzdGF0aWMgY3Jvc3ModjE6VmVjdG9yLCB2MjpWZWN0b3IpIHtcblx0XHRyZXR1cm4gbmV3IFZlY3Rvcih2MS55ICogdjIueiAtIHYxLnogKiB2Mi55LFxuXHRcdFx0djEueiAqIHYyLnggLSB2MS54ICogdjIueixcblx0XHRcdHYxLnggKiB2Mi55IC0gdjEueSAqIHYyLngpO1xuXHR9XG5cblx0c3RhdGljIHVuaXRWZWN0b3IodjpWZWN0b3IpIHtcblx0XHRyZXR1cm4gdi5kaXZpZGVOdW0odi5sZW5ndGgoKSk7XG5cdH1cblxuXHRzdGF0aWMgd3JpdGVDb2xvcih2OlZlY3Rvciwgc2FtcGxlc1BlclBpeGVsOm51bWJlcikge1xuXHRcdGxldCByID0gdi54O1xuXHRcdGxldCBnID0gdi55O1xuXHRcdGxldCBiID0gdi56O1xuXG5cdFx0bGV0IHNjYWxlID0gMSAvIHNhbXBsZXNQZXJQaXhlbDtcblxuXHRcdHIgPSBNYXRoLnNxcnQoc2NhbGUgKiByKTtcblx0XHRnID0gTWF0aC5zcXJ0KHNjYWxlICogZyk7XG5cdFx0YiA9IE1hdGguc3FydChzY2FsZSAqIGIpO1xuXG5cdFx0cmV0dXJuIFtcblx0XHRcdDI1NiAqIGNsYW1wKHIsIDAsIC45OTkpLFxuXHRcdFx0MjU2ICogY2xhbXAoZywgMCwgLjk5OSksXG5cdFx0XHQyNTYgKiBjbGFtcChiLCAwLCAuOTk5KSxcblx0XHRcdDI1NSxcblx0XHRdXG5cdH1cblxuXHRzdGF0aWMgcmFuZG9tKCkge1xuXHRcdHJldHVybiBuZXcgVmVjdG9yKE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCkpO1xuXHR9XG5cblx0c3RhdGljIHJhbmRvbUluUmFuZ2UobWluOm51bWJlciwgbWF4Om51bWJlcikge1xuXHRcdHJldHVybiBuZXcgVmVjdG9yKHJhbmRvbUluUmFuZ2UobWluLCBtYXgpLCByYW5kb21JblJhbmdlKG1pbiwgbWF4KSwgcmFuZG9tSW5SYW5nZShtaW4sIG1heCkpO1xuXHR9XG59XG5cblxuIiwiaW1wb3J0IHsgUmF5IH0gZnJvbSAnLi9SYXknO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi9WZWN0b3InO1xuaW1wb3J0IHsgTWF0ZXJpYWwgfSBmcm9tICcuL01hdGVyaWFsJztcbmltcG9ydCB7IEhpdHRhYmxlTGlzdCB9IGZyb20gJy4vSGl0dGFibGVMaXN0JztcblxuZXhwb3J0IGNsYXNzIEhpdFJlY29yZCB7XG5cdGZyb250RmFjZTogYm9vbGVhbjtcblx0bWF0ZXJpYWw6IE1hdGVyaWFsO1xuXG5cdGNvbnN0cnVjdG9yKHB1YmxpYyBwOiBWZWN0b3IgPSBudWxsLFxuXHQgICAgICAgICAgICBwdWJsaWMgdDogbnVtYmVyID0gbnVsbCxcblx0ICAgICAgICAgICAgcHVibGljIG5vcm1hbDogVmVjdG9yID0gbnVsbCkge1xuXHR9XG5cblx0c2V0RmFjZU5vcm1hbChyOiBSYXksIG91dHdhcmROb3JtYWw6IFZlY3Rvcikge1xuXHRcdHRoaXMuZnJvbnRGYWNlID0gVmVjdG9yLmRvdChyLmRpcmVjdGlvbiwgb3V0d2FyZE5vcm1hbCkgPCAwO1xuXHRcdHRoaXMubm9ybWFsID0gdGhpcy5mcm9udEZhY2UgPyBvdXR3YXJkTm9ybWFsIDogb3V0d2FyZE5vcm1hbC5tdWx0aXBseU51bSgtMSk7XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNvcnRIaXR0YWJsZXMoZnJvbTpWZWN0b3IsIGxpc3Q6SGl0dGFibGVbXSkge1xuXHRsZXQgZGlzdGFuY2VzID0gbmV3IE1hcDxIaXR0YWJsZSwgbnVtYmVyPigpO1xuXHRsaXN0LmZvckVhY2gobyA9PiBkaXN0YW5jZXMuc2V0KG8sIG8uZGlzdGFuY2VGcm9tKGZyb20pKSk7XG5cdHJldHVybiBsaXN0LnNvcnQoKGEsIGIpID0+IGRpc3RhbmNlcy5nZXQoYSkgLSBkaXN0YW5jZXMuZ2V0KGIpKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZXJpYWxpemVkIHtcblx0dHlwZTpzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VyaWFsaXplYWJsZSB7XG5cdHNlcmlhbGl6ZSgpOlNlcmlhbGl6ZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VyaWFsaXplZEhpdHRhYmxlIHtcblx0dHlwZTpcInNwaGVyZVwiO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhpdHRhYmxlIGV4dGVuZHMgU2VyaWFsaXplYWJsZSB7XG5cdHNvcnRlZEhpdHRhYmxlczpIaXR0YWJsZVtdO1xuXHRjZW50ZXI6VmVjdG9yO1xuXG5cdGhpdChyOiBSYXksIHRNaW46IG51bWJlciwgdE1heDogbnVtYmVyLCByZWM6IEhpdFJlY29yZCk6IGJvb2xlYW47XG5cdGRpc3RhbmNlRnJvbShjZW50ZXI6VmVjdG9yKTpudW1iZXI7XG59XG4iLCJpbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuL1ZlY3Rvcic7XG5pbXBvcnQgeyBIaXRSZWNvcmQsIEhpdHRhYmxlIH0gZnJvbSAnLi9IaXR0YWJsZSc7XG5cbmV4cG9ydCBjbGFzcyBSYXkge1xuXHRjb25zdHJ1Y3RvcihwdWJsaWMgb3JpZ2luOlZlY3RvciwgcHVibGljIGRpcmVjdGlvbjpWZWN0b3IpIHt9XG5cblx0YXQodDpudW1iZXIpIHtcblx0XHRyZXR1cm4gdGhpcy5vcmlnaW4uYWRkKHRoaXMuZGlyZWN0aW9uLm11bHRpcGx5TnVtKHQpKTtcblx0fVxuXG5cdGNvbG9yKHdvcmxkOkhpdHRhYmxlLCBkZXB0aDpudW1iZXIpOlZlY3RvciB7XG5cdFx0aWYoZGVwdGggPD0gMCkgcmV0dXJuIG5ldyBWZWN0b3IoMCwwLDApO1xuXG5cdFx0bGV0IHJlYyA9IG5ldyBIaXRSZWNvcmQoKTtcblx0XHRpZih3b3JsZC5oaXQodGhpcywgMC4wMDAwMSwgSW5maW5pdHksIHJlYykpXHR7XG5cdFx0XHRsZXQgc2NhdHRlcmVkOlJheSA9IG5ldyBSYXkobnVsbCwgbnVsbCk7XG5cdFx0XHRsZXQgYXR0ZW51YXRpb246VmVjdG9yID0gbmV3IFZlY3RvcigwLDAsMCk7XG5cblx0XHRcdGlmKHJlYy5tYXRlcmlhbC5zY2F0dGVyKHRoaXMsIHJlYywgYXR0ZW51YXRpb24sIHNjYXR0ZXJlZCkpXG5cdFx0XHRcdHJldHVybiBhdHRlbnVhdGlvbi5tdWx0aXBseShzY2F0dGVyZWQuY29sb3Iod29ybGQsIGRlcHRoLTEpKTtcblx0XHRcdGVsc2UgaWYocmVjLm1hdGVyaWFsLmxpZ2h0U291cmNlKGF0dGVudWF0aW9uKSlcblx0XHRcdFx0cmV0dXJuIGF0dGVudWF0aW9uO1xuXG5cdFx0XHRyZXR1cm4gbmV3IFZlY3RvcigwLDAsMCk7XG5cdFx0fVxuXG5cdFx0bGV0IHVuaXREaXJlY3Rpb24gPSBWZWN0b3IudW5pdFZlY3Rvcih0aGlzLmRpcmVjdGlvbik7XG5cdFx0bGV0IHQgPSAuNSAqICh1bml0RGlyZWN0aW9uLnkgKyAxKTtcblx0XHRjb25zdCB3aGl0ZSA9IG5ldyBWZWN0b3IoMSwxLDEpO1xuXHRcdGNvbnN0IGJsdWUgPSBuZXcgVmVjdG9yKC41LC43LDEpO1xuXG5cdFx0cmV0dXJuIHdoaXRlXG5cdFx0XHRcdC5tdWx0aXBseU51bSgxLXQpXG5cdFx0XHRcdC5hZGQoXG5cdFx0XHRcdFx0Ymx1ZS5tdWx0aXBseU51bSh0KVxuXHRcdFx0XHQpO1xuXHR9XG5cbn1cbiIsImltcG9ydCB7IEhpdFJlY29yZCwgSGl0dGFibGUgfSBmcm9tICcuL0hpdHRhYmxlJztcbmltcG9ydCB7IFJheSB9IGZyb20gJy4vUmF5JztcbmltcG9ydCB7IGRlc2VyaWFsaXplLCBTZXJpYWxpemVPZiB9IGZyb20gJy4vZGVzZXJpYWxpemUnO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi9WZWN0b3InO1xuXG5leHBvcnQgY2xhc3MgSGl0dGFibGVMaXN0IGltcGxlbWVudHMgSGl0dGFibGUge1xuICAgIHNvcnRlZEhpdHRhYmxlczogSGl0dGFibGVbXTtcblx0bGlzdDpIaXR0YWJsZVtdID0gW107XG5cdGNlbnRlcjogVmVjdG9yO1xuXG4gICAgZGlzdGFuY2VGcm9tKGNlbnRlcjogVmVjdG9yKTogbnVtYmVyIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLicpO1xuICAgIH1cblxuXHRzdGF0aWMgZGVzZXJpYWxpemUob2JqZWN0OiBTZXJpYWxpemVPZjxIaXR0YWJsZUxpc3Q+KTogSGl0dGFibGVMaXN0IHtcblx0XHRsZXQgaGl0dGFibGVMaXN0ID0gbmV3IEhpdHRhYmxlTGlzdCgpO1xuXHRcdGhpdHRhYmxlTGlzdC5saXN0ID0gb2JqZWN0Lmxpc3QubWFwKGRlc2VyaWFsaXplKVxuXHRcdHJldHVybiBoaXR0YWJsZUxpc3Q7XG5cdH1cblxuXHRzZXJpYWxpemUoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGxpc3Q6IHRoaXMubGlzdC5tYXAobyA9PiBvLnNlcmlhbGl6ZSgpKSxcblx0XHRcdHR5cGU6ICdIaXR0YWJsZUxpc3QnLFxuXHRcdH07XG5cdH1cblxuXG5cdGFkZChvYmplY3Q6SGl0dGFibGUpIHtcblx0XHR0aGlzLmxpc3QucHVzaChvYmplY3QpO1xuXHR9XG5cblx0Y2xlYXIoKSB7XG5cdFx0dGhpcy5saXN0ID0gW107XG5cdH1cblxuXHRoaXQocjogUmF5LCB0TWluOiBudW1iZXIsIHRNYXg6IG51bWJlciwgcmVjb3JkOiBIaXRSZWNvcmQpOiBib29sZWFuIHtcblx0XHRsZXQgdGVtcFJlYyA9IHJlY29yZDtcblx0XHRsZXQgaGl0QW55dGhpbmcgPSBmYWxzZTtcblx0XHRsZXQgY2xvc2VzdFNvRmFyID0gdE1heDtcblxuXHRcdGZvcihsZXQgb2JqZWN0IG9mIHRoaXMubGlzdCkge1xuXHRcdFx0aWYob2JqZWN0LmhpdChyLCB0TWluLCBjbG9zZXN0U29GYXIsIHRlbXBSZWMpKSB7XG5cdFx0XHRcdGhpdEFueXRoaW5nID0gdHJ1ZTtcblx0XHRcdFx0Y2xvc2VzdFNvRmFyID0gdGVtcFJlYy50O1xuXHRcdFx0XHR0aGlzLm1lcmdlKHJlY29yZCwgdGVtcFJlYyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGhpdEFueXRoaW5nO1xuXHR9XG5cblx0cHJpdmF0ZSBtZXJnZSh0YXJnZXQ6IEhpdFJlY29yZCwgb2JqZWN0OiBIaXRSZWNvcmQpIHtcblx0XHR0YXJnZXQubm9ybWFsID0gb2JqZWN0Lm5vcm1hbDtcblx0XHR0YXJnZXQuZnJvbnRGYWNlID0gb2JqZWN0LmZyb250RmFjZTtcblx0XHR0YXJnZXQubWF0ZXJpYWwgPSBvYmplY3QubWF0ZXJpYWw7XG5cdFx0dGFyZ2V0LnAgPSBvYmplY3QucDtcblx0XHR0YXJnZXQudCA9IG9iamVjdC50O1xuXHR9XG59XG4iLCJpbXBvcnQgeyBIaXRSZWNvcmQsIEhpdHRhYmxlIH0gZnJvbSAnLi9IaXR0YWJsZSc7XG5pbXBvcnQgeyBSYXkgfSBmcm9tICcuL1JheSc7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuL1ZlY3Rvcic7XG5pbXBvcnQgeyBNYXRlcmlhbCB9IGZyb20gJy4vTWF0ZXJpYWwnO1xuaW1wb3J0IHsgZGVzZXJpYWxpemUsIFNlcmlhbGl6ZU9mIH0gZnJvbSAnLi9kZXNlcmlhbGl6ZSc7XG5cbmV4cG9ydCBjbGFzcyBTcGhlcmUgaW1wbGVtZW50cyBIaXR0YWJsZSB7XG5cdHNvcnRlZEhpdHRhYmxlczogSGl0dGFibGVbXTtcblxuXHRzdGF0aWMgZGVzZXJpYWxpemUob2JqZWN0OiBTZXJpYWxpemVPZjxTcGhlcmU+KTogU3BoZXJlIHtcblx0XHRyZXR1cm4gbmV3IFNwaGVyZShcblx0XHRcdGRlc2VyaWFsaXplKG9iamVjdC5jZW50ZXIpLFxuXHRcdFx0b2JqZWN0LnJhZGl1cyxcblx0XHRcdGRlc2VyaWFsaXplKG9iamVjdC5tYXRlcmlhbCksXG5cdFx0KTtcblx0fVxuXG5cdHNlcmlhbGl6ZSgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Y2VudGVyOiB0aGlzLmNlbnRlci5zZXJpYWxpemUoKSxcblx0XHRcdHJhZGl1czogdGhpcy5yYWRpdXMsXG5cdFx0XHRtYXRlcmlhbDogdGhpcy5tYXRlcmlhbC5zZXJpYWxpemUoKSxcblx0XHRcdHR5cGU6ICdTcGhlcmUnLFxuXHRcdH07XG5cdH1cblxuXHRjb25zdHJ1Y3RvcihwdWJsaWMgY2VudGVyOlZlY3RvciwgcHJpdmF0ZSByYWRpdXM6bnVtYmVyLCBwdWJsaWMgbWF0ZXJpYWw6TWF0ZXJpYWwpIHtcblx0fVxuXG5cdGRpc3RhbmNlRnJvbShjZW50ZXI6IFZlY3Rvcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3codGhpcy5jZW50ZXIueCAtIGNlbnRlci54LCAyKSArIE1hdGgucG93KHRoaXMuY2VudGVyLnkgLSBjZW50ZXIueSwgMikgKyBNYXRoLnBvdyh0aGlzLmNlbnRlci56IC0gY2VudGVyLnosIDIpKTtcblx0fVxuXG5cdGhpdChyOiBSYXksIHRNaW46IG51bWJlciwgdE1heDogbnVtYmVyLCByZWM6IEhpdFJlY29yZCk6IGJvb2xlYW4ge1xuXHRcdGxldCBvYyA9IHIub3JpZ2luLnN1YnRyYWN0KHRoaXMuY2VudGVyKTtcblx0XHRsZXQgYSA9IHIuZGlyZWN0aW9uLmxlbmd0aF9zcXVhcmVkKCk7XG5cdFx0bGV0IGhhbGZCID0gVmVjdG9yLmRvdChvYywgci5kaXJlY3Rpb24pO1xuXHRcdGxldCBjID0gb2MubGVuZ3RoX3NxdWFyZWQoKSAtIHRoaXMucmFkaXVzKnRoaXMucmFkaXVzO1xuXG5cdFx0bGV0IGRpc2NyaW1pbmFudCA9IGhhbGZCKmhhbGZCIC0gYSpjO1xuXG5cdFx0aWYoZGlzY3JpbWluYW50IDwgMCkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0bGV0IHNxcnQgPSBNYXRoLnNxcnQoZGlzY3JpbWluYW50KTtcblxuXHRcdGxldCByb290ID0gKC1oYWxmQi1zcXJ0KSAvIGE7XG5cdFx0aWYocm9vdCA8IHRNaW4gfHwgdE1heCA8IHJvb3QpIHtcblx0XHRcdHJvb3QgPSAoLWhhbGZCICsgc3FydCkgLyBhO1xuXHRcdFx0aWYgKHJvb3QgPCB0TWluIHx8IHRNYXggPCByb290KSByZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmVjLnQgPSByb290O1xuXHRcdHJlYy5wID0gci5hdChyZWMudCk7XG5cblx0XHRsZXQgb3V0d2FyZE5vcm1hbCA9IHJlYy5wXG5cdFx0XHQuc3VidHJhY3QodGhpcy5jZW50ZXIpXG5cdFx0XHQuZGl2aWRlTnVtKHRoaXMucmFkaXVzKTtcblxuXHRcdHJlYy5zZXRGYWNlTm9ybWFsKHIsIG91dHdhcmROb3JtYWwpO1xuXHRcdHJlYy5tYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWw7XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxufVxuIiwiaW1wb3J0IHsgUmF5IH0gZnJvbSAnLi9SYXknO1xuaW1wb3J0IHsgSGl0UmVjb3JkLCBTZXJpYWxpemVhYmxlLCBTZXJpYWxpemVkSGl0dGFibGUgfSBmcm9tICcuL0hpdHRhYmxlJztcbmltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4vVmVjdG9yJztcbmltcG9ydCB7IHJhbmRvbUluVW5pdFNwaGVyZSwgcmFuZG9tVW5pdFZlY3RvciB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgZGVzZXJpYWxpemUsIFNlcmlhbGl6ZU9mIH0gZnJvbSAnLi9kZXNlcmlhbGl6ZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VyaWFsaXplZE1hdGVyaWFsIGV4dGVuZHMgU2VyaWFsaXplZEhpdHRhYmxlIHtcblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1hdGVyaWFsIGV4dGVuZHMgU2VyaWFsaXplYWJsZSB7XG5cdHNjYXR0ZXIockluOlJheSwgcmVjOkhpdFJlY29yZCwgYXR0ZW51YXRpb246VmVjdG9yLCBzY2F0dGVyZWQ6UmF5KTpib29sZWFuO1xuXHRsaWdodFNvdXJjZShhdHRlbnVhdGlvbjpWZWN0b3IpOmJvb2xlYW47XG59XG5cblxuZXhwb3J0IGNsYXNzIExhbWJlcnRpYW4gaW1wbGVtZW50cyBNYXRlcmlhbCB7XG5cdHN0YXRpYyBkZXNlcmlhbGl6ZShvYmplY3Q6IFNlcmlhbGl6ZU9mPExhbWJlcnRpYW4+KTogTGFtYmVydGlhbiB7XG5cdFx0cmV0dXJuIG5ldyBMYW1iZXJ0aWFuKFxuXHRcdFx0ZGVzZXJpYWxpemUob2JqZWN0LmNvbG9yKVxuXHRcdCk7XG5cdH1cblxuXHRzZXJpYWxpemUoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHR5cGU6ICdMYW1iZXJ0aWFuJyxcblx0XHRcdGNvbG9yOiB0aGlzLmNvbG9yLnNlcmlhbGl6ZSgpLFxuXHRcdH07XG5cdH1cblxuXHRsaWdodFNvdXJjZShhdHRlbnVhdGlvbjogVmVjdG9yKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Y29uc3RydWN0b3IocHJpdmF0ZSBjb2xvcjpWZWN0b3IpIHtcblx0fVxuXG5cdHNjYXR0ZXIockluOiBSYXksIHJlYzogSGl0UmVjb3JkLCBhdHRlbnVhdGlvbjogVmVjdG9yLCBzY2F0dGVyZWQ6IFJheSk6IGJvb2xlYW4ge1xuXHRcdGxldCBzY2F0dGVyRGlyZWN0aW9uID0gcmVjLm5vcm1hbC5hZGQocmFuZG9tVW5pdFZlY3RvcigpKTtcblxuXHRcdGlmKHNjYXR0ZXJEaXJlY3Rpb24ubmVhclplcm8oKSlcblx0XHRcdHNjYXR0ZXJEaXJlY3Rpb24gPSByZWMubm9ybWFsO1xuXG5cdFx0T2JqZWN0LmFzc2lnbihzY2F0dGVyZWQsIG5ldyBSYXkocmVjLnAsIHNjYXR0ZXJEaXJlY3Rpb24pKTtcblx0XHRPYmplY3QuYXNzaWduKGF0dGVudWF0aW9uLCB0aGlzLmNvbG9yKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG59XG5cbmV4cG9ydCBjbGFzcyBMaWdodCBpbXBsZW1lbnRzIE1hdGVyaWFsIHtcblx0c3RhdGljIGRlc2VyaWFsaXplKG9iamVjdDogU2VyaWFsaXplT2Y8TGlnaHQ+KTogTGlnaHQge1xuXHRcdHJldHVybiBuZXcgTGlnaHQoKTtcblx0fVxuXG5cdHNlcmlhbGl6ZSgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dHlwZTogJ0xpZ2h0Jyxcblx0XHR9O1xuXHR9XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdH1cblxuXHRsaWdodFNvdXJjZShhdHRlbnVhdGlvbjogVmVjdG9yKTogYm9vbGVhbiB7XG5cdFx0T2JqZWN0LmFzc2lnbihhdHRlbnVhdGlvbiwgbmV3IFZlY3RvcigxLjksIDEuOSwgMS45KSk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRzY2F0dGVyKHJJbjogUmF5LCByZWM6IEhpdFJlY29yZCwgYXR0ZW51YXRpb246IFZlY3Rvciwgc2NhdHRlcmVkOiBSYXkpOiBib29sZWFuIHtcblx0XHRsZXQgc2NhdHRlckRpcmVjdGlvbiA9IHJlYy5ub3JtYWwuYWRkKHJhbmRvbVVuaXRWZWN0b3IoKSk7XG5cblx0XHRpZihzY2F0dGVyRGlyZWN0aW9uLm5lYXJaZXJvKCkpXG5cdFx0XHRzY2F0dGVyRGlyZWN0aW9uID0gcmVjLm5vcm1hbDtcblxuXHRcdE9iamVjdC5hc3NpZ24oc2NhdHRlcmVkLCBuZXcgUmF5KHJlYy5wLCBzY2F0dGVyRGlyZWN0aW9uKSk7XG5cdFx0T2JqZWN0LmFzc2lnbihhdHRlbnVhdGlvbiwgbmV3IFZlY3RvcigxLjksIDEuOSwgMS45KSk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBNZXRhbCBpbXBsZW1lbnRzIE1hdGVyaWFsIHtcblx0c3RhdGljIGRlc2VyaWFsaXplKG9iamVjdDogU2VyaWFsaXplT2Y8TWV0YWw+KTogTWV0YWwge1xuXHRcdHJldHVybiBuZXcgTWV0YWwoXG5cdFx0XHRkZXNlcmlhbGl6ZShvYmplY3QuY29sb3IpLFxuXHRcdFx0b2JqZWN0LmZ1enpcblx0XHQpO1xuXHR9XG5cblx0c2VyaWFsaXplKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHR0eXBlOiAnTWV0YWwnLFxuXHRcdFx0Y29sb3I6IHRoaXMuY29sb3Iuc2VyaWFsaXplKCksXG5cdFx0XHRmdXp6OiB0aGlzLmZ1enosXG5cdFx0fTtcblx0fVxuXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgY29sb3I6VmVjdG9yLCBwcml2YXRlIGZ1eno6bnVtYmVyKSB7XG5cdH1cblxuXHRsaWdodFNvdXJjZShhdHRlbnVhdGlvbjogVmVjdG9yKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0c2NhdHRlcihySW46IFJheSwgcmVjOiBIaXRSZWNvcmQsIGF0dGVudWF0aW9uOiBWZWN0b3IsIHNjYXR0ZXJlZDogUmF5KTogYm9vbGVhbiB7XG5cdFx0bGV0IHJlZmxlY3QgPSBWZWN0b3IucmVmbGVjdChcblx0XHRcdFZlY3Rvci51bml0VmVjdG9yKHJJbi5kaXJlY3Rpb24pLFxuXHRcdFx0cmVjLm5vcm1hbFxuXHRcdCk7XG5cblx0XHRPYmplY3QuYXNzaWduKHNjYXR0ZXJlZCwgbmV3IFJheShyZWMucCwgcmVmbGVjdC5hZGQocmFuZG9tSW5Vbml0U3BoZXJlKCkubXVsdGlwbHlOdW0odGhpcy5mdXp6KSkpKTtcblx0XHRPYmplY3QuYXNzaWduKGF0dGVudWF0aW9uLCB0aGlzLmNvbG9yKTtcblxuXHRcdHJldHVybiBWZWN0b3IuZG90KHNjYXR0ZXJlZC5kaXJlY3Rpb24sIHJlYy5ub3JtYWwpID4gMDtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgRGllbGVjdHJpYyBpbXBsZW1lbnRzIE1hdGVyaWFsIHtcblx0c3RhdGljIGRlc2VyaWFsaXplKG9iamVjdDogU2VyaWFsaXplT2Y8RGllbGVjdHJpYz4pIHtcblx0XHRyZXR1cm4gbmV3IERpZWxlY3RyaWMob2JqZWN0LmluZGV4T2ZSZWZyYWN0aW9uKTtcblx0fVxuXG5cdHNlcmlhbGl6ZSgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dHlwZTogJ0RpZWxlY3RyaWMnLFxuXHRcdFx0aW5kZXhPZlJlZnJhY3Rpb246IHRoaXMuaW5kZXhPZlJlZnJhY3Rpb25cblx0XHR9O1xuXHR9XG5cblx0Y29uc3RydWN0b3IocHJpdmF0ZSBpbmRleE9mUmVmcmFjdGlvbjpudW1iZXIpIHtcblx0fVxuXG5cdGxpZ2h0U291cmNlKGF0dGVudWF0aW9uOiBWZWN0b3IpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRzY2F0dGVyKHJJbjogUmF5LCByZWM6IEhpdFJlY29yZCwgYXR0ZW51YXRpb246IFZlY3Rvciwgc2NhdHRlcmVkOiBSYXkpOiBib29sZWFuIHtcblx0XHRsZXQgcmVmcmFjdGlvblJhdGlvID0gcmVjLmZyb250RmFjZSA/IDEvdGhpcy5pbmRleE9mUmVmcmFjdGlvbiA6IHRoaXMuaW5kZXhPZlJlZnJhY3Rpb247XG5cblx0XHRsZXQgdW5pdERpcmVjdGlvbiA9IFZlY3Rvci51bml0VmVjdG9yKHJJbi5kaXJlY3Rpb24pO1xuXHRcdGxldCBjb3NUaGV0YSA9IE1hdGgubWluKFZlY3Rvci5kb3QodW5pdERpcmVjdGlvbi5tdWx0aXBseU51bSgtMSksIHJlYy5ub3JtYWwpLCAxKTtcblx0XHRsZXQgc2luVGhldGEgPSBNYXRoLnNxcnQoMSAtIGNvc1RoZXRhKmNvc1RoZXRhKTtcblxuXHRcdGxldCBjYW5ub3RSZWZyYWN0ID0gcmVmcmFjdGlvblJhdGlvICogc2luVGhldGEgPiAxO1xuXHRcdGxldCBkaXJlY3Rpb246VmVjdG9yO1xuXG5cdFx0aWYoY2Fubm90UmVmcmFjdCB8fCB0aGlzLnJlZmxlY3RhbmNlKGNvc1RoZXRhLCByZWZyYWN0aW9uUmF0aW8pID4gTWF0aC5yYW5kb20oKSlcblx0XHRcdGRpcmVjdGlvbiA9IFZlY3Rvci5yZWZsZWN0KHVuaXREaXJlY3Rpb24sIHJlYy5ub3JtYWwpO1xuXHRcdGVsc2Vcblx0XHRcdGRpcmVjdGlvbiA9IFZlY3Rvci5yZWZyYWN0KHVuaXREaXJlY3Rpb24sIHJlYy5ub3JtYWwsIHJlZnJhY3Rpb25SYXRpbyk7XG5cblx0XHRPYmplY3QuYXNzaWduKHNjYXR0ZXJlZCwgbmV3IFJheShyZWMucCwgZGlyZWN0aW9uKSk7XG5cdFx0T2JqZWN0LmFzc2lnbihhdHRlbnVhdGlvbiwgbmV3IFZlY3RvcigxLDEsMSkpO1xuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRyZWZsZWN0YW5jZShjb3NpbmU6bnVtYmVyLCByZWZJZHg6bnVtYmVyKSB7XG5cdFx0bGV0IHIwID0gKDEtcmVmSWR4KSAvICgxK3JlZklkeCk7XG5cdFx0cjAgPSByMCpyMDtcblx0XHRyZXR1cm4gcjAgKyAoMS1yMCkgKiBNYXRoLnBvdygoMS1jb3NpbmUpLCA1KTtcblx0fVxufVxuIiwiaW1wb3J0IHsgU2VyaWFsaXplYWJsZSwgU2VyaWFsaXplZCB9IGZyb20gJy4vSGl0dGFibGUnO1xuaW1wb3J0IHsgSGl0dGFibGVMaXN0IH0gZnJvbSAnLi9IaXR0YWJsZUxpc3QnO1xuaW1wb3J0IHsgU3BoZXJlIH0gZnJvbSAnLi9TcGhlcmUnO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi9WZWN0b3InO1xuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSAnLi9DYW1lcmEnO1xuaW1wb3J0IHsgRGllbGVjdHJpYywgTGFtYmVydGlhbiwgTGlnaHQsIE1ldGFsIH0gZnJvbSAnLi9NYXRlcmlhbCc7XG5cbmV4cG9ydCB0eXBlIFNlcmlhbGl6ZU9mPFQgZXh0ZW5kcyBTZXJpYWxpemVhYmxlPiA9IFJldHVyblR5cGU8VFsnc2VyaWFsaXplJ10+O1xuXG5jb25zdCBpc0hpdHRhYmxlTGlzdCA9IChvOlNlcmlhbGl6ZWQpOiBvIGlzIFNlcmlhbGl6ZU9mPEhpdHRhYmxlTGlzdD4gPT4gby50eXBlID09ICdIaXR0YWJsZUxpc3QnO1xuY29uc3QgaXNTcGhlcmUgPSAobzpTZXJpYWxpemVkKTogbyBpcyBTZXJpYWxpemVPZjxTcGhlcmU+ID0+IG8udHlwZSA9PSAnU3BoZXJlJztcbmNvbnN0IGlzVmVjdG9yID0gKG86U2VyaWFsaXplZCk6IG8gaXMgU2VyaWFsaXplT2Y8VmVjdG9yPiA9PiBvLnR5cGUgPT0gJ1ZlY3Rvcic7XG5jb25zdCBpc0NhbWVyYSA9IChvOlNlcmlhbGl6ZWQpOiBvIGlzIFNlcmlhbGl6ZU9mPENhbWVyYT4gPT4gby50eXBlID09ICdDYW1lcmEnO1xuY29uc3QgaXNMYW1iZXJ0aWFuID0gKG86U2VyaWFsaXplZCk6IG8gaXMgU2VyaWFsaXplT2Y8TGFtYmVydGlhbj4gPT4gby50eXBlID09ICdMYW1iZXJ0aWFuJztcbmNvbnN0IGlzTGlnaHQgPSAobzpTZXJpYWxpemVkKTogbyBpcyBTZXJpYWxpemVPZjxMaWdodD4gPT4gby50eXBlID09ICdMaWdodCc7XG5jb25zdCBpc0RpZWxlY3RyaWMgPSAobzpTZXJpYWxpemVkKTogbyBpcyBTZXJpYWxpemVPZjxEaWVsZWN0cmljPiA9PiBvLnR5cGUgPT0gJ0RpZWxlY3RyaWMnO1xuY29uc3QgaXNNZXRhbCA9IChvOlNlcmlhbGl6ZWQpOiBvIGlzIFNlcmlhbGl6ZU9mPE1ldGFsPiA9PiBvLnR5cGUgPT0gJ01ldGFsJztcblxudHlwZSBPYmplY3RUeXBlPFQgZXh0ZW5kcyBTZXJpYWxpemVkPiA9XG5cdFQgZXh0ZW5kcyB7IHR5cGU6ICdIaXR0YWJsZUxpc3QnIH0gPyBIaXR0YWJsZUxpc3QgOlxuXHRUIGV4dGVuZHMgeyB0eXBlOiAnU3BoZXJlJyB9ID8gU3BoZXJlIDpcblx0VCBleHRlbmRzIHsgdHlwZTogJ1ZlY3RvcicgfSA/IFZlY3RvciA6XG5cdFQgZXh0ZW5kcyB7IHR5cGU6ICdDYW1lcmEnIH0gPyBDYW1lcmEgOlxuXHRUIGV4dGVuZHMgeyB0eXBlOiAnTGFtYmVydGlhbicgfSA/IExhbWJlcnRpYW4gOlxuXHRUIGV4dGVuZHMgeyB0eXBlOiAnTGlnaHQnIH0gPyBMaWdodCA6XG5cdFQgZXh0ZW5kcyB7IHR5cGU6ICdEaWVsZWN0cmljJyB9ID8gRGllbGVjdHJpYyA6XG5cdFQgZXh0ZW5kcyB7IHR5cGU6ICdNZXRhbCcgfSA/IE1ldGFsIDpcblx0XHRuZXZlcjtcblxuZXhwb3J0IGZ1bmN0aW9uIGRlc2VyaWFsaXplPFQgZXh0ZW5kcyBTZXJpYWxpemVkPihvOlQpOk9iamVjdFR5cGU8VD4ge1xuXHRpZiAoaXNIaXR0YWJsZUxpc3QobykpIHJldHVybiBIaXR0YWJsZUxpc3QuZGVzZXJpYWxpemUobykgYXMgT2JqZWN0VHlwZTxUPjtcblx0aWYgKGlzU3BoZXJlKG8pKSByZXR1cm4gU3BoZXJlLmRlc2VyaWFsaXplKG8pIGFzIE9iamVjdFR5cGU8VD47XG5cdGlmIChpc1ZlY3RvcihvKSkgcmV0dXJuIFZlY3Rvci5kZXNlcmlhbGl6ZShvKSBhcyBPYmplY3RUeXBlPFQ+O1xuXHRpZiAoaXNDYW1lcmEobykpIHJldHVybiBDYW1lcmEuZGVzZXJpYWxpemUobykgYXMgT2JqZWN0VHlwZTxUPjtcblx0aWYgKGlzTGFtYmVydGlhbihvKSkgcmV0dXJuIExhbWJlcnRpYW4uZGVzZXJpYWxpemUobykgYXMgT2JqZWN0VHlwZTxUPjtcblx0aWYgKGlzTGlnaHQobykpIHJldHVybiBMaWdodC5kZXNlcmlhbGl6ZShvKSBhcyBPYmplY3RUeXBlPFQ+O1xuXHRpZiAoaXNEaWVsZWN0cmljKG8pKSByZXR1cm4gRGllbGVjdHJpYy5kZXNlcmlhbGl6ZShvKSBhcyBPYmplY3RUeXBlPFQ+O1xuXHRpZiAoaXNNZXRhbChvKSkgcmV0dXJuIE1ldGFsLmRlc2VyaWFsaXplKG8pIGFzIE9iamVjdFR5cGU8VD47XG5cblx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGRlc2VyaWFsaXplIFwiICsgSlNPTi5zdHJpbmdpZnkobykpO1xufVxuIiwiaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi9WZWN0b3InO1xuaW1wb3J0IHsgUmF5IH0gZnJvbSAnLi9SYXknO1xuaW1wb3J0IHsgZGVncmVlc1RvUmFkaWFucywgcmFuZG9tSW5Vbml0RGlzayB9IGZyb20gJy4vVXRpbHMnO1xuaW1wb3J0IHsgSGl0dGFibGUsIFNlcmlhbGl6ZWFibGUgfSBmcm9tICcuL0hpdHRhYmxlJztcbmltcG9ydCB7IGRlc2VyaWFsaXplLCBTZXJpYWxpemVPZiB9IGZyb20gJy4vZGVzZXJpYWxpemUnO1xuaW1wb3J0IHsgSGl0dGFibGVMaXN0IH0gZnJvbSAnLi9IaXR0YWJsZUxpc3QnO1xuXG5leHBvcnQgY2xhc3MgQ2FtZXJhIGltcGxlbWVudHMgU2VyaWFsaXplYWJsZSB7XG5cblx0c29ydGVkSGl0dGFibGVzOiBIaXR0YWJsZVtdO1xuXG5cdHZpZXdwb3J0SGVpZ2h0Om51bWJlcjtcblx0dmlld3BvcnRXaWR0aDpudW1iZXI7XG5cdGxlbnNSYWRpdXM6bnVtYmVyO1xuXG5cdG9yaWdpbjpWZWN0b3I7XG5cdGhvcml6b250YWw6VmVjdG9yO1xuXHR2ZXJ0aWNhbDpWZWN0b3I7XG5cdGxvd2VyTGVmdENvcm5lcjpWZWN0b3I7XG5cdHU6VmVjdG9yO1xuXHR2OlZlY3RvcjtcblxuXHRzdGF0aWMgZGVzZXJpYWxpemUobzpTZXJpYWxpemVPZjxDYW1lcmE+KSB7XG5cdFx0cmV0dXJuIG5ldyBDYW1lcmEoXG5cdFx0XHRkZXNlcmlhbGl6ZShvLmxvb2tGcm9tKSxcblx0XHRcdGRlc2VyaWFsaXplKG8ubG9va0F0KSxcblx0XHRcdGRlc2VyaWFsaXplKG8udlVwKSxcblx0XHRcdG8udkZvdixcblx0XHRcdG8uYXNwZWN0UmF0aW8sXG5cdFx0XHRvLmFwZXJ0dXJlLFxuXHRcdFx0by5mb2N1c0Rpc3QsXG5cdFx0KVxuXHR9XG5cblx0c2VyaWFsaXplKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHR0eXBlOiAnQ2FtZXJhJyxcblx0XHRcdGxvb2tGcm9tOiB0aGlzLmxvb2tGcm9tLnNlcmlhbGl6ZSgpLFxuXHRcdFx0bG9va0F0OiB0aGlzLmxvb2tBdC5zZXJpYWxpemUoKSxcblx0XHRcdHZVcDogdGhpcy52VXAuc2VyaWFsaXplKCksXG5cdFx0XHR2Rm92OiB0aGlzLnZGb3YsXG5cdFx0XHRhc3BlY3RSYXRpbzogdGhpcy5hc3BlY3RSYXRpbyxcblx0XHRcdGFwZXJ0dXJlOiB0aGlzLmFwZXJ0dXJlLFxuXHRcdFx0Zm9jdXNEaXN0OiB0aGlzLmZvY3VzRGlzdCxcblx0XHR9O1xuXHR9XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHVibGljIGxvb2tGcm9tOlZlY3Rvcixcblx0XHRwcml2YXRlIGxvb2tBdDpWZWN0b3IsXG5cdFx0cHJpdmF0ZSB2VXA6VmVjdG9yLFxuXHRcdHByaXZhdGUgdkZvdjpudW1iZXIsXG5cdFx0cHJpdmF0ZSBhc3BlY3RSYXRpbzpudW1iZXIsXG5cdFx0cHJpdmF0ZSBhcGVydHVyZTogbnVtYmVyLFxuXHRcdHByaXZhdGUgZm9jdXNEaXN0OiBudW1iZXIsXG5cdCkge1xuXHRcdHRoaXMuaW5pdCgpO1xuXHR9XG5cblx0bW92ZVJpZ2h0KCkge1xuXHRcdHRoaXMubG9va0Zyb20ueiArPSAuNTtcblx0XHR0aGlzLmluaXQoKTtcblx0fVxuXG5cdG1vdmVMZWZ0KCkge1xuXHRcdHRoaXMubG9va0Zyb20ueiAtPSAuNTtcblx0XHR0aGlzLmluaXQoKTtcblx0fVxuXG5cdG1vdmVVcCgpIHtcblx0XHR0aGlzLmxvb2tGcm9tLnkgKz0gLjU7XG5cdFx0dGhpcy5pbml0KCk7XG5cdH1cblxuXHRtb3ZlRG93bigpIHtcblx0XHR0aGlzLmxvb2tGcm9tLnkgLT0gLjU7XG5cdFx0dGhpcy5pbml0KCk7XG5cdH1cblxuXHR6b29tSW4oKSB7XG5cdFx0dGhpcy52Rm92IC09IC41O1xuXHRcdHRoaXMuaW5pdCgpO1xuXHR9XG5cblx0em9vbU91dCgpIHtcblx0XHR0aGlzLnZGb3YgKz0gLjU7XG5cdFx0dGhpcy5pbml0KCk7XG5cdH1cblxuXHRwcml2YXRlIGluaXQoKSB7XG5cdFx0bGV0IHRoZXRhID0gZGVncmVlc1RvUmFkaWFucyh0aGlzLnZGb3YpO1xuXHRcdGxldCBoID0gTWF0aC50YW4odGhldGEvMik7XG5cdFx0dGhpcy52aWV3cG9ydEhlaWdodCA9IDIgKiBoO1xuXHRcdHRoaXMudmlld3BvcnRXaWR0aCA9IHRoaXMuYXNwZWN0UmF0aW8gKiB0aGlzLnZpZXdwb3J0SGVpZ2h0O1xuXG5cdFx0bGV0IHcgPSBWZWN0b3IudW5pdFZlY3Rvcih0aGlzLmxvb2tGcm9tLnN1YnRyYWN0KHRoaXMubG9va0F0KSk7XG5cdFx0dGhpcy51ID0gVmVjdG9yLnVuaXRWZWN0b3IoVmVjdG9yLmNyb3NzKHRoaXMudlVwLCB3KSk7XG5cdFx0dGhpcy52ID0gVmVjdG9yLmNyb3NzKHcsIHRoaXMudSk7XG5cblx0XHR0aGlzLmxlbnNSYWRpdXMgPSB0aGlzLmFwZXJ0dXJlLzI7XG5cblx0XHR0aGlzLm9yaWdpbiA9IHRoaXMubG9va0Zyb207XG5cdFx0dGhpcy5ob3Jpem9udGFsID0gdGhpcy51Lm11bHRpcGx5TnVtKHRoaXMudmlld3BvcnRXaWR0aCkubXVsdGlwbHlOdW0odGhpcy5mb2N1c0Rpc3QpO1xuXHRcdHRoaXMudmVydGljYWwgPSB0aGlzLnYubXVsdGlwbHlOdW0odGhpcy52aWV3cG9ydEhlaWdodCkubXVsdGlwbHlOdW0odGhpcy5mb2N1c0Rpc3QpO1xuXHRcdHRoaXMubG93ZXJMZWZ0Q29ybmVyID0gdGhpcy5vcmlnaW5cblx0XHRcdC5zdWJ0cmFjdCh0aGlzLmhvcml6b250YWwuZGl2aWRlTnVtKDIpKVxuXHRcdFx0LnN1YnRyYWN0KHRoaXMudmVydGljYWwuZGl2aWRlTnVtKDIpKVxuXHRcdFx0LnN1YnRyYWN0KFxuXHRcdFx0XHR3Lm11bHRpcGx5TnVtKHRoaXMuZm9jdXNEaXN0KVxuXHRcdFx0KTtcblx0fVxuXG5cdGdldFJheShzOm51bWJlciwgdDpudW1iZXIpIHtcblx0XHRsZXQgcmQgPSByYW5kb21JblVuaXREaXNrKCkubXVsdGlwbHlOdW0odGhpcy5sZW5zUmFkaXVzKTtcblx0XHRsZXQgb2Zmc2V0ID0gdGhpcy51Lm11bHRpcGx5TnVtKHJkLngpXG5cdFx0XHQuYWRkKHRoaXMudi5tdWx0aXBseU51bShyZC55KSlcblxuXHRcdHJldHVybiBuZXcgUmF5KFxuXHRcdFx0dGhpcy5vcmlnaW4uYWRkKG9mZnNldCksXG5cdFx0XHR0aGlzLmxvd2VyTGVmdENvcm5lclxuXHRcdFx0XHQuYWRkKHRoaXMuaG9yaXpvbnRhbC5tdWx0aXBseU51bShzKSlcblx0XHRcdFx0LmFkZCh0aGlzLnZlcnRpY2FsLm11bHRpcGx5TnVtKHQpKVxuXHRcdFx0XHQuc3VidHJhY3QodGhpcy5vcmlnaW4pXG5cdFx0XHRcdC5zdWJ0cmFjdChvZmZzZXQpXG5cdFx0KTtcblxuXHR9XG59XG4iLCJpbXBvcnQgeyBIaXR0YWJsZUxpc3QgfSBmcm9tICcuL0hpdHRhYmxlTGlzdCc7XG5pbXBvcnQgeyBEaWVsZWN0cmljLCBMYW1iZXJ0aWFuLCBMaWdodCwgTWF0ZXJpYWwsIE1ldGFsIH0gZnJvbSAnLi9NYXRlcmlhbCc7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuL1ZlY3Rvcic7XG5pbXBvcnQgeyBTcGhlcmUgfSBmcm9tICcuL1NwaGVyZSc7XG5pbXBvcnQgeyByYW5kb21JblJhbmdlIH0gZnJvbSAnLi9VdGlscyc7XG5cbmV4cG9ydCBjbGFzcyBSYW5kb21TY2VuZSB7XG5cdHdvcmxkID0gbmV3IEhpdHRhYmxlTGlzdCgpO1xuXG5cdGdyb3VuZE1hdCA9IG5ldyBMYW1iZXJ0aWFuKG5ldyBWZWN0b3IoLjUsIC41LCAuNSkpO1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMud29ybGQuYWRkKG5ldyBTcGhlcmUobmV3IFZlY3RvcigwLCAtMTAwMCwwKSwgMTAwMCwgdGhpcy5ncm91bmRNYXQpKTtcblxuXHRcdGNvbnN0IGJhbGxzID0gNTtcblx0XHRmb3IgKGxldCBhID0gLWJhbGxzOyBhIDwgYmFsbHM7IGErKykge1xuXHRcdFx0Zm9yIChsZXQgYiA9IC1iYWxsczsgYiA8IGJhbGxzOyBiKyspIHtcblx0XHRcdFx0bGV0IGF1dG9DaG9vc2VNYXQgPSBNYXRoLnJhbmRvbSgpO1xuXHRcdFx0XHRsZXQgY2VudGVyID0gbmV3IFZlY3RvcihhICsgMC45Kk1hdGgucmFuZG9tKCksIDAuMiwgYiArIDAuOSpNYXRoLnJhbmRvbSgpKTtcblxuXHRcdFx0XHRpZiAoKGNlbnRlci5zdWJ0cmFjdChuZXcgVmVjdG9yKDQsIDAuMiwgMCkpKS5sZW5ndGgoKSA+IDAuOSkge1xuXHRcdFx0XHRcdGxldCByID0gcmFuZG9tSW5SYW5nZSguMDEsIC40KTtcblxuXHRcdFx0XHRcdGlmIChhdXRvQ2hvb3NlTWF0IDwgMC44KSB7XG5cdFx0XHRcdFx0XHQvLyBkaWZmdXNlXG5cdFx0XHRcdFx0XHRsZXQgYWxiZWRvID0gVmVjdG9yLnJhbmRvbSgpLm11bHRpcGx5KFZlY3Rvci5yYW5kb20oKSk7XG5cdFx0XHRcdFx0XHRsZXQgc3BoZXJlTWF0ZXJpYWwgPSBuZXcgTGFtYmVydGlhbihhbGJlZG8pO1xuXHRcdFx0XHRcdFx0dGhpcy53b3JsZC5hZGQobmV3IFNwaGVyZShjZW50ZXIsIHIsIHNwaGVyZU1hdGVyaWFsKSk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChhdXRvQ2hvb3NlTWF0IDwgMC45KSB7XG5cdFx0XHRcdFx0XHQvLyBtZXRhbFxuXHRcdFx0XHRcdFx0bGV0IGFsYmVkbyA9IFZlY3Rvci5yYW5kb21JblJhbmdlKDAuNSwgMSk7XG5cdFx0XHRcdFx0XHRsZXQgZnV6eiA9IHJhbmRvbUluUmFuZ2UoMCwgMC41KTtcblx0XHRcdFx0XHRcdGxldCBzcGhlcmVNYXRlcmlhbCA9IG5ldyBNZXRhbChhbGJlZG8sIGZ1enopO1xuXHRcdFx0XHRcdFx0dGhpcy53b3JsZC5hZGQobmV3IFNwaGVyZShjZW50ZXIsIHIsIHNwaGVyZU1hdGVyaWFsKSk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChhdXRvQ2hvb3NlTWF0IDwgMC45NSkge1xuXHRcdFx0XHRcdFx0Ly8gbGlnaHRcblx0XHRcdFx0XHRcdGxldCBzcGhlcmVNYXRlcmlhbCA9IG5ldyBMaWdodCgpO1xuXHRcdFx0XHRcdFx0dGhpcy53b3JsZC5hZGQobmV3IFNwaGVyZShjZW50ZXIsIHIsIHNwaGVyZU1hdGVyaWFsKSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdC8vIGdsYXNzXG5cdFx0XHRcdFx0XHRsZXQgc3BoZXJlTWF0ZXJpYWwgPSBuZXcgRGllbGVjdHJpYygxLjUpO1xuXHRcdFx0XHRcdFx0dGhpcy53b3JsZC5hZGQobmV3IFNwaGVyZShjZW50ZXIsIHIsIHNwaGVyZU1hdGVyaWFsKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bGV0IG1hdGVyaWFsMSA9IG5ldyBEaWVsZWN0cmljKDEuNSk7XG5cdFx0dGhpcy53b3JsZC5hZGQobmV3IFNwaGVyZShuZXcgVmVjdG9yKDAsIDEsIDApLCByYW5kb21JblJhbmdlKC4zLCAxLjUpLCBtYXRlcmlhbDEpKTtcblxuXHRcdGxldCBtYXRlcmlhbDIgPSBuZXcgTGFtYmVydGlhbihuZXcgVmVjdG9yKDAuNCwgMC4yLCAwLjEpKTtcblx0XHR0aGlzLndvcmxkLmFkZChuZXcgU3BoZXJlKG5ldyBWZWN0b3IoLTQsIDEsIDApLCByYW5kb21JblJhbmdlKC4zLCAxLjUpLCBtYXRlcmlhbDIpKTtcblxuXHRcdGxldCBtYXRlcmlhbDMgPSBuZXcgTWV0YWwobmV3IFZlY3RvcigwLjcsIDAuNiwgMC41KSwgMC4wKTtcblx0XHR0aGlzLndvcmxkLmFkZChuZXcgU3BoZXJlKG5ldyBWZWN0b3IoNCwgMSwgMCksIHJhbmRvbUluUmFuZ2UoLjMsIDEuNSksIG1hdGVyaWFsMykpO1xuXHR9XG59XG4iLCJjbGFzcyBTdGF0cyB7XG5cblx0c3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0ZWw6SFRNTEVsZW1lbnQ7XG5cdG1lc3NhZ2UgPSBgVXNlIGFycm93IGtleXMgdG8gbW92ZSBjYW1lcmEsICdvJyAtIHpvb20gb3V0LCAnaScgLSB6b29tIGluYDtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInByZVwiKTtcblx0XHR0aGlzLmVsLmlubmVyVGV4dCA9IHRoaXMubWVzc2FnZTtcblx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZWwpO1xuXHR9XG5cblx0cmVzZXQoKSB7XG5cdFx0dGhpcy5zdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHR9XG5cblx0c2V0KFxuXHRcdHRvdGFsUGl4ZWxzOm51bWJlcixcblx0XHRyZW5kZXJlZFBpeGVsczpudW1iZXIsXG5cdFx0cG9pbnRzUGVyRnJhbWU6bnVtYmVyLFxuXHQgICAgKSB7XG5cdFx0bGV0IHBlcmNlbnRhZ2UgPSBNYXRoLnJvdW5kKHJlbmRlcmVkUGl4ZWxzL3RvdGFsUGl4ZWxzICogMTAwKTtcblx0XHRsZXQgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cdFx0bGV0IGR1cmF0aW9uID0gbm93IC0gdGhpcy5zdGFydDtcblxuXHRcdGxldCBlbGFwc2VkTWludXRlcyA9IE1hdGguZmxvb3IoZHVyYXRpb24gLyAoMTAwMCo2MCkpO1xuXHRcdGxldCBlbGFwc2VkU2Vjb25kcyA9IE1hdGguZmxvb3IoKGR1cmF0aW9uIC0gKGVsYXBzZWRNaW51dGVzKjEwMDAqNjApKSAvIDEwMDApO1xuXG5cdFx0dGhpcy5lbC5pbm5lclRleHQgPSBgJHt0aGlzLm1lc3NhZ2V9IHx8ICR7cGVyY2VudGFnZX0lIHx8ICR7ZWxhcHNlZE1pbnV0ZXN9OiR7ZWxhcHNlZFNlY29uZHN9IGVsYXBzZWRgO1xuXHR9XG59XG5cbmV4cG9ydCBjb25zdCBzdGF0cyA9IG5ldyBTdGF0cygpO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gV29ya2VyX2ZuKCkge1xuICByZXR1cm4gbmV3IFdvcmtlcihfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwibWFpbi53b3JrZXIuanNcIik7XG59XG4iLCJleHBvcnQgY2xhc3MgQ29uZmlnIHtcblx0c2FtcGxlc1BlclBpeGVsID0gMjA7XG5cdG1heERlcHRoID0gMjA7XG5cdGltYWdlV2lkdGggPSAxMDAwO1xuXHRpbWFnZUhlaWdodDpudW1iZXI7XG5cdGFzcGVjdFJhdGlvID0gMTYvOTtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLmltYWdlSGVpZ2h0ID0gTWF0aC5yb3VuZCh0aGlzLmltYWdlV2lkdGggLyB0aGlzLmFzcGVjdFJhdGlvKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi9WZWN0b3InO1xuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSAnLi9DYW1lcmEnO1xuaW1wb3J0IHsgUmFuZG9tU2NlbmUgfSBmcm9tICcuL1JhbmRvbVNjZW5lJztcbmltcG9ydCB7IHN0YXRzIH0gZnJvbSAnLi9TdGF0cyc7XG5pbXBvcnQgV29ya2VyIGZyb20gJy4vUmVuZGVyZXJTbGF2ZS53b3JrZXInO1xuaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSAnLi9Db25maWcnO1xuXG5jb25zdCBsb29rRnJvbSA9IG5ldyBWZWN0b3IoMTMsIDIsIDMpO1xuY29uc3QgbG9va0F0ID0gbmV3IFZlY3RvcigwLCAwLCAwKTtcbmNvbnN0IHZ1cCA9IG5ldyBWZWN0b3IoMCwgMSwgMCk7XG5jb25zdCBkaXN0VG9Gb2N1cyA9IDEwO1xuY29uc3QgYXBlcnR1cmUgPSAuMTtcblxuY29uc3Qgd29ya2VycyA9IDg7XG5cbmNvbnN0IGNvbmZpZyA9IG5ldyBDb25maWcoKTtcblxuZXhwb3J0IGNsYXNzIFJlbmRlcmVyIHtcblx0c3RhdGljIGF2YWlsYWJsZVdvcmtlcnM6IFdvcmtlcltdID0gW107XG5cdHN0YXRpYyB3b3JraW5nV29ya2VyczogV29ya2VyW10gPSBbXTtcblxuXHRzdGF0aWMgY29uZmlnID0gY29uZmlnO1xuXHRzdGF0aWMgd29ybGRCdWZmZXI6IFNoYXJlZEFycmF5QnVmZmVyO1xuXHRzdGF0aWMgY2FtZXJhQnVmZmVyOiBTaGFyZWRBcnJheUJ1ZmZlcjtcblx0c3RhdGljIHJlbmRlcmVkUGl4ZWxzID0gMDtcblx0c3RhdGljIGNhbWVyYSA9IG5ldyBDYW1lcmEoXG5cdFx0bG9va0Zyb20sXG5cdFx0bG9va0F0LFxuXHRcdHZ1cCxcblx0XHQyMCxcblx0XHRjb25maWcuYXNwZWN0UmF0aW8sXG5cdFx0YXBlcnR1cmUsXG5cdFx0ZGlzdFRvRm9jdXMsXG5cdCk7XG5cdHByb3RlY3RlZCBzdGF0aWMgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcblx0cHJvdGVjdGVkIHN0YXRpYyBpbWFnZURhdGE6IEltYWdlRGF0YTtcblx0cHJvdGVjdGVkIHN0YXRpYyBkYXRhOiBVaW50OENsYW1wZWRBcnJheTtcblx0cHJvdGVjdGVkIHN0YXRpYyBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcblx0Ly8gQ2FtZXJhXG5cdHByb3RlY3RlZCBzdGF0aWMgZmlyc3RSdW4gPSB0cnVlO1xuXHRwcm90ZWN0ZWQgc3RhdGljIHJlbmRlclBvaW50czogW251bWJlciwgbnVtYmVyXVtdID0gW107XG5cdHByb3RlY3RlZCBzdGF0aWMgdGVtcGxhdGVQb2ludHM6IFtudW1iZXIsIG51bWJlcl1bXSA9IFtdO1xuXHRwcm90ZWN0ZWQgc3RhdGljIHdvcmxkID0gbmV3IFJhbmRvbVNjZW5lKCkud29ybGQ7XG5cblx0c3RhdGljIGNyZWF0ZUNhbnZhcygpIHtcblx0XHRpZiAodGhpcy5jYW52YXMpIHJldHVybjtcblxuXHRcdHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cdFx0dGhpcy5jYW52YXMuc2V0QXR0cmlidXRlKCdzdHlsZScsICd0cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpJyk7XG5cdFx0dGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG5cdFx0dGhpcy5jYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGAke3RoaXMuY29uZmlnLmltYWdlV2lkdGh9cHhgKTtcblx0XHR0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGAke3RoaXMuY29uZmlnLmltYWdlSGVpZ2h0fXB4YCk7XG5cblx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKTtcblxuXHRcdHRoaXMuaW1hZ2VEYXRhID0gdGhpcy5jdHguY3JlYXRlSW1hZ2VEYXRhKHRoaXMuY29uZmlnLmltYWdlV2lkdGgsIHRoaXMuY29uZmlnLmltYWdlSGVpZ2h0KTtcblx0XHR0aGlzLmRhdGEgPSB0aGlzLmltYWdlRGF0YS5kYXRhO1xuXG5cdFx0Zm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmNvbmZpZy5pbWFnZUhlaWdodDsgKytqKSB7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29uZmlnLmltYWdlV2lkdGg7ICsraSkge1xuXHRcdFx0XHR0aGlzLnRlbXBsYXRlUG9pbnRzLnB1c2goW2ksIGpdKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLmNhbWVyYUJ1ZmZlciA9IHRoaXMuanNvblRvU2hhcmVkQXJyYXlCdWZmZXIodGhpcy5jYW1lcmEuc2VyaWFsaXplKCkpO1xuXHRcdHRoaXMud29ybGRCdWZmZXIgPSB0aGlzLmpzb25Ub1NoYXJlZEFycmF5QnVmZmVyKHRoaXMud29ybGQuc2VyaWFsaXplKCkpO1xuXHR9XG5cblx0c3RhdGljIGpzb25Ub1NoYXJlZEFycmF5QnVmZmVyKG9iajogYW55KSB7XG5cdFx0bGV0IHN0ciA9IEpTT04uc3RyaW5naWZ5KG9iaik7XG5cdFx0bGV0IHNoYXJlZEFycmF5QnVmZmVyID0gbmV3IFNoYXJlZEFycmF5QnVmZmVyKHN0ci5sZW5ndGggKiAyKTtcblx0XHRsZXQgYnVmVmlldyA9IG5ldyBVaW50MTZBcnJheShzaGFyZWRBcnJheUJ1ZmZlcik7XG5cdFx0Zm9yIChsZXQgaSA9IDAsIHN0ckxlbiA9IHN0ci5sZW5ndGg7IGkgPCBzdHJMZW47IGkrKykge1xuXHRcdFx0YnVmVmlld1tpXSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuXHRcdH1cblx0XHRyZXR1cm4gc2hhcmVkQXJyYXlCdWZmZXI7XG5cdH1cblxuXHRzdGF0aWMgc21hcnRSZW5kZXIoKSB7XG5cdFx0dGhpcy5jYW1lcmFCdWZmZXIgPSB0aGlzLmpzb25Ub1NoYXJlZEFycmF5QnVmZmVyKHRoaXMuY2FtZXJhLnNlcmlhbGl6ZSgpKTtcblxuXHRcdGxldCBjYW5jZWwgPSAoKSA9PiBQcm9taXNlLnJlc29sdmUoKTtcblx0XHRsZXQgY2FuY2VsZWQgPSBmYWxzZTtcblxuXHRcdGFzeW5jIGZ1bmN0aW9uIHJ1bigpIHtcblx0XHRcdGxldCByZW5kZXIgPSBSZW5kZXJlci5xdWlja1JlbmRlcigpO1xuXHRcdFx0Y2FuY2VsID0gcmVuZGVyLmNhbmNlbDtcblx0XHRcdGF3YWl0IHJlbmRlci5hY3Rpb247XG5cblx0XHRcdHJlbmRlciA9IFJlbmRlcmVyLmZ1bGxSZW5kZXIoKTtcblx0XHRcdGNhbmNlbCA9IHJlbmRlci5jYW5jZWw7XG5cdFx0XHRhd2FpdCByZW5kZXIuYWN0aW9uO1xuXHRcdH1cblxuXHRcdHJ1bigpO1xuXG5cdFx0cmV0dXJuIGFzeW5jICgpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKCdjYW5jZWwnKTtcblx0XHRcdGNhbmNlbGVkID0gdHJ1ZTtcblx0XHRcdHJldHVybiBjYW5jZWwoKTtcblx0XHR9O1xuXHR9XG5cblx0c3RhdGljIGdldFdvcmtlcigpIHtcblx0XHRsZXQgd29ya2VyID0gdGhpcy5hdmFpbGFibGVXb3JrZXJzLnBvcCgpO1xuXHRcdGlmKCF3b3JrZXIpIHtcblx0XHRcdHdvcmtlciA9IG5ldyBXb3JrZXIoKTtcblx0XHR9XG5cblx0XHR0aGlzLndvcmtpbmdXb3JrZXJzLnB1c2god29ya2VyKTtcblx0XHRyZXR1cm4gd29ya2VyO1xuXHR9XG5cblx0c3RhdGljIHN0b3BXb3JrZXJzKCkge1xuXHRcdHRoaXMud29ya2luZ1dvcmtlcnMuZm9yRWFjaCh3ID0+IHcucG9zdE1lc3NhZ2Uoe3Rlcm1pbmF0ZTp0cnVlfSkpO1xuXHRcdHRoaXMuYXZhaWxhYmxlV29ya2Vycy5wdXNoKC4uLnRoaXMud29ya2luZ1dvcmtlcnMpO1xuXHRcdHRoaXMud29ya2luZ1dvcmtlcnMgPSBbXTtcblx0fVxuXG5cdHN0YXRpYyBhc3luYyBzdGFydFdvcmtlcihwb2ludHM6IFtudW1iZXIsIG51bWJlcl1bXSwgc2FtcGxlc1BlclBpeGVsOm51bWJlciwgbWF4RGVwdGg6bnVtYmVyKSB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlID0+IHtcblxuXHRcdFx0Y29uc3Qgd29ya2VyID0gdGhpcy5nZXRXb3JrZXIoKTtcblxuXHRcdFx0d29ya2VyLnBvc3RNZXNzYWdlKHtcblx0XHRcdFx0cG9pbnRzLFxuXHRcdFx0XHRzYW1wbGVzUGVyUGl4ZWwsXG5cdFx0XHRcdG1heERlcHRoLFxuXHRcdFx0XHR3b3JsZDogdGhpcy53b3JsZEJ1ZmZlcixcblx0XHRcdFx0Y2FtZXJhOiB0aGlzLmNhbWVyYUJ1ZmZlcixcblx0XHRcdH0pO1xuXG5cdFx0XHR3b3JrZXIub25tZXNzYWdlID0gKHsgZGF0YSB9OiBNZXNzYWdlRXZlbnQpID0+IHtcblx0XHRcdFx0Y29uc3QgeyBmcm9tLCByZXN1bHQsIGRvbmUgfSA9IGRhdGE7XG5cdFx0XHRcdGNvbnN0IFtbaSwgal1dID0gZnJvbTtcblxuXHRcdFx0XHRjb25zdCBvZmZzZXQgPSAoaiAqIHRoaXMuY29uZmlnLmltYWdlV2lkdGggKiA0KSArIChpICogNCk7XG5cdFx0XHRcdHRoaXMuZGF0YS5zZXQocmVzdWx0LCBvZmZzZXQpO1xuXG5cdFx0XHRcdHRoaXMucmVuZGVyZWRQaXhlbHMgKz0gZnJvbS5sZW5ndGg7XG5cdFx0XHRcdHN0YXRzLnNldCh0aGlzLnJlbmRlclBvaW50cy5sZW5ndGgsIHRoaXMucmVuZGVyZWRQaXhlbHMsIDApO1xuXHRcdFx0XHR0aGlzLmN0eC5wdXRJbWFnZURhdGEodGhpcy5pbWFnZURhdGEsIDAsIDApO1xuXG5cdFx0XHRcdGlmKGRvbmUpIHJlc29sdmUoKTtcblx0XHRcdH07XG5cdFx0fSkpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHN0YXRpYyBhc3luYyB3YWl0KHRpbWU6IG51bWJlciA9IDApIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZSkpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHN0YXRpYyBxdWlja1JlbmRlcigpIHtcblx0XHRyZXR1cm4gdGhpcy5yZW5kZXIoMSwgMywgZmFsc2UpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHN0YXRpYyBmdWxsUmVuZGVyKCkge1xuXHRcdHJldHVybiB0aGlzLnJlbmRlcigxMCwgMjAsIHRydWUpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHN0YXRpYyByZW5kZXIoc2FtcGxlc1BlclBpeGVsOiBudW1iZXIsIG1heERlcHRoOiBudW1iZXIsIHNob3dTdGF0cyA9IGZhbHNlKSB7XG5cdFx0bGV0IGNhbmNlbGxlZCA9IGZhbHNlO1xuXHRcdHRoaXMuZmlyc3RSdW4gPSBmYWxzZTtcblxuXHRcdHN0YXRzLnJlc2V0KCk7XG5cdFx0dGhpcy5yZW5kZXJlZFBpeGVscyA9IDA7XG5cblx0XHRjb25zdCByZW5kZXIgPSBhc3luYyAoKSA9PiB7XG5cblx0XHRcdHRoaXMucmVuZGVyUG9pbnRzID0gdGhpcy50ZW1wbGF0ZVBvaW50cztcblxuXHRcdFx0Y29uc3QgZnJhbWVMZW5ndGggPSAxMDAwIC8gMjQ7XG5cblx0XHRcdGNvbnNvbGUubG9nKCdyZW5kZXIgZnJhbWVMZW5ndGgnLCBmcmFtZUxlbmd0aCk7XG5cblx0XHRcdHN0YXRzLnNldCh0aGlzLnJlbmRlclBvaW50cy5sZW5ndGgsIDAsIDApO1xuXG5cdFx0XHRjb25zdCBwb2ludHNQZXJXb3JrZXIgPSB0aGlzLnJlbmRlclBvaW50cy5sZW5ndGggLyB3b3JrZXJzO1xuXG5cdFx0XHRjb25zdCB3b3JrOiBQcm9taXNlPHZvaWQ+W10gPSBbXTtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB3b3JrZXJzOyBpKyspIHtcblx0XHRcdFx0d29yay5wdXNoKFxuXHRcdFx0XHRcdHRoaXMuc3RhcnRXb3JrZXIoXG5cdFx0XHRcdFx0XHR0aGlzLnJlbmRlclBvaW50cy5zbGljZShpICogcG9pbnRzUGVyV29ya2VyLCBpICogcG9pbnRzUGVyV29ya2VyICsgcG9pbnRzUGVyV29ya2VyKSxcblx0XHRcdFx0XHRcdHNhbXBsZXNQZXJQaXhlbCxcblx0XHRcdFx0XHRcdG1heERlcHRoLFxuXHRcdFx0XHRcdClcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIFByb21pc2UuYWxsKHdvcmspO1xuXHRcdH07XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0YWN0aW9uOiByZW5kZXIoKSxcblx0XHRcdGNhbmNlbDogYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRjb25zb2xlLmxvZygnY2FuY2VsaW5nJyk7XG5cblx0XHRcdFx0dGhpcy5zdG9wV29ya2VycygpO1xuXG5cdFx0XHRcdHRoaXMuY3R4LnB1dEltYWdlRGF0YSh0aGlzLmltYWdlRGF0YSwgMCwgMCk7XG5cdFx0XHRcdGF3YWl0IHRoaXMud2FpdCgxMDAwIC8gMjQpO1xuXHRcdFx0XHRjYW5jZWxsZWQgPSB0cnVlO1xuXHRcdFx0fSxcblx0XHR9O1xuXG5cdH1cbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi9SZW5kZXJlcic7XG5cbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmM6RnVuY3Rpb24sIGludGVydmFsOm51bWJlcikge1xuXHRsZXQgY2FsbGVkID0gMDtcblx0cmV0dXJuICguLi5hcmdzOmFueVtdKSA9PiB7XG5cdFx0bGV0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHRcdGlmKG5vdyAtIGNhbGxlZCA+IGludGVydmFsKSB7XG5cdFx0XHRmdW5jLmFwcGx5KGZ1bmMsIGFyZ3MpO1xuXHRcdFx0Y29uc29sZS5sb2coJ3llcycsIG5vdyAtIGNhbGxlZCk7XG5cdFx0XHRjYWxsZWQgPSBub3c7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUubG9nKCdub3QnKTtcblx0XHR9XG5cdH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcnVuKCkge1xuXG5cdFJlbmRlcmVyLmNyZWF0ZUNhbnZhcygpO1xuXG5cdGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRlYm91bmNlKG9uS2V5cHJlc3MsIDEwMCkpO1xuXG5cdGxldCBjYW5jZWxsZXI6KCk9PlByb21pc2U8YW55PjtcblxuXHRhc3luYyBmdW5jdGlvbiBvbktleXByZXNzKGU6S2V5Ym9hcmRFdmVudCkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRzd2l0Y2ggKGUua2V5Q29kZSkge1xuXHRcdFx0Y2FzZSAzNzpcblx0XHRcdFx0YXdhaXQgY2FuY2VsbGVyKCk7XG5cdFx0XHRcdFJlbmRlcmVyLmNhbWVyYS5tb3ZlTGVmdCgpO1xuXHRcdFx0XHRjYW5jZWxsZXIgPSBSZW5kZXJlci5zbWFydFJlbmRlcigpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgMzk6XG5cdFx0XHRcdGF3YWl0IGNhbmNlbGxlcigpO1xuXHRcdFx0XHRSZW5kZXJlci5jYW1lcmEubW92ZVJpZ2h0KCk7XG5cdFx0XHRcdGNhbmNlbGxlciA9IFJlbmRlcmVyLnNtYXJ0UmVuZGVyKCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAzODpcblx0XHRcdFx0YXdhaXQgY2FuY2VsbGVyKCk7XG5cdFx0XHRcdFJlbmRlcmVyLmNhbWVyYS5tb3ZlVXAoKTtcblx0XHRcdFx0Y2FuY2VsbGVyID0gUmVuZGVyZXIuc21hcnRSZW5kZXIoKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDQwOlxuXHRcdFx0XHRhd2FpdCBjYW5jZWxsZXIoKTtcblx0XHRcdFx0UmVuZGVyZXIuY2FtZXJhLm1vdmVEb3duKCk7XG5cdFx0XHRcdGNhbmNlbGxlciA9IFJlbmRlcmVyLnNtYXJ0UmVuZGVyKCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSA3Mzpcblx0XHRcdFx0YXdhaXQgY2FuY2VsbGVyKCk7XG5cdFx0XHRcdFJlbmRlcmVyLmNhbWVyYS56b29tSW4oKTtcblx0XHRcdFx0Y2FuY2VsbGVyID0gUmVuZGVyZXIuc21hcnRSZW5kZXIoKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDc5OlxuXHRcdFx0XHRhd2FpdCBjYW5jZWxsZXIoKTtcblx0XHRcdFx0UmVuZGVyZXIuY2FtZXJhLnpvb21PdXQoKTtcblx0XHRcdFx0Y2FuY2VsbGVyID0gUmVuZGVyZXIuc21hcnRSZW5kZXIoKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cblx0Y2FuY2VsbGVyID0gUmVuZGVyZXIuc21hcnRSZW5kZXIoKTtcbn1cblxucnVuKCk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///363\n")})();